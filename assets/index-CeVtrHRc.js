var t=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),c=(t,a,s,c)=>{if(a&&typeof a==`object`||typeof a==`function`)for(var l=i(a),u=0,d=l.length,f;u<d;u++)f=l[u],!o.call(t,f)&&f!==s&&n(t,f,{get:(t=>a[t]).bind(null,f),enumerable:!(c=r(a,f))||c.enumerable});return t},l=(r,i,o)=>(o=r==null?{}:t(a(r)),c(i||!r||!r.__esModule?n(o,`default`,{value:r,enumerable:!0}):o,r)),u=(t=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(t,{get:(t,n)=>(typeof require<`u`?require:t)[n]}):t)(function(t){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+t+"\" in an environment that doesn't expose the `require` function.")});(function(){let t=document.createElement(`link`).relList;if(t&&t.supports&&t.supports(`modulepreload`))return;for(let t of document.querySelectorAll(`link[rel="modulepreload"]`))r(t);new MutationObserver(t=>{for(let n of t){if(n.type!==`childList`)continue;for(let t of n.addedNodes)t.tagName===`LINK`&&t.rel===`modulepreload`&&r(t)}}).observe(document,{childList:!0,subtree:!0});function n(t){let n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin===`use-credentials`?n.credentials=`include`:t.crossOrigin===`anonymous`?n.credentials=`omit`:n.credentials=`same-origin`,n}function r(t){if(t.ep)return;t.ep=!0;let r=n(t);fetch(t.href,r)}})();var d=l(s(((exports,n)=>{
/*! p5.js v1.11.10 August 23, 2025 */
(function(r){typeof exports==`object`&&n!==void 0?n.exports=r():typeof define==`function`&&define.amd?define([],r):(typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this).p5=r()})(function(){var t;return function t(n,r,i){function a(s,c){if(!r[s]){if(!n[s]){var l=typeof u==`function`&&u;if(!c&&l)return l(s,!0);if(o)return o(s,!0);throw(c=Error(`Cannot find module '`+s+`'`)).code=`MODULE_NOT_FOUND`,c}l=r[s]={exports:{}},n[s][0].call(l.exports,function(t){return a(n[s][1][t]||t)},l,l.exports,t,n,r,i)}return r[s].exports}for(var o=typeof u==`function`&&u,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,n,r){r.byteLength=function(t){var t=u(t),n=t[0],t=t[1];return 3*(n+t)/4-t},r.toByteArray=function(t){var n,r,i=u(t),s=i[0],i=i[1],c=new o(function(t,n){return 3*(t+n)/4-n}(s,i)),l=0,d=0<i?s-4:s;for(r=0;r<d;r+=4)n=a[t.charCodeAt(r)]<<18|a[t.charCodeAt(r+1)]<<12|a[t.charCodeAt(r+2)]<<6|a[t.charCodeAt(r+3)],c[l++]=n>>16&255,c[l++]=n>>8&255,c[l++]=255&n;return i===2&&(n=a[t.charCodeAt(r)]<<2|a[t.charCodeAt(r+1)]>>4,c[l++]=255&n),i===1&&(n=a[t.charCodeAt(r)]<<10|a[t.charCodeAt(r+1)]<<4|a[t.charCodeAt(r+2)]>>2,c[l++]=n>>8&255,c[l++]=255&n),c},r.fromByteArray=function(t){for(var n,r=t.length,a=r%3,o=[],s=0,c=r-a;s<c;s+=16383)o.push(function(t,n,r){for(var a,o=[],s=n;s<r;s+=3)a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(function(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}(a));return o.join(``)}(t,s,c<s+16383?c:s+16383));return a==1?(n=t[r-1],o.push(i[n>>2]+i[n<<4&63]+`==`)):a==2&&(n=(t[r-2]<<8)+t[r-1],o.push(i[n>>10]+i[n>>4&63]+i[n<<2&63]+`=`)),o.join(``)};for(var i=[],a=[],o=typeof Uint8Array<`u`?Uint8Array:Array,s=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,c=0,l=s.length;c<l;++c)i[c]=s[c],a[s.charCodeAt(c)]=c;function u(t){var n=t.length;if(0<n%4)throw Error(`Invalid string. Length must be a multiple of 4`);return t=t.indexOf(`=`),n=(t=t===-1?n:t)===n?0:4-t%4,[t,n]}a[45]=62,a[95]=63},{}],2:[function(t,n,r){},{}],3:[function(t,n,r){},{}],4:[function(t,n,r){(function(n){var i=t(`base64-js`),a=t(`ieee754`),o=typeof Symbol==`function`&&typeof Symbol.for==`function`?Symbol.for(`nodejs.util.inspect.custom`):null,s=(r.Buffer=n,r.SlowBuffer=function(t){return+t!=t&&(t=0),n.alloc(+t)},r.INSPECT_MAX_BYTES=50,2147483647);function c(t){if(s<t)throw RangeError(`The value "`+t+`" is invalid for option "size"`);return t=new Uint8Array(t),Object.setPrototypeOf(t,n.prototype),t}function n(t,n,r){if(typeof t!=`number`)return l(t,n,r);if(typeof n==`string`)throw TypeError(`The "string" argument must be of type string. Received type number`);return d(t)}function l(t,r,i){if(typeof t==`string`){var a=t,o=r;if(n.isEncoding(o=typeof o==`string`&&o!==``?o:`utf8`))return s=0|m(a,o),l=c(s),l=(a=l.write(a,o))===s?l:l.slice(0,a);throw TypeError(`Unknown encoding: `+o)}if(ArrayBuffer.isView(t))return f(t);if(t!=null){if(M(t,ArrayBuffer)||t&&M(t.buffer,ArrayBuffer)){var s=t,a=r,l=i;if(a<0||s.byteLength<a)throw RangeError(`"offset" is outside of buffer bounds`);if(s.byteLength<a+(l||0))throw RangeError(`"length" is outside of buffer bounds`);return s=a===void 0&&l===void 0?new Uint8Array(s):l===void 0?new Uint8Array(s,a):new Uint8Array(s,a,l),Object.setPrototypeOf(s,n.prototype),s}if(typeof t==`number`)throw TypeError(`The "value" argument must not be of type number. Received type number`);if(o=t.valueOf&&t.valueOf(),o!=null&&o!==t)return n.from(o,r,i);var u=function(t){var r,i;if(n.isBuffer(t))return r=0|p(t.length),(i=c(r)).length!==0&&t.copy(i,0,0,r),i;if(t.length!==void 0)return typeof t.length!=`number`||N(t.length)?c(0):f(t);if(t.type===`Buffer`&&Array.isArray(t.data))return f(t.data)}(t);if(u)return u;if(typeof Symbol<`u`&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]==`function`)return n.from(t[Symbol.toPrimitive](`string`),r,i)}throw TypeError(`The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type `+typeof t)}function u(t){if(typeof t!=`number`)throw TypeError(`"size" argument must be of type number`);if(t<0)throw RangeError(`The value "`+t+`" is invalid for option "size"`)}function d(t){return u(t),c(t<0?0:0|p(t))}function f(t){for(var n=t.length<0?0:0|p(t.length),r=c(n),i=0;i<n;i+=1)r[i]=255&t[i];return r}function p(t){if(s<=t)throw RangeError(`Attempt to allocate Buffer larger than maximum size: 0x`+s.toString(16)+` bytes`);return 0|t}function m(t,r){if(n.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||M(t,ArrayBuffer))return t.byteLength;if(typeof t!=`string`)throw TypeError(`The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type `+typeof t);var i=t.length,a=2<arguments.length&&!0===arguments[2];if(!a&&i===0)return 0;for(var o=!1;;)switch(r){case`ascii`:case`latin1`:case`binary`:return i;case`utf8`:case`utf-8`:return k(t).length;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return 2*i;case`hex`:return i>>>1;case`base64`:return A(t).length;default:if(o)return a?-1:k(t).length;r=(``+r).toLowerCase(),o=!0}}function h(t,n,r){var a,o=!1;if((n=n===void 0||n<0?0:n)>this.length||(r=r===void 0||r>this.length?this.length:r)<=0||(r>>>=0)<=(n>>>=0))return``;for(t||=`utf8`;;)switch(t){case`hex`:var s=this,c=n,l=r,u=s.length;(!l||l<0||u<l)&&(l=u);for(var d=``,f=c=!c||c<0?0:c;f<l;++f)d+=P[s[f]];return d;case`utf8`:case`utf-8`:return x(this,n,r);case`ascii`:var p=this,u=n,m=r,h=``;m=Math.min(p.length,m);for(var g=u;g<m;++g)h+=String.fromCharCode(127&p[g]);return h;case`latin1`:case`binary`:var _=this,c=n,v=r,y=``;v=Math.min(_.length,v);for(var b=c;b<v;++b)y+=String.fromCharCode(_[b]);return y;case`base64`:return S=this,a=r,(C=n)===0&&a===S.length?i.fromByteArray(S):i.fromByteArray(S.slice(C,a));case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:for(var S=n,C=r,w=this.slice(S,C),T=``,E=0;E<w.length;E+=2)T+=String.fromCharCode(w[E]+256*w[E+1]);return T;default:if(o)throw TypeError(`Unknown encoding: `+t);t=(t+``).toLowerCase(),o=!0}}function g(t,n,r){var i=t[n];t[n]=t[r],t[r]=i}function _(t,r,i,a,o){if(t.length===0)return-1;if(typeof i==`string`?(a=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),(i=(i=N(i=+i)?o?0:t.length-1:i)<0?t.length+i:i)>=t.length){if(o)return-1;i=t.length-1}else if(i<0){if(!o)return-1;i=0}if(typeof r==`string`&&(r=n.from(r,a)),n.isBuffer(r))return r.length===0?-1:v(t,r,i,a,o);if(typeof r==`number`)return r&=255,typeof Uint8Array.prototype.indexOf==`function`?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,r,i):v(t,[r],i,a,o);throw TypeError(`val must be string, number or Buffer`)}function v(t,n,r,i,a){var o=1,s=t.length,c=n.length;if(i!==void 0&&((i=String(i).toLowerCase())===`ucs2`||i===`ucs-2`||i===`utf16le`||i===`utf-16le`)){if(t.length<2||n.length<2)return-1;s/=o=2,c/=2,r/=2}function l(t,n){return o===1?t[n]:t.readUInt16BE(n*o)}if(a)for(var u=-1,d=r;d<s;d++)if(l(t,d)===l(n,u===-1?0:d-u)){if(d-(u=u===-1?d:u)+1===c)return u*o}else u!==-1&&(d-=d-u),u=-1;else for(d=r=s<r+c?s-c:r;0<=d;d--){for(var f=!0,p=0;p<c;p++)if(l(t,d+p)!==l(n,p)){f=!1;break}if(f)return d}return-1}function y(t,n,r,i){return j(function(t){for(var n=[],r=0;r<t.length;++r)n.push(255&t.charCodeAt(r));return n}(n),t,r,i)}function b(t,n,r,i){return j(function(t,n){for(var r,i,a=[],o=0;o<t.length&&!((n-=2)<0);++o)i=t.charCodeAt(o),r=i>>8,i%=256,a.push(i),a.push(r);return a}(n,t.length-r),t,r,i)}function x(t,n,r){r=Math.min(t.length,r);for(var i=[],a=n;a<r;){var o,s,c,l,u=t[a],d=null,f=239<u?4:223<u?3:191<u?2:1;if(a+f<=r)switch(f){case 1:u<128&&(d=u);break;case 2:(192&(o=t[a+1]))==128&&127<(l=(31&u)<<6|63&o)&&(d=l);break;case 3:o=t[a+1],s=t[a+2],(192&o)==128&&(192&s)==128&&2047<(l=(15&u)<<12|(63&o)<<6|63&s)&&(l<55296||57343<l)&&(d=l);break;case 4:o=t[a+1],s=t[a+2],c=t[a+3],(192&o)==128&&(192&s)==128&&(192&c)==128&&65535<(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&c)&&l<1114112&&(d=l)}d===null?(d=65533,f=1):65535<d&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),a+=f}var p=i,m=p.length;if(m<=S)return String.fromCharCode.apply(String,p);for(var h=``,g=0;g<m;)h+=String.fromCharCode.apply(String,p.slice(g,g+=S));return h}r.kMaxLength=s,(n.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(t,n),t.foo()===42}catch{return!1}}())||typeof console>`u`||typeof console.error!=`function`||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,`parent`,{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,`offset`,{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<`u`&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=l,Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(t,n,r){return n=n,r=r,u(t=t),!(t<=0)&&n!==void 0?typeof r==`string`?c(t).fill(n,r):c(t).fill(n):c(t)},n.allocUnsafe=d,n.allocUnsafeSlow=d,n.isBuffer=function(t){return t!=null&&!0===t._isBuffer&&t!==n.prototype},n.compare=function(t,r){if(M(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),M(r,Uint8Array)&&(r=n.from(r,r.offset,r.byteLength)),!n.isBuffer(t)||!n.isBuffer(r))throw TypeError(`The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array`);if(t===r)return 0;for(var i=t.length,a=r.length,o=0,s=Math.min(i,a);o<s;++o)if(t[o]!==r[o]){i=t[o],a=r[o];break}return i<a?-1:a<i?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`latin1`:case`binary`:case`base64`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return!0;default:return!1}},n.concat=function(t,r){if(!Array.isArray(t))throw TypeError(`"list" argument must be an Array of Buffers`);if(t.length===0)return n.alloc(0);if(r===void 0)for(o=r=0;o<t.length;++o)r+=t[o].length;for(var i=n.allocUnsafe(r),a=0,o=0;o<t.length;++o){var s=t[o];if(M(s,Uint8Array)&&(s=n.from(s)),!n.isBuffer(s))throw TypeError(`"list" argument must be an Array of Buffers`);s.copy(i,a),a+=s.length}return i},n.byteLength=m,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError(`Buffer size must be a multiple of 16-bits`);for(var n=0;n<t;n+=2)g(this,n,n+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError(`Buffer size must be a multiple of 32-bits`);for(var n=0;n<t;n+=4)g(this,n,n+3),g(this,n+1,n+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError(`Buffer size must be a multiple of 64-bits`);for(var n=0;n<t;n+=8)g(this,n,n+7),g(this,n+1,n+6),g(this,n+2,n+5),g(this,n+3,n+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var t=this.length;return t===0?``:arguments.length===0?x(this,0,t):h.apply(this,arguments)},n.prototype.equals=function(t){if(n.isBuffer(t))return this===t||n.compare(this,t)===0;throw TypeError(`Argument must be a Buffer`)},n.prototype.inspect=function(){var t=``,n=r.INSPECT_MAX_BYTES,t=this.toString(`hex`,0,n).replace(/(.{2})/g,`$1 `).trim();return this.length>n&&(t+=` ... `),`<Buffer `+t+`>`},o&&(n.prototype[o]=n.prototype.inspect),n.prototype.compare=function(t,r,i,a,o){if(M(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(t))throw TypeError(`The "target" argument must be one of type Buffer or Uint8Array. Received type `+typeof t);if(i===void 0&&(i=t?t.length:0),a===void 0&&(a=0),o===void 0&&(o=this.length),(r=r===void 0?0:r)<0||i>t.length||a<0||o>this.length)throw RangeError(`out of range index`);if(o<=a&&i<=r)return 0;if(o<=a)return-1;if(i<=r)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(a>>>=0),c=(i>>>=0)-(r>>>=0),l=Math.min(s,c),u=this.slice(a,o),d=t.slice(r,i),f=0;f<l;++f)if(u[f]!==d[f]){s=u[f],c=d[f];break}return s<c?-1:c<s?1:0},n.prototype.includes=function(t,n,r){return this.indexOf(t,n,r)!==-1},n.prototype.indexOf=function(t,n,r){return _(this,t,n,r,!0)},n.prototype.lastIndexOf=function(t,n,r){return _(this,t,n,r,!1)},n.prototype.write=function(t,n,r,i){if(n===void 0)i=`utf8`,r=this.length,n=0;else if(r===void 0&&typeof n==`string`)i=n,r=this.length,n=0;else{if(!isFinite(n))throw Error(`Buffer.write(string, encoding, offset[, length]) is no longer supported`);n>>>=0,isFinite(r)?(r>>>=0,i===void 0&&(i=`utf8`)):(i=r,r=void 0)}var a=this.length-n;if((r===void 0||a<r)&&(r=a),0<t.length&&(r<0||n<0)||n>this.length)throw RangeError(`Attempt to write outside buffer bounds`);i||=`utf8`;for(var o,s,c,l=!1;;)switch(i){case`hex`:var u=this,d=t,f=n,p=r,m=(f=Number(f)||0,u.length-f);(!p||m<(p=Number(p)))&&(p=m),(m=d.length)/2<p&&(p=m/2);for(var h=0;h<p;++h){var g=parseInt(d.substr(2*h,2),16);if(N(g))return h;u[f+h]=g}return h;case`utf8`:case`utf-8`:return m=n,c=r,j(k(t,(s=this).length-m),s,m,c);case`ascii`:return y(this,t,n,r);case`latin1`:case`binary`:return y(this,t,n,r);case`base64`:return s=this,c=n,o=r,j(A(t),s,c,o);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return b(this,t,n,r);default:if(l)throw TypeError(`Unknown encoding: `+i);i=(``+i).toLowerCase(),l=!0}},n.prototype.toJSON=function(){return{type:`Buffer`,data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function C(t,n,r){if(t%1!=0||t<0)throw RangeError(`offset is not uint`);if(r<t+n)throw RangeError(`Trying to access beyond buffer length`)}function w(t,r,i,a,o,s){if(!n.isBuffer(t))throw TypeError(`"buffer" argument must be a Buffer instance`);if(o<r||r<s)throw RangeError(`"value" argument is out of bounds`);if(i+a>t.length)throw RangeError(`Index out of range`)}function T(t,n,r,i){if(r+i>t.length||r<0)throw RangeError(`Index out of range`)}function E(t,n,r,i,o){return n=+n,r>>>=0,o||T(t,0,r,4),a.write(t,n,r,i,23,4),r+4}function D(t,n,r,i,o){return n=+n,r>>>=0,o||T(t,0,r,8),a.write(t,n,r,i,52,8),r+8}n.prototype.slice=function(t,r){var i=this.length,i=((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(r=r===void 0?i:~~r)<0?(r+=i)<0&&(r=0):i<r&&(r=i),r<t&&(r=t),this.subarray(t,r));return Object.setPrototypeOf(i,n.prototype),i},n.prototype.readUIntLE=function(t,n,r){t>>>=0,n>>>=0,r||C(t,n,this.length);for(var i=this[t],a=1,o=0;++o<n&&(a*=256);)i+=this[t+o]*a;return i},n.prototype.readUIntBE=function(t,n,r){t>>>=0,n>>>=0,r||C(t,n,this.length);for(var i=this[t+--n],a=1;0<n&&(a*=256);)i+=this[t+--n]*a;return i},n.prototype.readUInt8=function(t,n){return t>>>=0,n||C(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,n){return t>>>=0,n||C(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,n){return t>>>=0,n||C(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,n){return t>>>=0,n||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,n){return t>>>=0,n||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,n,r){t>>>=0,n>>>=0,r||C(t,n,this.length);for(var i=this[t],a=1,o=0;++o<n&&(a*=256);)i+=this[t+o]*a;return(a*=128)<=i&&(i-=2**(8*n)),i},n.prototype.readIntBE=function(t,n,r){t>>>=0,n>>>=0,r||C(t,n,this.length);for(var i=n,a=1,o=this[t+--i];0<i&&(a*=256);)o+=this[t+--i]*a;return(a*=128)<=o&&(o-=2**(8*n)),o},n.prototype.readInt8=function(t,n){return t>>>=0,n||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,n){return t>>>=0,n||C(t,2,this.length),n=this[t]|this[t+1]<<8,32768&n?4294901760|n:n},n.prototype.readInt16BE=function(t,n){return t>>>=0,n||C(t,2,this.length),n=this[t+1]|this[t]<<8,32768&n?4294901760|n:n},n.prototype.readInt32LE=function(t,n){return t>>>=0,n||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,n){return t>>>=0,n||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,n){return t>>>=0,n||C(t,4,this.length),a.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,n){return t>>>=0,n||C(t,4,this.length),a.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,n){return t>>>=0,n||C(t,8,this.length),a.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,n){return t>>>=0,n||C(t,8,this.length),a.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,n,r,i){t=+t,n>>>=0,r>>>=0,i||w(this,t,n,r,2**(8*r)-1,0);var a=1,o=0;for(this[n]=255&t;++o<r&&(a*=256);)this[n+o]=t/a&255;return n+r},n.prototype.writeUIntBE=function(t,n,r,i){t=+t,n>>>=0,r>>>=0,i||w(this,t,n,r,2**(8*r)-1,0);var a=r-1,o=1;for(this[n+a]=255&t;0<=--a&&(o*=256);)this[n+a]=t/o&255;return n+r},n.prototype.writeUInt8=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,1,255,0),this[n]=255&t,n+1},n.prototype.writeUInt16LE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},n.prototype.writeUInt16BE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},n.prototype.writeUInt32LE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},n.prototype.writeUInt32BE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},n.prototype.writeIntLE=function(t,n,r,i){t=+t,n>>>=0,i||w(this,t,n,r,(i=2**(8*r-1))-1,-i);var a=0,o=1,s=0;for(this[n]=255&t;++a<r&&(o*=256);)t<0&&s===0&&this[n+a-1]!==0&&(s=1),this[n+a]=(t/o>>0)-s&255;return n+r},n.prototype.writeIntBE=function(t,n,r,i){t=+t,n>>>=0,i||w(this,t,n,r,(i=2**(8*r-1))-1,-i);var a=r-1,o=1,s=0;for(this[n+a]=255&t;0<=--a&&(o*=256);)t<0&&s===0&&this[n+a+1]!==0&&(s=1),this[n+a]=(t/o>>0)-s&255;return n+r},n.prototype.writeInt8=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,1,127,-128),this[n]=255&(t=t<0?255+t+1:t),n+1},n.prototype.writeInt16LE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},n.prototype.writeInt16BE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},n.prototype.writeInt32LE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},n.prototype.writeInt32BE=function(t,n,r){return t=+t,n>>>=0,r||w(this,t,n,4,2147483647,-2147483648),this[n]=(t=t<0?4294967295+t+1:t)>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},n.prototype.writeFloatLE=function(t,n,r){return E(this,t,n,!0,r)},n.prototype.writeFloatBE=function(t,n,r){return E(this,t,n,!1,r)},n.prototype.writeDoubleLE=function(t,n,r){return D(this,t,n,!0,r)},n.prototype.writeDoubleBE=function(t,n,r){return D(this,t,n,!1,r)},n.prototype.copy=function(t,r,i,a){if(!n.isBuffer(t))throw TypeError(`argument should be a Buffer`);if(i||=0,a||a===0||(a=this.length),r>=t.length&&(r=t.length),(a=0<a&&a<i?i:a)===i||t.length===0||this.length===0)return 0;if((r||=0)<0)throw RangeError(`targetStart out of bounds`);if(i<0||i>=this.length)throw RangeError(`Index out of range`);if(a<0)throw RangeError(`sourceEnd out of bounds`);a>this.length&&(a=this.length);var o=(a=t.length-r<a-i?t.length-r+i:a)-i;if(this===t&&typeof Uint8Array.prototype.copyWithin==`function`)this.copyWithin(r,i,a);else if(this===t&&i<r&&r<a)for(var s=o-1;0<=s;--s)t[s+r]=this[s+i];else Uint8Array.prototype.set.call(t,this.subarray(i,a),r);return o},n.prototype.fill=function(t,r,i,a){if(typeof t==`string`){if(typeof r==`string`?(a=r,r=0,i=this.length):typeof i==`string`&&(a=i,i=this.length),a!==void 0&&typeof a!=`string`)throw TypeError(`encoding must be a string`);if(typeof a==`string`&&!n.isEncoding(a))throw TypeError(`Unknown encoding: `+a);var o;t.length===1&&(o=t.charCodeAt(0),(a===`utf8`&&o<128||a===`latin1`)&&(t=o))}else typeof t==`number`?t&=255:typeof t==`boolean`&&(t=Number(t));if(r<0||this.length<r||this.length<i)throw RangeError(`Out of range index`);var s;if(!(i<=r))if(r>>>=0,i=i===void 0?this.length:i>>>0,typeof(t||=0)==`number`)for(s=r;s<i;++s)this[s]=t;else{var c=n.isBuffer(t)?t:n.from(t,a),l=c.length;if(l===0)throw TypeError(`The value "`+t+`" is invalid for argument "value"`);for(s=0;s<i-r;++s)this[s+r]=c[s%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function k(t,n){n||=1/0;for(var r,i=t.length,a=null,o=[],s=0;s<i;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!a){if(56319<r){-1<(n-=3)&&o.push(239,191,189);continue}if(s+1===i){-1<(n-=3)&&o.push(239,191,189);continue}a=r;continue}if(r<56320){-1<(n-=3)&&o.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&-1<(n-=3)&&o.push(239,191,189);if(a=null,r<128){if(--n<0)break;o.push(r)}else if(r<2048){if((n-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw Error(`Invalid code point`);if((n-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function A(t){return i.toByteArray(function(t){if((t=(t=t.split(`=`)[0]).trim().replace(O,``)).length<2)return``;for(;t.length%4!=0;)t+=`=`;return t}(t))}function j(t,n,r,i){for(var a=0;a<i&&!(a+r>=n.length||a>=t.length);++a)n[a+r]=t[a];return a}function M(t,n){return t instanceof n||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===n.name}function N(t){return t!=t}var P=function(){for(var t=`0123456789abcdef`,n=Array(256),r=0;r<16;++r)for(var i=16*r,a=0;a<16;++a)n[i+a]=t[r]+t[a];return n}()}).call(this,t(`buffer`).Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,n,r){n.exports=function(t){if(typeof t!=`function`)throw TypeError(String(t)+` is not a function`);return t}},{}],6:[function(t,n,r){var i=t(`../internals/is-object`);n.exports=function(t){if(i(t)||t===null)return t;throw TypeError(`Can't set `+String(t)+` as a prototype`)}},{"../internals/is-object":75}],7:[function(t,n,r){var i=t(`../internals/well-known-symbol`),a=t(`../internals/object-create`),t=t(`../internals/object-define-property`),o=i(`unscopables`),s=Array.prototype;s[o]??t.f(s,o,{configurable:!0,value:a(null)}),n.exports=function(t){s[o][t]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,n,r){var i=t(`../internals/string-multibyte`).charAt;n.exports=function(t,n,r){return n+(r?i(t,n).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,n,r){n.exports=function(t,n,r){if(t instanceof n)return t;throw TypeError(`Incorrect `+(r?r+` `:``)+`invocation`)}},{}],10:[function(t,n,r){var i=t(`../internals/is-object`);n.exports=function(t){if(i(t))return t;throw TypeError(String(t)+` is not an object`)}},{"../internals/is-object":75}],11:[function(t,n,r){n.exports=typeof ArrayBuffer<`u`&&typeof DataView<`u`},{}],12:[function(t,n,r){function i(t){return l(t)&&u(D,d(t))}var a,o=t(`../internals/array-buffer-native`),s=t(`../internals/descriptors`),c=t(`../internals/global`),l=t(`../internals/is-object`),u=t(`../internals/has`),d=t(`../internals/classof`),f=t(`../internals/create-non-enumerable-property`),p=t(`../internals/redefine`),m=t(`../internals/object-define-property`).f,h=t(`../internals/object-get-prototype-of`),g=t(`../internals/object-set-prototype-of`),_=t(`../internals/well-known-symbol`),t=t(`../internals/uid`),v=c.Int8Array,y=v&&v.prototype,b=c.Uint8ClampedArray,b=b&&b.prototype,x=v&&h(v),S=y&&h(y),C=Object.prototype,w=C.isPrototypeOf,_=_(`toStringTag`),T=t(`TYPED_ARRAY_TAG`),E=o&&!!g&&d(c.opera)!==`Opera`,t=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(a in D)c[a]||(E=!1);if((!E||typeof x!=`function`||x===Function.prototype)&&(x=function(){throw TypeError(`Incorrect invocation`)},E))for(a in D)c[a]&&g(c[a],x);if((!E||!S||S===C)&&(S=x.prototype,E))for(a in D)c[a]&&g(c[a].prototype,S);if(E&&h(b)!==S&&g(b,S),s&&!u(S,_))for(a in t=!0,m(S,_,{get:function(){return l(this)?this[T]:void 0}}),D)c[a]&&f(c[a],T,a);n.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:t&&T,aTypedArray:function(t){if(i(t))return t;throw TypeError(`Target is not a typed array`)},aTypedArrayConstructor:function(t){if(g){if(w.call(x,t))return t}else for(var n in D)if(u(D,a)&&(n=c[n],n&&(t===n||w.call(n,t))))return t;throw TypeError(`Target is not a typed array constructor`)},exportTypedArrayMethod:function(t,n,r){if(s){if(r)for(var i in D)i=c[i],i&&u(i.prototype,t)&&delete i.prototype[t];S[t]&&!r||p(S,t,!r&&E&&y[t]||n)}},exportTypedArrayStaticMethod:function(t,n,r){var i,a;if(s){if(g){if(r)for(i in D)(a=c[i])&&u(a,t)&&delete a[t];if(x[t]&&!r)return;try{return p(x,t,!r&&E&&v[t]||n)}catch{}}for(i in D)!(a=c[i])||a[t]&&!r||p(a,t,n)}},isView:function(t){return t=d(t),t===`DataView`||u(D,t)},isTypedArray:i,TypedArray:x,TypedArrayPrototype:S}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(t,n,r){function i(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function o(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function s(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function c(t){return V(t,23,4)}function l(t){return V(t,52,8)}function u(t,n){D(t[P],n,{get:function(){return A(this)[n]}})}function d(t,n,r,i){if(r=S(r),t=A(t),r+n>t.byteLength)throw B(F);var a=A(t.buffer).bytes,r=r+t.byteOffset,t=a.slice(r,r+n);return i?t:t.reverse()}function f(t,n,r,i,a,o){if(r=S(r),t=A(t),r+n>t.byteLength)throw B(F);for(var s=A(t.buffer).bytes,c=r+t.byteOffset,l=i(+a),u=0;u<n;u++)s[c+u]=l[o?u:n-u-1]}var p=t(`../internals/global`),m=t(`../internals/descriptors`),h=t(`../internals/array-buffer-native`),g=t(`../internals/create-non-enumerable-property`),_=t(`../internals/redefine-all`),v=t(`../internals/fails`),y=t(`../internals/an-instance`),b=t(`../internals/to-integer`),x=t(`../internals/to-length`),S=t(`../internals/to-index`),C=t(`../internals/ieee754`),w=t(`../internals/object-get-prototype-of`),T=t(`../internals/object-set-prototype-of`),E=t(`../internals/object-get-own-property-names`).f,D=t(`../internals/object-define-property`).f,O=t(`../internals/array-fill`),k=t(`../internals/set-to-string-tag`),t=t(`../internals/internal-state`),A=t.get,j=t.set,M=`ArrayBuffer`,N=`DataView`,P=`prototype`,F=`Wrong index`,I=p[M],L=I,R=p[N],t=R&&R[P],z=Object.prototype,B=p.RangeError,V=C.pack,H=C.unpack;if(h){if(!v(function(){I(1)})||!v(function(){new I(-1)})||v(function(){return new I,new I(1.5),new I(NaN),I.name!=M})){for(var U,p=(L=function(t){return y(this,L),new I(S(t))})[P]=I[P],W=E(I),ee=0;W.length>ee;)(U=W[ee++])in L||g(L,U,I[U]);p.constructor=L}T&&w(t)!==z&&T(t,z);var C=new R(new L(2)),G=t.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||_(t,{setInt8:function(t,n){G.call(this,t,n<<24>>24)},setUint8:function(t,n){G.call(this,t,n<<24>>24)}},{unsafe:!0})}else L=function(t){y(this,L,M),t=S(t),j(this,{bytes:O.call(Array(t),0),byteLength:t}),m||(this.byteLength=t)},R=function(t,n,r){y(this,R,N),y(t,L,N);var i=A(t).byteLength,n=b(n);if(n<0||i<n)throw B(`Wrong offset`);if(i<n+(r=r===void 0?i-n:x(r)))throw B(`Wrong length`);j(this,{buffer:t,byteLength:r,byteOffset:n}),m||(this.buffer=t,this.byteLength=r,this.byteOffset=n)},m&&(u(L,`byteLength`),u(R,`buffer`),u(R,`byteLength`),u(R,`byteOffset`)),_(R[P],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){return t=d(this,2,t,1<arguments.length?arguments[1]:void 0),(t[1]<<8|t[0])<<16>>16},getUint16:function(t){return t=d(this,2,t,1<arguments.length?arguments[1]:void 0),t[1]<<8|t[0]},getInt32:function(t){return s(d(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return s(d(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return H(d(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return H(d(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,n){f(this,1,t,i,n)},setUint8:function(t,n){f(this,1,t,i,n)},setInt16:function(t,n){f(this,2,t,a,n,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,n){f(this,2,t,a,n,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,n){f(this,4,t,o,n,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,n){f(this,4,t,o,n,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,n){f(this,4,t,c,n,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,n){f(this,8,t,l,n,2<arguments.length?arguments[2]:void 0)}});k(L,M),k(R,N),n.exports={ArrayBuffer:L,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,n,r){var i=t(`../internals/to-object`),a=t(`../internals/to-absolute-index`),o=t(`../internals/to-length`),s=Math.min;n.exports=[].copyWithin||function(t,n){var r=i(this),c=o(r.length),l=a(t,c),u=a(n,c),t=2<arguments.length?arguments[2]:void 0,d=s((t===void 0?c:a(t,c))-u,c-l),f=1;for(u<l&&l<u+d&&(f=-1,u+=d-1,l+=d-1);0<d--;)u in r?r[l]=r[u]:delete r[l],l+=f,u+=f;return r}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,n,r){var i=t(`../internals/to-object`),a=t(`../internals/to-absolute-index`),o=t(`../internals/to-length`);n.exports=function(t){for(var n=i(this),r=o(n.length),s=arguments.length,c=a(1<s?arguments[1]:void 0,r),s=2<s?arguments[2]:void 0,l=s===void 0?r:a(s,r);c<l;)n[c++]=t;return n}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(t,n,r){var i=t(`../internals/array-iteration`).forEach,a=t(`../internals/array-method-is-strict`),t=t(`../internals/array-method-uses-to-length`),a=a(`forEach`),t=t(`forEach`);n.exports=a&&t?[].forEach:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,n,r){var i=t(`../internals/function-bind-context`),a=t(`../internals/to-object`),o=t(`../internals/call-with-safe-iteration-closing`),s=t(`../internals/is-array-iterator-method`),c=t(`../internals/to-length`),l=t(`../internals/create-property`),u=t(`../internals/get-iterator-method`);n.exports=function(t){var n,r,d,f,p,m,h=a(t),t=typeof this==`function`?this:Array,g=arguments.length,_=1<g?arguments[1]:void 0,v=_!==void 0,y=u(h),b=0;if(v&&(_=i(_,2<g?arguments[2]:void 0,2)),y==null||t==Array&&s(y))for(r=new t(n=c(h.length));b<n;b++)m=v?_(h[b],b):h[b],l(r,b,m);else for(p=(f=y.call(h)).next,r=new t;!(d=p.call(f)).done;b++)m=v?o(f,_,[d.value,b],!0):d.value,l(r,b,m);return r.length=b,r}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,n,r){function i(t){return function(n,r,i){var c,l=a(n),u=o(l.length),d=s(i,u);if(t&&r!=r){for(;d<u;)if((c=l[d++])!=c)return!0}else for(;d<u;d++)if((t||d in l)&&l[d]===r)return t||d||0;return!t&&-1}}var a=t(`../internals/to-indexed-object`),o=t(`../internals/to-length`),s=t(`../internals/to-absolute-index`);n.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,n,r){function i(t){var n=t==1,r=t==2,i=t==3,d=t==4,f=t==6,p=t==5||f;return function(m,h,g,_){for(var v,y,b=s(m),x=o(b),S=a(h,g,3),C=c(x.length),w=0,h=_||l,T=n?h(m,C):r?h(m,0):void 0;w<C;w++)if((p||w in x)&&(y=S(v=x[w],w,b),t)){if(n)T[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:u.call(T,v)}else if(d)return!1}return f?-1:i||d?d:T}}var a=t(`../internals/function-bind-context`),o=t(`../internals/indexed-object`),s=t(`../internals/to-object`),c=t(`../internals/to-length`),l=t(`../internals/array-species-create`),u=[].push;n.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(t,n,r){var i=t(`../internals/to-indexed-object`),a=t(`../internals/to-integer`),o=t(`../internals/to-length`),s=t(`../internals/array-method-is-strict`),t=t(`../internals/array-method-uses-to-length`),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,s=s(`lastIndexOf`),t=t(`indexOf`,{ACCESSORS:!0,1:0});n.exports=u||!s||!t?function(t){if(u)return l.apply(this,arguments)||0;var n=i(this),r=o(n.length),s=r-1;for((s=1<arguments.length?c(s,a(arguments[1])):s)<0&&(s=r+s);0<=s;s--)if(s in n&&n[s]===t)return s||0;return-1}:l},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,n,r){var i=t(`../internals/fails`),a=t(`../internals/well-known-symbol`),o=t(`../internals/engine-v8-version`),s=a(`species`);n.exports=function(t){return 51<=o||!i(function(){var n=[];return(n.constructor={})[s]=function(){return{foo:1}},n[t](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,n,r){var i=t(`../internals/fails`);n.exports=function(t,n){var r=[][t];return!!r&&i(function(){r.call(null,n||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,n,r){function i(t){throw t}var a=t(`../internals/descriptors`),o=t(`../internals/fails`),s=t(`../internals/has`),c=Object.defineProperty,l={};n.exports=function(t,n){var r,u,d,f;return s(l,t)?l[t]:(r=[][t],u=!!s(n||={},`ACCESSORS`)&&n.ACCESSORS,d=s(n,0)?n[0]:i,f=s(n,1)?n[1]:void 0,l[t]=!!r&&!o(function(){if(u&&!a)return!0;var t={length:-1};u?c(t,1,{enumerable:!0,get:i}):t[1]=1,r.call(t,d,f)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,n,r){function i(t){return function(n,r,i,l){a(r);var u=o(n),d=s(u),f=c(u.length),p=t?f-1:0,m=t?-1:1;if(i<2)for(;;){if(p in d){l=d[p],p+=m;break}if(p+=m,t?p<0:f<=p)throw TypeError(`Reduce of empty array with no initial value`)}for(;t?0<=p:p<f;p+=m)p in d&&(l=r(l,d[p],p,u));return l}}var a=t(`../internals/a-function`),o=t(`../internals/to-object`),s=t(`../internals/indexed-object`),c=t(`../internals/to-length`);n.exports={left:i(!1),right:i(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,n,r){var i=t(`../internals/is-object`),a=t(`../internals/is-array`),o=t(`../internals/well-known-symbol`)(`species`);n.exports=function(t,n){var r;return new((r=a(t)&&(typeof(r=t.constructor)==`function`&&(r===Array||a(r.prototype))||i(r)&&(r=r[o])===null)?void 0:r)===void 0?Array:r)(n===0?0:n)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,n,r){var i=t(`../internals/an-object`);n.exports=function(t,n,r,a){try{return a?n(i(r)[0],r[1]):n(r)}catch(n){throw a=t.return,a!==void 0&&i(a.call(t)),n}}},{"../internals/an-object":10}],27:[function(t,n,r){var i=t(`../internals/well-known-symbol`)(`iterator`),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch{}n.exports=function(t,n){if(!n&&!a)return!1;var r=!1;try{var o={};o[i]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch{}return r}},{"../internals/well-known-symbol":150}],28:[function(t,n,r){var i={}.toString;n.exports=function(t){return i.call(t).slice(8,-1)}},{}],29:[function(t,n,r){var i=t(`../internals/to-string-tag-support`),a=t(`../internals/classof-raw`),o=t(`../internals/well-known-symbol`)(`toStringTag`),s=a(function(){return arguments}())==`Arguments`;n.exports=i?a:function(t){var n;return t===void 0?`Undefined`:t===null?`Null`:typeof(n=function(t,n){try{return t[n]}catch{}}(t=Object(t),o))==`string`?n:s?a(t):(n=a(t))==`Object`&&typeof t.callee==`function`?`Arguments`:n}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(t,n,r){var i=t(`../internals/object-define-property`).f,a=t(`../internals/object-create`),o=t(`../internals/redefine-all`),s=t(`../internals/function-bind-context`),c=t(`../internals/an-instance`),l=t(`../internals/iterate`),u=t(`../internals/define-iterator`),d=t(`../internals/set-species`),f=t(`../internals/descriptors`),p=t(`../internals/internal-metadata`).fastKey,t=t(`../internals/internal-state`),m=t.set,h=t.getterFor;n.exports={getConstructor:function(t,n,r,u){function d(t,n,r){var i,a=v(t),o=g(t,n);return o?o.value=r:(a.last=o={index:i=p(n,!0),key:n,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||=o,n&&(n.next=o),f?a.size++:t.size++,i!==`F`&&(a.index[i]=o)),t}function g(t,n){var r,t=v(t),i=p(n);if(i!==`F`)return t.index[i];for(r=t.first;r;r=r.next)if(r.key==n)return r}var _=t(function(t,i){c(t,_,n),m(t,{type:n,index:a(null),first:void 0,last:void 0,size:0}),f||(t.size=0),i!=null&&l(i,t[u],t,r)}),v=h(n);return o(_.prototype,{clear:function(){for(var t=v(this),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&=r.previous.next=void 0,delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var n,r,i=v(this),t=g(this,t);return t&&(n=t.next,r=t.previous,delete i.index[t.index],t.removed=!0,r&&(r.next=n),n&&(n.previous=r),i.first==t&&(i.first=n),i.last==t&&(i.last=r),f?i.size--:this.size--),!!t},forEach:function(t){for(var n,r=v(this),i=s(t,1<arguments.length?arguments[1]:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!g(this,t)}}),o(_.prototype,r?{get:function(t){return t=g(this,t),t&&t.value},set:function(t,n){return d(this,t===0?0:t,n)}}:{add:function(t){return d(this,t=t===0?0:t,t)}}),f&&i(_.prototype,`size`,{get:function(){return v(this).size}}),_},setStrong:function(t,n,r){var i=n+` Iterator`,a=h(n),o=h(i);u(t,n,function(t,n){m(this,{type:i,target:t,state:a(t),kind:n,last:void 0})},function(){for(var t=o(this),n=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?n==`keys`?{value:r.key,done:!1}:n==`values`?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:t.target=void 0,done:!0}},r?`entries`:`values`,!r,!0),d(n)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(t,n,r){function i(t){return t.frozen||=new a}function a(){this.entries=[]}function o(t,n){return _(t.entries,function(t){return t[0]===n})}var s=t(`../internals/redefine-all`),c=t(`../internals/internal-metadata`).getWeakData,l=t(`../internals/an-object`),u=t(`../internals/is-object`),d=t(`../internals/an-instance`),f=t(`../internals/iterate`),p=t(`../internals/array-iteration`),m=t(`../internals/has`),t=t(`../internals/internal-state`),h=t.set,g=t.getterFor,_=p.find,v=p.findIndex,y=0;a.prototype={get:function(t){if(t=o(this,t),t)return t[1]},has:function(t){return!!o(this,t)},set:function(t,n){var r=o(this,t);r?r[1]=n:this.entries.push([t,n])},delete:function(t){var n=v(this.entries,function(n){return n[0]===t});return~n&&this.entries.splice(n,1),!!~n}},n.exports={getConstructor:function(t,n,r,a){function o(t,n,r){var a=_(t),o=c(l(n),!0);return!0===o?i(a).set(n,r):o[a.id]=r,t}var p=t(function(t,i){d(t,p,n),h(t,{type:n,id:y++,frozen:void 0}),i!=null&&f(i,t[a],t,r)}),_=g(n);return s(p.prototype,{delete:function(t){var n,r=_(this);return!!u(t)&&(!0===(n=c(t))?i(r).delete(t):n&&m(n,r.id)&&delete n[r.id])},has:function(t){var n,r=_(this);return!!u(t)&&(!0===(n=c(t))?i(r).has(t):n&&m(n,r.id))}}),s(p.prototype,r?{get:function(t){var n,r=_(this);if(u(t))return!0===(n=c(t))?i(r).get(t):n?n[r.id]:void 0},set:function(t,n){return o(this,t,n)}}:{add:function(t){return o(this,t,!0)}}),p}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/global`),o=t(`../internals/is-forced`),s=t(`../internals/redefine`),c=t(`../internals/internal-metadata`),l=t(`../internals/iterate`),u=t(`../internals/an-instance`),d=t(`../internals/is-object`),f=t(`../internals/fails`),p=t(`../internals/check-correctness-of-iteration`),m=t(`../internals/set-to-string-tag`),h=t(`../internals/inherit-if-required`);n.exports=function(t,n,r){function g(t){var n=E[t];s(E,t,t==`add`?function(t){return n.call(this,t===0?0:t),this}:t==`delete`?function(t){return!(C&&!d(t))&&n.call(this,t===0?0:t)}:t==`get`?function(t){return C&&!d(t)?void 0:n.call(this,t===0?0:t)}:t==`has`?function(t){return!(C&&!d(t))&&n.call(this,t===0?0:t)}:function(t,r){return n.call(this,t===0?0:t,r),this})}var _,v,y,b,x,S=t.indexOf(`Map`)!==-1,C=t.indexOf(`Weak`)!==-1,w=S?`set`:`add`,T=a[t],E=T&&T.prototype,D=T,O={};return o(t,typeof T!=`function`||!(C||E.forEach&&!f(function(){new T().entries().next()})))?(D=r.getConstructor(n,t,S,w),c.REQUIRED=!0):o(t,!0)&&(v=(_=new D)[w](C?{}:-0,1)!=_,y=f(function(){_.has(1)}),b=p(function(t){new T(t)}),x=!C&&f(function(){for(var t=new T,n=5;n--;)t[w](n,n);return!t.has(-0)}),b||(((D=n(function(n,r){return u(n,D,t),n=h(new T,n,D),r!=null&&l(r,n[w],n,S),n})).prototype=E).constructor=D),(y||x)&&(g(`delete`),g(`has`),S&&g(`get`)),(x||v)&&g(w),C&&E.clear&&delete E.clear),O[t]=D,i({global:!0,forced:D!=T},O),m(D,t),C||r.setStrong(D,t,S),D}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,n,r){var i=t(`../internals/has`),a=t(`../internals/own-keys`),o=t(`../internals/object-get-own-property-descriptor`),s=t(`../internals/object-define-property`);n.exports=function(t,n){for(var r=a(n),c=s.f,l=o.f,u=0;u<r.length;u++){var d=r[u];i(t,d)||c(t,d,l(n,d))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,n,r){var i=t(`../internals/well-known-symbol`)(`match`);n.exports=function(t){var n=/./;try{`/./`[t](n)}catch{try{return n[i]=!1,`/./`[t](n)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,n,r){t=t(`../internals/fails`),n.exports=!t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":51}],36:[function(t,n,r){var i=t(`../internals/require-object-coercible`),a=/"/g;n.exports=function(t,n,r,o){var t=String(i(t)),s=`<`+n;return r!==``&&(s+=` `+r+`="`+String(o).replace(a,`&quot;`)+`"`),s+`>`+t+`</`+n+`>`}},{"../internals/require-object-coercible":115}],37:[function(t,n,r){function i(){return this}var a=t(`../internals/iterators-core`).IteratorPrototype,o=t(`../internals/object-create`),s=t(`../internals/create-property-descriptor`),c=t(`../internals/set-to-string-tag`),l=t(`../internals/iterators`);n.exports=function(t,n,r){return n+=` Iterator`,t.prototype=o(a,{next:s(1,r)}),c(t,n,!1,!0),l[n]=i,t}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/object-define-property`),o=t(`../internals/create-property-descriptor`);n.exports=i?function(t,n,r){return a.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,n,r){n.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},{}],40:[function(t,n,r){var i=t(`../internals/to-primitive`),a=t(`../internals/object-define-property`),o=t(`../internals/create-property-descriptor`);n.exports=function(t,n,r){n=i(n),n in t?a.f(t,n,o(0,r)):t[n]=r}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(t,n,r){function i(){return this}var a=t(`../internals/export`),o=t(`../internals/create-iterator-constructor`),s=t(`../internals/object-get-prototype-of`),c=t(`../internals/object-set-prototype-of`),l=t(`../internals/set-to-string-tag`),u=t(`../internals/create-non-enumerable-property`),d=t(`../internals/redefine`),f=t(`../internals/well-known-symbol`),p=t(`../internals/is-pure`),m=t(`../internals/iterators`),t=t(`../internals/iterators-core`),h=t.IteratorPrototype,g=t.BUGGY_SAFARI_ITERATORS,_=f(`iterator`),v=`values`,y=`entries`;n.exports=function(t,n,r,f,b,x,S){o(r,n,f);function C(t){if(t===b&&k)return k;if(!g&&t in D)return D[t];switch(t){case`keys`:case v:case y:return function(){return new r(this,t)}}return function(){return new r(this)}}var w,T,f=n+` Iterator`,E=!1,D=t.prototype,O=D[_]||D[`@@iterator`]||b&&D[b],k=!g&&O||C(b),A=n==`Array`&&D.entries||O;if(A&&(A=s(A.call(new t)),h!==Object.prototype&&A.next&&(p||s(A)===h||(c?c(A,h):typeof A[_]!=`function`&&u(A,_,i)),l(A,f,!0,!0),p&&(m[f]=i))),b==v&&O&&O.name!==v&&(E=!0,k=function(){return O.call(this)}),p&&!S||D[_]===k||u(D,_,k),m[n]=k,b)if(w={values:C(v),keys:x?k:C(`keys`),entries:C(y)},S)for(T in w)!g&&!E&&T in D||d(D,T,w[T]);else a({target:n,proto:!0,forced:g||E},w);return w}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,n,r){var i=t(`../internals/path`),a=t(`../internals/has`),o=t(`../internals/well-known-symbol-wrapped`),s=t(`../internals/object-define-property`).f;n.exports=function(t){var n=i.Symbol||={};a(n,t)||s(n,t,{value:o.f(t)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,n,r){t=t(`../internals/fails`),n.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(t,n,r){var i=t(`../internals/global`),t=t(`../internals/is-object`),a=i.document,o=t(a)&&t(a.createElement);n.exports=function(t){return o?a.createElement(t):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,n,r){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,n,r){t=t(`../internals/engine-user-agent`),n.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,n,r){t=t(`../internals/get-built-in`),n.exports=t(`navigator`,`userAgent`)||``},{"../internals/get-built-in":57}],48:[function(t,n,r){var i,a,o=t(`../internals/global`),t=t(`../internals/engine-user-agent`),o=o.process,o=o&&o.versions,o=o&&o.v8;o?a=(i=o.split(`.`))[0]+i[1]:t&&(!(i=t.match(/Edge\/(\d+)/))||74<=i[1])&&(i=t.match(/Chrome\/(\d+)/))&&(a=i[1]),n.exports=a&&+a},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,n,r){n.exports=[`constructor`,`hasOwnProperty`,`isPrototypeOf`,`propertyIsEnumerable`,`toLocaleString`,`toString`,`valueOf`]},{}],50:[function(t,n,r){var i=t(`../internals/global`),a=t(`../internals/object-get-own-property-descriptor`).f,o=t(`../internals/create-non-enumerable-property`),s=t(`../internals/redefine`),c=t(`../internals/set-global`),l=t(`../internals/copy-constructor-properties`),u=t(`../internals/is-forced`);n.exports=function(t,n){var r,d,f,p=t.target,m=t.global,h=t.stat,g=m?i:h?i[p]||c(p,{}):(i[p]||{}).prototype;if(g)for(r in n){if(d=n[r],f=t.noTargetGet?(f=a(g,r))&&f.value:g[r],!u(m?r:p+(h?`.`:`#`)+r,t.forced)&&f!==void 0){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&o(d,`sham`,!0),s(g,r,d,t)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,n,r){n.exports=function(t){try{return!!t()}catch{return!0}}},{}],52:[function(t,n,r){t(`../modules/es.regexp.exec`);var i=t(`../internals/redefine`),a=t(`../internals/fails`),o=t(`../internals/well-known-symbol`),s=t(`../internals/regexp-exec`),c=t(`../internals/create-non-enumerable-property`),l=o(`species`),u=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:`7`},t},``.replace(t,`$<a>`)!==`7`}),d=`a`.replace(/./,`$0`)===`$0`,t=o(`replace`),f=!!/./[t]&&/./[t](`a`,`$0`)===``,p=!a(function(){var t=/(?:)/,n=t.exec,t=(t.exec=function(){return n.apply(this,arguments)},`ab`.split(t));return t.length!==2||t[0]!==`a`||t[1]!==`b`});n.exports=function(t,n,r,m){var h,g,_=o(t),v=!a(function(){var n={};return n[_]=function(){return 7},``[t](n)!=7}),y=v&&!a(function(){var n=!1,r=/a/;return t===`split`&&((r={constructor:{}}).constructor[l]=function(){return r},r.flags=``,r[_]=/./[_]),r.exec=function(){return n=!0,null},r[_](``),!n});v&&y&&(t!==`replace`||u&&d&&!f)&&(t!==`split`||p)||(h=/./[_],r=(y=r(_,``[t],function(t,n,r,i,a){return n.exec===s?v&&!a?{done:!0,value:h.call(n,r,i)}:{done:!0,value:t.call(r,n,i)}:{done:!1}},{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],g=y[1],i(String.prototype,t,r),i(RegExp.prototype,_,n==2?function(t,n){return g.call(t,this,n)}:function(t){return g.call(t,this)})),m&&c(RegExp.prototype[_],`sham`,!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,n,r){function i(t,n,r,c,l,u,d,f){for(var p,m=l,h=0,g=!!d&&s(d,f,3);h<c;){if(h in r){if(p=g?g(r[h],h,n):r[h],0<u&&a(p))m=i(t,n,p,o(p.length),m,u-1)-1;else{if(9007199254740991<=m)throw TypeError(`Exceed the acceptable array length`);t[m]=p}m++}h++}return m}var a=t(`../internals/is-array`),o=t(`../internals/to-length`),s=t(`../internals/function-bind-context`);n.exports=i},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,n,r){t=t(`../internals/fails`),n.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,n,r){var i=t(`../internals/a-function`);n.exports=function(t,n,r){if(i(t),n===void 0)return t;switch(r){case 0:return function(){return t.call(n)};case 1:return function(r){return t.call(n,r)};case 2:return function(r,i){return t.call(n,r,i)};case 3:return function(r,i,a){return t.call(n,r,i,a)}}return function(){return t.apply(n,arguments)}}},{"../internals/a-function":5}],56:[function(t,n,r){var i=t(`../internals/a-function`),a=t(`../internals/is-object`),o=[].slice,s={};n.exports=Function.bind||function(t){var n=i(this),r=o.call(arguments,1),c=function(){var i=r.concat(o.call(arguments));if(this instanceof c){var a=n,l=i.length,u=i;if(!(l in s)){for(var d=[],f=0;f<l;f++)d[f]=`a[`+f+`]`;s[l]=Function(`C,a`,`return new C(`+d.join(`,`)+`)`)}return s[l](a,u)}return n.apply(t,i)};return a(n.prototype)&&(c.prototype=n.prototype),c}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,n,r){function i(t){return typeof t==`function`?t:void 0}var a=t(`../internals/path`),o=t(`../internals/global`);n.exports=function(t,n){return arguments.length<2?i(a[t])||i(o[t]):a[t]&&a[t][n]||o[t]&&o[t][n]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,n,r){var i=t(`../internals/classof`),a=t(`../internals/iterators`),o=t(`../internals/well-known-symbol`)(`iterator`);n.exports=function(t){if(t!=null)return t[o]||t[`@@iterator`]||a[i(t)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,n,r){var i=t(`../internals/an-object`),a=t(`../internals/get-iterator-method`);n.exports=function(t){var n=a(t);if(typeof n!=`function`)throw TypeError(String(t)+` is not iterable`);return i(n.call(t))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,n,r){(function(t){function r(t){return t&&t.Math==Math&&t}n.exports=r(typeof globalThis==`object`&&globalThis)||r(typeof window==`object`&&window)||r(typeof self==`object`&&self)||r(typeof t==`object`&&t)||Function(`return this`)()}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}],61:[function(t,n,r){var i={}.hasOwnProperty;n.exports=function(t,n){return i.call(t,n)}},{}],62:[function(t,n,r){n.exports={}},{}],63:[function(t,n,r){var i=t(`../internals/global`);n.exports=function(t,n){var r=i.console;r&&r.error&&(arguments.length===1?r.error(t):r.error(t,n))}},{"../internals/global":60}],64:[function(t,n,r){t=t(`../internals/get-built-in`),n.exports=t(`document`,`documentElement`)},{"../internals/get-built-in":57}],65:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/fails`),o=t(`../internals/document-create-element`);n.exports=!i&&!a(function(){return Object.defineProperty(o(`div`),`a`,{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,n,r){var i=Math.abs,a=Math.pow,o=Math.floor,s=Math.log,c=Math.LN2;n.exports={pack:function(t,n,r){var l,u,d,f=Array(r),p=8*r-n-1,r=(1<<p)-1,m=r>>1,h=n===23?a(2,-24)-a(2,-77):0,g=t<0||t===0&&1/t<0?1:0,_=0;for((t=i(t))!=t||t===1/0?(u=t==t?0:1,l=r):(l=o(s(t)/c),t*(d=a(2,-l))<1&&(l--,d*=2),2<=(t+=1<=l+m?h/d:h*a(2,1-m))*d&&(l++,d/=2),r<=l+m?(u=0,l=r):1<=l+m?(u=(t*d-1)*a(2,n),l+=m):(u=t*a(2,m-1)*a(2,n),l=0));8<=n;f[_++]=255&u,u/=256,n-=8);for(l=l<<n|u,p+=n;0<p;f[_++]=255&l,l/=256,p-=8);return f[--_]|=128*g,f},unpack:function(t,n){var r,i=t.length,o=8*i-n-1,s=(1<<o)-1,c=s>>1,l=o-7,u=i-1,o=t[u--],d=127&o;for(o>>=7;0<l;d=256*d+t[u],u--,l-=8);for(r=d&(1<<-l)-1,d>>=-l,l+=n;0<l;r=256*r+t[u],u--,l-=8);if(d===0)d=1-c;else{if(d===s)return r?NaN:o?-1/0:1/0;r+=a(2,n),d-=c}return(o?-1:1)*r*a(2,d-n)}}},{}],67:[function(t,n,r){var i=t(`../internals/fails`),a=t(`../internals/classof-raw`),o=``.split;n.exports=i(function(){return!Object(`z`).propertyIsEnumerable(0)})?function(t){return a(t)==`String`?o.call(t,``):Object(t)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,n,r){var i=t(`../internals/is-object`),a=t(`../internals/object-set-prototype-of`);n.exports=function(t,n,r){return a&&typeof(n=n.constructor)==`function`&&n!==r&&i(n=n.prototype)&&n!==r.prototype&&a(t,n),t}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(t,n,r){var t=t(`../internals/shared-store`),i=Function.toString;typeof t.inspectSource!=`function`&&(t.inspectSource=function(t){return i.call(t)}),n.exports=t.inspectSource},{"../internals/shared-store":121}],70:[function(t,n,r){function i(t){c(t,d,{value:{objectID:`O`+ ++f,weakData:{}}})}var a=t(`../internals/hidden-keys`),o=t(`../internals/is-object`),s=t(`../internals/has`),c=t(`../internals/object-define-property`).f,l=t(`../internals/uid`),u=t(`../internals/freezing`),d=l(`meta`),f=0,p=Object.isExtensible||function(){return!0},m=n.exports={REQUIRED:!1,fastKey:function(t,n){if(!o(t))return typeof t==`symbol`?t:(typeof t==`string`?`S`:`P`)+t;if(!s(t,d)){if(!p(t))return`F`;if(!n)return`E`;i(t)}return t[d].objectID},getWeakData:function(t,n){if(!s(t,d)){if(!p(t))return!0;if(!n)return!1;i(t)}return t[d].weakData},onFreeze:function(t){return u&&m.REQUIRED&&p(t)&&!s(t,d)&&i(t),t}};a[d]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(t,n,r){var i,a,o,s,c,l,u,d,f=t(`../internals/native-weak-map`),p=t(`../internals/global`),m=t(`../internals/is-object`),h=t(`../internals/create-non-enumerable-property`),g=t(`../internals/has`),_=t(`../internals/shared-key`),t=t(`../internals/hidden-keys`),p=p.WeakMap;u=f?(i=new p,a=i.get,o=i.has,s=i.set,c=function(t,n){return s.call(i,t,n),n},l=function(t){return a.call(i,t)||{}},function(t){return o.call(i,t)}):(t[d=_(`state`)]=!0,c=function(t,n){return h(t,d,n),n},l=function(t){return g(t,d)?t[d]:{}},function(t){return g(t,d)}),n.exports={set:c,get:l,has:u,enforce:function(t){return u(t)?l(t):c(t,{})},getterFor:function(t){return function(n){if(m(n)&&(n=l(n)).type===t)return n;throw TypeError(`Incompatible receiver, `+t+` required`)}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,n,r){var i=t(`../internals/well-known-symbol`),a=t(`../internals/iterators`),o=i(`iterator`),s=Array.prototype;n.exports=function(t){return t!==void 0&&(a.Array===t||s[o]===t)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,n,r){var i=t(`../internals/classof-raw`);n.exports=Array.isArray||function(t){return i(t)==`Array`}},{"../internals/classof-raw":28}],74:[function(t,n,r){function i(t,n){return(t=c[s(t)])==u||t!=l&&(typeof n==`function`?a(n):!!n)}var a=t(`../internals/fails`),o=/#|\.prototype\./,s=i.normalize=function(t){return String(t).replace(o,`.`).toLowerCase()},c=i.data={},l=i.NATIVE=`N`,u=i.POLYFILL=`P`;n.exports=i},{"../internals/fails":51}],75:[function(t,n,r){n.exports=function(t){return typeof t==`object`?t!==null:typeof t==`function`}},{}],76:[function(t,n,r){n.exports=!1},{}],77:[function(t,n,r){var i=t(`../internals/is-object`),a=t(`../internals/classof-raw`),o=t(`../internals/well-known-symbol`)(`match`);n.exports=function(t){var n;return i(t)&&((n=t[o])===void 0?a(t)==`RegExp`:!!n)}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,n,r){function i(t,n){this.stopped=t,this.result=n}var a=t(`../internals/an-object`),o=t(`../internals/is-array-iterator-method`),s=t(`../internals/to-length`),c=t(`../internals/function-bind-context`),l=t(`../internals/get-iterator-method`),u=t(`../internals/call-with-safe-iteration-closing`);(n.exports=function(t,n,r,d,f){var p,m,h,g,_,v,y=c(n,r,d?2:1);if(f)p=t;else{if(typeof(n=l(t))!=`function`)throw TypeError(`Target is not iterable`);if(o(n)){for(m=0,h=s(t.length);m<h;m++)if((g=d?y(a(v=t[m])[0],v[1]):y(t[m]))&&g instanceof i)return g;return new i(!1)}p=n.call(t)}for(_=p.next;!(v=_.call(p)).done;)if(typeof(g=u(p,y,v.value,d))==`object`&&g&&g instanceof i)return g;return new i(!1)}).stop=function(t){return new i(!0,t)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(t,n,r){var i,a,o=t(`../internals/object-get-prototype-of`),s=t(`../internals/create-non-enumerable-property`),c=t(`../internals/has`),l=t(`../internals/well-known-symbol`),t=t(`../internals/is-pure`),l=l(`iterator`),u=!1;[].keys&&(`next`in(a=[].keys())?(o=o(o(a)))!==Object.prototype&&(i=o):u=!0),i??={},t||c(i,l)||s(i,l,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,n,r){n.exports={}},{}],81:[function(t,n,r){n.exports=Math.sign||function(t){return(t=+t)==0||t!=t?t:t<0?-1:1}},{}],82:[function(t,n,r){var i,a,o,s,c,l,u,d,f=t(`../internals/global`),p=t(`../internals/object-get-own-property-descriptor`).f,m=t(`../internals/classof-raw`),h=t(`../internals/task`).set,t=t(`../internals/engine-is-ios`),g=f.MutationObserver||f.WebKitMutationObserver,_=f.process,v=f.Promise,y=m(_)==`process`,m=p(f,`queueMicrotask`),p=m&&m.value;p||(i=function(){var t,n;for(y&&(t=_.domain)&&t.exit();a;){n=a.fn,a=a.next;try{n()}catch(t){throw a?s():o=void 0,t}}o=void 0,t&&t.enter()},s=y?function(){_.nextTick(i)}:g&&!t?(c=!0,l=document.createTextNode(``),new g(i).observe(l,{characterData:!0}),function(){l.data=c=!c}):v&&v.resolve?(u=v.resolve(void 0),d=u.then,function(){d.call(u,i)}):function(){h.call(f,i)}),n.exports=p||function(t){t={fn:t,next:void 0},o&&(o.next=t),a||(a=t,s()),o=t}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,n,r){t=t(`../internals/global`),n.exports=t.Promise},{"../internals/global":60}],84:[function(t,n,r){t=t(`../internals/fails`),n.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,n,r){var i=t(`../internals/fails`),a=t(`../internals/well-known-symbol`),o=t(`../internals/is-pure`),s=a(`iterator`);n.exports=!i(function(){var t=new URL(`b?a=1&b=2&c=3`,`http://a`),n=t.searchParams,r=``;return t.pathname=`c%20d`,n.forEach(function(t,i){n.delete(`b`),r+=i+t}),o&&!t.toJSON||!n.sort||t.href!==`http://a/c%20d?a=1&c=3`||n.get(`c`)!==`3`||String(new URLSearchParams(`?a=1`))!==`a=1`||!n[s]||new URL(`https://a@b`).username!==`a`||new URLSearchParams(new URLSearchParams(`a=b`)).get(`a`)!==`b`||new URL(`http://`).host!==`xn--e1aybc`||new URL(`http://a#`).hash!==`#%D0%B1`||r!==`a1c3`||new URL(`http://x`,void 0).host!==`x`})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(t,n,r){var i=t(`../internals/global`),t=t(`../internals/inspect-source`),i=i.WeakMap;n.exports=typeof i==`function`&&/native code/.test(t(i))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,n,r){function i(t){var n,r;this.promise=new t(function(t,i){if(n!==void 0||r!==void 0)throw TypeError(`Bad Promise constructor`);n=t,r=i}),this.resolve=a(n),this.reject=a(r)}var a=t(`../internals/a-function`);n.exports.f=function(t){return new i(t)}},{"../internals/a-function":5}],88:[function(t,n,r){var i=t(`../internals/is-regexp`);n.exports=function(t){if(i(t))throw TypeError(`The method doesn't accept regular expressions`);return t}},{"../internals/is-regexp":77}],89:[function(t,n,r){var i=t(`../internals/global`).isFinite;n.exports=Number.isFinite||function(t){return typeof t==`number`&&i(t)}},{"../internals/global":60}],90:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/fails`),o=t(`../internals/object-keys`),s=t(`../internals/object-get-own-property-symbols`),c=t(`../internals/object-property-is-enumerable`),l=t(`../internals/to-object`),u=t(`../internals/indexed-object`),d=Object.assign,f=Object.defineProperty;n.exports=!d||a(function(){var t,n,r,a;return!(!i||d({b:1},d(f({},`a`,{enumerable:!0,get:function(){f(this,`b`,{value:3,enumerable:!1})}}),{b:2})).b===1)||(n={},a=`abcdefghijklmnopqrst`,(t={})[r=Symbol()]=7,a.split(``).forEach(function(t){n[t]=t}),d({},t)[r]!=7||o(d({},n)).join(``)!=a)})?function(t,n){for(var r=l(t),a=arguments.length,d=1,f=s.f,p=c.f;d<a;)for(var m,h=u(arguments[d++]),g=f?o(h).concat(f(h)):o(h),_=g.length,v=0;v<_;)m=g[v++],i&&!p.call(h,m)||(r[m]=h[m]);return r}:d},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(t,n,r){function i(){}var a,o=t(`../internals/an-object`),s=t(`../internals/object-define-properties`),c=t(`../internals/enum-bug-keys`),l=t(`../internals/hidden-keys`),u=t(`../internals/html`),d=t(`../internals/document-create-element`),t=t(`../internals/shared-key`),f=`prototype`,p=`script`,m=t(`IE_PROTO`),h=function(t){return`<`+p+`>`+t+`</`+p+`>`},g=function(){try{a=document.domain&&new ActiveXObject(`htmlfile`)}catch{}g=a?((t=a).write(h(``)),t.close(),n=t.parentWindow.Object,t=null,n):(t=d(`iframe`),n=`java`+p+`:`,t.style.display=`none`,u.appendChild(t),t.src=String(n),(n=t.contentWindow.document).open(),n.write(h(`document.F=Object`)),n.close(),n.F);for(var t,n,r=c.length;r--;)delete g[f][c[r]];return g()};l[m]=!0,n.exports=Object.create||function(t,n){var r;return t===null?r=g():(i[f]=o(t),r=new i,i[f]=null,r[m]=t),n===void 0?r:s(r,n)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/object-define-property`),o=t(`../internals/an-object`),s=t(`../internals/object-keys`);n.exports=i?Object.defineProperties:function(t,n){o(t);for(var r,i=s(n),c=i.length,l=0;l<c;)a.f(t,r=i[l++],n[r]);return t}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/ie8-dom-define`),o=t(`../internals/an-object`),s=t(`../internals/to-primitive`),c=Object.defineProperty;r.f=i?c:function(t,n,r){if(o(t),n=s(n,!0),o(r),a)try{return c(t,n,r)}catch{}if(`get`in r||`set`in r)throw TypeError(`Accessors not supported`);return`value`in r&&(t[n]=r.value),t}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/object-property-is-enumerable`),o=t(`../internals/create-property-descriptor`),s=t(`../internals/to-indexed-object`),c=t(`../internals/to-primitive`),l=t(`../internals/has`),u=t(`../internals/ie8-dom-define`),d=Object.getOwnPropertyDescriptor;r.f=i?d:function(t,n){if(t=s(t),n=c(n,!0),u)try{return d(t,n)}catch{}if(l(t,n))return o(!a.f.call(t,n),t[n])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,n,r){var i=t(`../internals/to-indexed-object`),a=t(`../internals/object-get-own-property-names`).f,o={}.toString,s=typeof window==`object`&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(t){if(!s||o.call(t)!=`[object Window]`)return a(i(t));try{return a(t)}catch{return s.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,n,r){var i=t(`../internals/object-keys-internal`),a=t(`../internals/enum-bug-keys`).concat(`length`,`prototype`);r.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,n,r){r.f=Object.getOwnPropertySymbols},{}],98:[function(t,n,r){var i=t(`../internals/has`),a=t(`../internals/to-object`),o=t(`../internals/shared-key`),t=t(`../internals/correct-prototype-getter`),s=o(`IE_PROTO`),c=Object.prototype;n.exports=t?Object.getPrototypeOf:function(t){return t=a(t),i(t,s)?t[s]:typeof t.constructor==`function`&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,n,r){var i=t(`../internals/has`),a=t(`../internals/to-indexed-object`),o=t(`../internals/array-includes`).indexOf,s=t(`../internals/hidden-keys`);n.exports=function(t,n){var r,c=a(t),l=0,u=[];for(r in c)!i(s,r)&&i(c,r)&&u.push(r);for(;n.length>l;)!i(c,r=n[l++])||~o(u,r)||u.push(r);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,n,r){var i=t(`../internals/object-keys-internal`),a=t(`../internals/enum-bug-keys`);n.exports=Object.keys||function(t){return i(t,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,n,r){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor;r.f=a&&!i.call({1:2},1)?function(t){return t=a(this,t),!!t&&t.enumerable}:i},{}],102:[function(t,n,r){var i=t(`../internals/an-object`),a=t(`../internals/a-possible-prototype`);n.exports=Object.setPrototypeOf||(`__proto__`in{}?function(){var t,n=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,`__proto__`).set).call(r,[]),n=r instanceof Array}catch{}return function(r,o){return i(r),a(o),n?t.call(r,o):r.__proto__=o,r}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,n,r){function i(t){return function(n){for(var r,i=s(n),l=o(i),u=l.length,d=0,f=[];d<u;)r=l[d++],a&&!c.call(i,r)||f.push(t?[r,i[r]]:i[r]);return f}}var a=t(`../internals/descriptors`),o=t(`../internals/object-keys`),s=t(`../internals/to-indexed-object`),c=t(`../internals/object-property-is-enumerable`).f;n.exports={entries:i(!0),values:i(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,n,r){var i=t(`../internals/to-string-tag-support`),a=t(`../internals/classof`);n.exports=i?{}.toString:function(){return`[object `+a(this)+`]`}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,n,r){var i=t(`../internals/get-built-in`),a=t(`../internals/object-get-own-property-names`),o=t(`../internals/object-get-own-property-symbols`),s=t(`../internals/an-object`);n.exports=i(`Reflect`,`ownKeys`)||function(t){var n=a.f(s(t)),r=o.f;return r?n.concat(r(t)):n}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,n,r){t=t(`../internals/global`),n.exports=t},{"../internals/global":60}],107:[function(t,n,r){n.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},{}],108:[function(t,n,r){var i=t(`../internals/an-object`),a=t(`../internals/is-object`),o=t(`../internals/new-promise-capability`);n.exports=function(t,n){return i(t),a(n)&&n.constructor===t?n:((0,(t=o.f(t)).resolve)(n),t.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,n,r){var i=t(`../internals/redefine`);n.exports=function(t,n,r){for(var a in n)i(t,a,n[a],r);return t}},{"../internals/redefine":110}],110:[function(t,n,r){var i=t(`../internals/global`),a=t(`../internals/create-non-enumerable-property`),o=t(`../internals/has`),s=t(`../internals/set-global`),c=t(`../internals/inspect-source`),t=t(`../internals/internal-state`),l=t.get,u=t.enforce,d=String(String).split(`String`);(n.exports=function(t,n,r,c){var l=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,c=!!c&&!!c.noTargetGet;typeof r==`function`&&(typeof n!=`string`||o(r,`name`)||a(r,`name`,n),u(r).source=d.join(typeof n==`string`?n:``)),t===i?f?t[n]=r:s(n,r):(l?!c&&t[n]&&(f=!0):delete t[n],f?t[n]=r:a(t,n,r))})(Function.prototype,`toString`,function(){return typeof this==`function`&&l(this).source||c(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,n,r){var i=t(`./classof-raw`),a=t(`./regexp-exec`);n.exports=function(t,n){var r=t.exec;if(typeof r==`function`){if(r=r.call(t,n),typeof r!=`object`)throw TypeError(`RegExp exec method returned something other than an Object or null`);return r}if(i(t)!==`RegExp`)throw TypeError(`RegExp#exec called on incompatible receiver`);return a.call(t,n)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(t,n,r){var i,a,o=t(`./regexp-flags`),t=t(`./regexp-sticky-helpers`),s=RegExp.prototype.exec,c=String.prototype.replace,l=s,u=(i=/a/,a=/b*/g,s.call(i,`a`),s.call(a,`a`),i.lastIndex!==0||a.lastIndex!==0),d=t.UNSUPPORTED_Y||t.BROKEN_CARET,f=/()??/.exec(``)[1]!==void 0;n.exports=l=u||f||d?function(t){var n,r,i,a,l=this,p=d&&l.sticky,m=o.call(l),h=l.source,g=0,_=t;return p&&((m=m.replace(`y`,``)).indexOf(`g`)===-1&&(m+=`g`),_=String(t).slice(l.lastIndex),0<l.lastIndex&&(!l.multiline||l.multiline&&t[l.lastIndex-1]!==`
`)&&(h=`(?: `+h+`)`,_=` `+_,g++),r=RegExp(`^(?:`+h+`)`,m)),f&&(r=RegExp(`^`+h+`$(?!\\s)`,m)),u&&(n=l.lastIndex),i=s.call(p?r:l,_),p?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:u&&i&&(l.lastIndex=l.global?i.index+i[0].length:n),f&&i&&1<i.length&&c.call(i[0],r,function(){for(a=1;a<arguments.length-2;a++)arguments[a]===void 0&&(i[a]=void 0)}),i}:l},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,n,r){var i=t(`../internals/an-object`);n.exports=function(){var t=i(this),n=``;return t.global&&(n+=`g`),t.ignoreCase&&(n+=`i`),t.multiline&&(n+=`m`),t.dotAll&&(n+=`s`),t.unicode&&(n+=`u`),t.sticky&&(n+=`y`),n}},{"../internals/an-object":10}],114:[function(t,n,r){t=t(`./fails`);function i(t,n){return RegExp(t,n)}r.UNSUPPORTED_Y=t(function(){var t=i(`a`,`y`);return t.lastIndex=2,t.exec(`abcd`)!=null}),r.BROKEN_CARET=t(function(){var t=i(`^r`,`gy`);return t.lastIndex=2,t.exec(`str`)!=null})},{"./fails":51}],115:[function(t,n,r){n.exports=function(t){if(t==null)throw TypeError(`Can't call method on `+t);return t}},{}],116:[function(t,n,r){n.exports=Object.is||function(t,n){return t===n?t!==0||1/t==1/n:t!=t&&n!=n}},{}],117:[function(t,n,r){var i=t(`../internals/global`),a=t(`../internals/create-non-enumerable-property`);n.exports=function(t,n){try{a(i,t,n)}catch{i[t]=n}return n}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,n,r){var i=t(`../internals/get-built-in`),a=t(`../internals/object-define-property`),o=t(`../internals/well-known-symbol`),s=t(`../internals/descriptors`),c=o(`species`);n.exports=function(t){var t=i(t),n=a.f;s&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,n,r){var i=t(`../internals/object-define-property`).f,a=t(`../internals/has`),o=t(`../internals/well-known-symbol`)(`toStringTag`);n.exports=function(t,n,r){t&&!a(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:n})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,n,r){var i=t(`../internals/shared`),a=t(`../internals/uid`),o=i(`keys`);n.exports=function(t){return o[t]||(o[t]=a(t))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(t,n,r){var i=t(`../internals/global`),t=t(`../internals/set-global`),a=`__core-js_shared__`,i=i[a]||t(a,{});n.exports=i},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,n,r){var i=t(`../internals/is-pure`),a=t(`../internals/shared-store`);(n.exports=function(t,n){return a[t]||(a[t]=n===void 0?{}:n)})(`versions`,[]).push({version:`3.6.5`,mode:i?`pure`:`global`,copyright:` 2020 Denis Pushkarev (zloirock.ru)`})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,n,r){var i=t(`../internals/an-object`),a=t(`../internals/a-function`),o=t(`../internals/well-known-symbol`)(`species`);n.exports=function(t,n){var t=i(t).constructor;return t===void 0||(t=i(t)[o])==null?n:a(t)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,n,r){var i=t(`../internals/fails`);n.exports=function(t){return i(function(){var n=``[t](`"`);return n!==n.toLowerCase()||3<n.split(`"`).length})}},{"../internals/fails":51}],125:[function(t,n,r){function i(t){return function(n,r){var i,n=String(o(n)),r=a(r),s=n.length;return r<0||s<=r?t?``:void 0:(i=n.charCodeAt(r))<55296||56319<i||r+1===s||(s=n.charCodeAt(r+1))<56320||57343<s?t?n.charAt(r):i:t?n.slice(r,r+2):s-56320+(i-55296<<10)+65536}}var a=t(`../internals/to-integer`),o=t(`../internals/require-object-coercible`);n.exports={codeAt:i(!1),charAt:i(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,n,r){t=t(`../internals/engine-user-agent`),n.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,n,r){function i(t){return function(n,r,i){var n=String(s(n)),l=n.length,i=i===void 0?` `:String(i),r=a(r);return r<=l||i==``?n:((l=o.call(i,c((r-=l)/i.length))).length>r&&(l=l.slice(0,r)),t?n+l:l+n)}}var a=t(`../internals/to-length`),o=t(`../internals/string-repeat`),s=t(`../internals/require-object-coercible`),c=Math.ceil;n.exports={start:i(!1),end:i(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,n,r){function i(t){return t+22+75*(t<26)}function a(t){var n,r=[],a=(t=function(t){for(var n=[],r=0,i=t.length;r<i;){var a,o=t.charCodeAt(r++);55296<=o&&o<=56319&&r<i?(64512&(a=t.charCodeAt(r++)))==56320?n.push(((1023&o)<<10)+(1023&a)+65536):(n.push(o),r--):n.push(o)}return n}(t)).length,d=128,f=0,_=72;for(x=0;x<t.length;x++)(n=t[x])<128&&r.push(g(n));var v=r.length,y=v;for(v&&r.push(`-`);y<a;){for(var b=o,x=0;x<t.length;x++)d<=(n=t[x])&&n<b&&(b=n);var S=y+1;if(b-d>h((o-f)/S))throw RangeError(p);for(f+=(b-d)*S,d=b,x=0;x<t.length;x++){if((n=t[x])<d&&++f>o)throw RangeError(p);if(n==d){for(var C=f,w=s;;w+=s){var T=w<=_?1:_+c<=w?c:w-_;if(C<T)break;var E=C-T,D=s-T;r.push(g(i(T+E%D))),C=h(E/D)}r.push(g(i(C))),_=function(t,n,r){var i=0;for(t=r?h(t/u):t>>1,t+=h(t/n);m*c>>1<t;i+=s)t=h(t/m);return h(i+(m+1)*t/(t+l))}(f,S,y==v),f=0,++y}}++f,++d}return r.join(``)}var o=2147483647,s=36,c=26,l=38,u=700,d=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,p=`Overflow: input needs wider integers to process`,m=s-1,h=Math.floor,g=String.fromCharCode;n.exports=function(t){for(var n,r=[],i=t.toLowerCase().replace(f,`.`).split(`.`),o=0;o<i.length;o++)n=i[o],r.push(d.test(n)?`xn--`+a(n):n);return r.join(`.`)}},{}],129:[function(t,n,r){var i=t(`../internals/to-integer`),a=t(`../internals/require-object-coercible`);n.exports=``.repeat||function(t){var n=String(a(this)),r=``,o=i(t);if(o<0||o==1/0)throw RangeError(`Wrong number of repetitions`);for(;0<o;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,n,r){var i=t(`../internals/fails`),a=t(`../internals/whitespaces`);n.exports=function(t){return i(function(){return!!a[t]()||``[t]()!=``||a[t].name!==t})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(t,n,r){function i(t){return function(n){return n=String(a(n)),1&t&&(n=n.replace(o,``)),n=2&t?n.replace(s,``):n}}var a=t(`../internals/require-object-coercible`),t=`[`+t(`../internals/whitespaces`)+`]`,o=RegExp(`^`+t+t+`*`),s=RegExp(t+t+`*$`);n.exports={start:i(1),end:i(2),trim:i(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(t,n,r){function i(t){return function(){C(t)}}function a(t){C(t.data)}function o(t){c.postMessage(t+``,m.protocol+`//`+m.host)}var s,c=t(`../internals/global`),l=t(`../internals/fails`),u=t(`../internals/classof-raw`),d=t(`../internals/function-bind-context`),f=t(`../internals/html`),p=t(`../internals/document-create-element`),t=t(`../internals/engine-is-ios`),m=c.location,h=c.setImmediate,g=c.clearImmediate,_=c.process,v=c.MessageChannel,y=c.Dispatch,b=0,x={},S=`onreadystatechange`,C=function(t){var n;x.hasOwnProperty(t)&&(n=x[t],delete x[t],n())};h&&g||(h=function(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);return x[++b]=function(){(typeof t==`function`?t:Function(t)).apply(void 0,n)},s(b),b},g=function(t){delete x[t]},u(_)==`process`?s=function(t){_.nextTick(i(t))}:y&&y.now?s=function(t){y.now(i(t))}:v&&!t?(t=(u=new v).port2,u.port1.onmessage=a,s=d(t.postMessage,t,1)):!c.addEventListener||typeof postMessage!=`function`||c.importScripts||l(o)||m.protocol===`file:`?s=S in p(`script`)?function(t){f.appendChild(p(`script`))[S]=function(){f.removeChild(this),C(t)}}:function(t){setTimeout(i(t),0)}:(s=o,c.addEventListener(`message`,a,!1))),n.exports={set:h,clear:g}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,n,r){var i=t(`../internals/classof-raw`);n.exports=function(t){if(typeof t!=`number`&&i(t)!=`Number`)throw TypeError(`Incorrect invocation`);return+t}},{"../internals/classof-raw":28}],134:[function(t,n,r){var i=t(`../internals/to-integer`),a=Math.max,o=Math.min;n.exports=function(t,n){return t=i(t),t<0?a(t+n,0):o(t,n)}},{"../internals/to-integer":137}],135:[function(t,n,r){var i=t(`../internals/to-integer`),a=t(`../internals/to-length`);n.exports=function(t){if(t===void 0)return 0;var t=i(t),n=a(t);if(t!==n)throw RangeError(`Wrong length or index`);return n}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,n,r){var i=t(`../internals/indexed-object`),a=t(`../internals/require-object-coercible`);n.exports=function(t){return i(a(t))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,n,r){var i=Math.ceil,a=Math.floor;n.exports=function(t){return isNaN(t=+t)?0:(0<t?a:i)(t)}},{}],138:[function(t,n,r){var i=t(`../internals/to-integer`),a=Math.min;n.exports=function(t){return 0<t?a(i(t),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,n,r){var i=t(`../internals/require-object-coercible`);n.exports=function(t){return Object(i(t))}},{"../internals/require-object-coercible":115}],140:[function(t,n,r){var i=t(`../internals/to-positive-integer`);n.exports=function(t,n){if(t=i(t),t%n)throw RangeError(`Wrong offset`);return t}},{"../internals/to-positive-integer":141}],141:[function(t,n,r){var i=t(`../internals/to-integer`);n.exports=function(t){if(t=i(t),t<0)throw RangeError(`The argument can't be less than 0`);return t}},{"../internals/to-integer":137}],142:[function(t,n,r){var i=t(`../internals/is-object`);n.exports=function(t,n){if(!i(t))return t;var r,a;if(n&&typeof(r=t.toString)==`function`&&!i(a=r.call(t))||typeof(r=t.valueOf)==`function`&&!i(a=r.call(t))||!n&&typeof(r=t.toString)==`function`&&!i(a=r.call(t)))return a;throw TypeError(`Can't convert object to primitive value`)}},{"../internals/is-object":75}],143:[function(t,n,r){var i={};i[t(`../internals/well-known-symbol`)(`toStringTag`)]=`z`,n.exports=String(i)===`[object z]`},{"../internals/well-known-symbol":150}],144:[function(t,n,r){function i(t,n){for(var r=0,i=n.length,a=new(ne(t))(i);r<i;)a[r]=n[r++];return a}function a(t,n){R(t,n,{get:function(){return I(this)[n]}})}function o(t){return t instanceof H||(t=w(t))==`ArrayBuffer`||t==`SharedArrayBuffer`}function s(t,n){return re(t)&&typeof n!=`symbol`&&n in t&&String(+n)==String(n)}function c(t,n){return s(t,n=S(n,!0))?_(2,t[n]):z(t,n)}function l(t,n,r){return!(s(t,n=S(n,!0))&&T(r)&&C(r,`value`))||C(r,`get`)||C(r,`set`)||r.configurable||C(r,`writable`)&&!r.writable||C(r,`enumerable`)&&!r.enumerable?R(t,n,r):(t[n]=r.value,t)}var u=t(`../internals/export`),d=t(`../internals/global`),f=t(`../internals/descriptors`),p=t(`../internals/typed-array-constructors-require-wrappers`),m=t(`../internals/array-buffer-view-core`),h=t(`../internals/array-buffer`),g=t(`../internals/an-instance`),_=t(`../internals/create-property-descriptor`),v=t(`../internals/create-non-enumerable-property`),y=t(`../internals/to-length`),b=t(`../internals/to-index`),x=t(`../internals/to-offset`),S=t(`../internals/to-primitive`),C=t(`../internals/has`),w=t(`../internals/classof`),T=t(`../internals/is-object`),E=t(`../internals/object-create`),D=t(`../internals/object-set-prototype-of`),O=t(`../internals/object-get-own-property-names`).f,k=t(`../internals/typed-array-from`),A=t(`../internals/array-iteration`).forEach,j=t(`../internals/set-species`),M=t(`../internals/object-define-property`),N=t(`../internals/object-get-own-property-descriptor`),P=t(`../internals/internal-state`),F=t(`../internals/inherit-if-required`),I=P.get,L=P.set,R=M.f,z=N.f,B=Math.round,V=d.RangeError,H=h.ArrayBuffer,U=h.DataView,W=m.NATIVE_ARRAY_BUFFER_VIEWS,ee=m.TYPED_ARRAY_TAG,G=m.TypedArray,te=m.TypedArrayPrototype,ne=m.aTypedArrayConstructor,re=m.isTypedArray,K=`BYTES_PER_ELEMENT`,ie=`Wrong length`;f?(W||(N.f=c,M.f=l,a(te,`buffer`),a(te,`byteOffset`),a(te,`byteLength`),a(te,`length`)),u({target:`Object`,stat:!0,forced:!W},{getOwnPropertyDescriptor:c,defineProperty:l}),n.exports=function(t,n,r){function a(t,n){R(t,n,{get:function(){var t=this,r=n;return(t=I(t)).view[l](r*s+t.byteOffset,!0)},set:function(t){var i=this,a=n;i=I(i),r&&(t=(t=B(t))<0?0:255<t?255:255&t),i.view[f](a*s+i.byteOffset,t,!0)},enumerable:!0})}var s=t.match(/\d+$/)[0]/8,c=t+(r?`Clamped`:``)+`Array`,l=`get`+t,f=`set`+t,m=d[c],h=m,t=h&&h.prototype,_={};W?p&&(h=n(function(t,n,r,a){return g(t,h,c),F(T(n)?o(n)?a===void 0?r===void 0?new m(n):new m(n,x(r,s)):new m(n,x(r,s),a):re(n)?i(h,n):k.call(h,n):new m(b(n)),t,h)}),D&&D(h,G),A(O(m),function(t){t in h||v(h,t,m[t])}),h.prototype=t):(h=n(function(t,n,r,l){g(t,h,c);var u,d,f=0,p=0;if(T(n)){if(!o(n))return re(n)?i(h,n):k.call(h,n);var m=n,p=x(r,s),r=n.byteLength;if(l===void 0){if(r%s||(u=r-p)<0)throw V(ie)}else if(r<(u=y(l)*s)+p)throw V(ie);d=u/s}else d=b(n),m=new H(u=d*s);for(L(t,{buffer:m,byteOffset:p,byteLength:u,length:d,view:new U(m)});f<d;)a(t,f++)}),D&&D(h,G),t=h.prototype=E(te)),t.constructor!==h&&v(t,`constructor`,h),ee&&v(t,ee,c),_[c]=h,u({global:!0,forced:h!=m,sham:!W},_),K in h||v(h,K,s),K in t||v(t,K,s),j(c)}):n.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(t,n,r){var i=t(`../internals/global`),a=t(`../internals/fails`),o=t(`../internals/check-correctness-of-iteration`),t=t(`../internals/array-buffer-view-core`).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,c=i.Int8Array;n.exports=!t||!a(function(){c(1)})||!a(function(){new c(-1)})||!o(function(t){new c,new c(null),new c(1.5),new c(t)},!0)||a(function(){return new c(new s(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,n,r){var i=t(`../internals/to-object`),a=t(`../internals/to-length`),o=t(`../internals/get-iterator-method`),s=t(`../internals/is-array-iterator-method`),c=t(`../internals/function-bind-context`),l=t(`../internals/array-buffer-view-core`).aTypedArrayConstructor;n.exports=function(t){var n,r,u,d,f,p,m=i(t),h=arguments.length,g=1<h?arguments[1]:void 0,_=g!==void 0,v=o(m);if(v!=null&&!s(v))for(p=(f=v.call(m)).next,m=[];!(d=p.call(f)).done;)m.push(d.value);for(_&&2<h&&(g=c(g,arguments[2],2)),r=a(m.length),u=new(l(this))(r),n=0;n<r;n++)u[n]=_?g(m[n],n):m[n];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,n,r){var i=0,a=Math.random();n.exports=function(t){return`Symbol(`+String(t===void 0?``:t)+`)_`+(++i+a).toString(36)}},{}],148:[function(t,n,r){t=t(`../internals/native-symbol`),n.exports=t&&!Symbol.sham&&typeof Symbol.iterator==`symbol`},{"../internals/native-symbol":84}],149:[function(t,n,r){t=t(`../internals/well-known-symbol`),r.f=t},{"../internals/well-known-symbol":150}],150:[function(t,n,r){var i=t(`../internals/global`),a=t(`../internals/shared`),o=t(`../internals/has`),s=t(`../internals/uid`),c=t(`../internals/native-symbol`),t=t(`../internals/use-symbol-as-uid`),l=a(`wks`),u=i.Symbol,d=t?u:u&&u.withoutSetter||s;n.exports=function(t){return o(l,t)||(c&&o(u,t)?l[t]=u[t]:l[t]=d(`Symbol.`+t)),l[t]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,n,r){n.exports=`	
\v\f\r \xA0\u2028\u2029`},{}],152:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/global`),o=t(`../internals/array-buffer`),t=t(`../internals/set-species`),s=`ArrayBuffer`,o=o[s];i({global:!0,forced:a[s]!==o},{ArrayBuffer:o}),t(s)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/fails`),o=t(`../internals/is-array`),s=t(`../internals/is-object`),c=t(`../internals/to-object`),l=t(`../internals/to-length`),u=t(`../internals/create-property`),d=t(`../internals/array-species-create`),f=t(`../internals/array-method-has-species-support`),p=t(`../internals/well-known-symbol`),t=t(`../internals/engine-v8-version`),m=p(`isConcatSpreadable`),h=9007199254740991,g=`Maximum allowed index exceeded`,p=51<=t||!a(function(){var t=[];return t[m]=!1,t.concat()[0]!==t}),t=f(`concat`);i({target:`Array`,proto:!0,forced:!p||!t},{concat:function(t){for(var n,r,i,a,f,p=c(this),_=d(p,0),v=0,y=-1,b=arguments.length;y<b;y++)if(f=void 0,!s(a=i=y===-1?p:arguments[y])||((f=a[m])===void 0?!o(a):!f)){if(h<=v)throw TypeError(g);u(_,v++,i)}else{if(r=l(i.length),h<v+r)throw TypeError(g);for(n=0;n<r;n++,v++)n in i&&u(_,v,i[n])}return _.length=v,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-copy-within`),t=t(`../internals/add-to-unscopables`);i({target:`Array`,proto:!0},{copyWithin:a}),t(`copyWithin`)},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-iteration`).every,o=t(`../internals/array-method-is-strict`),t=t(`../internals/array-method-uses-to-length`),o=o(`every`),t=t(`every`);i({target:`Array`,proto:!0,forced:!o||!t},{every:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-fill`),t=t(`../internals/add-to-unscopables`);i({target:`Array`,proto:!0},{fill:a}),t(`fill`)},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-iteration`).filter,o=t(`../internals/array-method-has-species-support`),t=t(`../internals/array-method-uses-to-length`),o=o(`filter`),t=t(`filter`);i({target:`Array`,proto:!0,forced:!o||!t},{filter:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-iteration`).findIndex,o=t(`../internals/add-to-unscopables`),t=t(`../internals/array-method-uses-to-length`),s=`findIndex`,c=!0,t=t(s);s in[]&&[,][s](function(){c=!1}),i({target:`Array`,proto:!0,forced:c||!t},{findIndex:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}}),o(s)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/flatten-into-array`),o=t(`../internals/to-object`),s=t(`../internals/to-length`),c=t(`../internals/a-function`),l=t(`../internals/array-species-create`);i({target:`Array`,proto:!0},{flatMap:function(t){var n,r=o(this),i=s(r.length);return c(t),(n=l(r,0)).length=a(n,r,r,i,0,1,t,1<arguments.length?arguments[1]:void 0),n}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/flatten-into-array`),o=t(`../internals/to-object`),s=t(`../internals/to-length`),c=t(`../internals/to-integer`),l=t(`../internals/array-species-create`);i({target:`Array`,proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,n=o(this),r=s(n.length),i=l(n,0);return i.length=a(i,n,n,r,0,t===void 0?1:c(t)),i}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(t,n,r){var i=t(`../internals/export`),t=t(`../internals/array-for-each`);i({target:`Array`,proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-from`);i({target:`Array`,stat:!0,forced:!t(`../internals/check-correctness-of-iteration`)(function(t){Array.from(t)})},{from:a})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-includes`).includes,o=t(`../internals/add-to-unscopables`);i({target:`Array`,proto:!0,forced:!t(`../internals/array-method-uses-to-length`)(`indexOf`,{ACCESSORS:!0,1:0})},{includes:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}}),o(`includes`)},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-includes`).indexOf,o=t(`../internals/array-method-is-strict`),t=t(`../internals/array-method-uses-to-length`),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,o=o(`indexOf`),t=t(`indexOf`,{ACCESSORS:!0,1:0});i({target:`Array`,proto:!0,forced:c||!o||!t},{indexOf:function(t){return c?s.apply(this,arguments)||0:a(this,t,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(t,n,r){var i=t(`../internals/to-indexed-object`),a=t(`../internals/add-to-unscopables`),o=t(`../internals/iterators`),s=t(`../internals/internal-state`),t=t(`../internals/define-iterator`),c=`Array Iterator`,l=s.set,u=s.getterFor(c);n.exports=t(Array,`Array`,function(t,n){l(this,{type:c,target:i(t),index:0,kind:n})},function(){var t=u(this),n=t.target,r=t.kind,i=t.index++;return!n||i>=n.length?{value:t.target=void 0,done:!0}:r==`keys`?{value:i,done:!1}:r==`values`?{value:n[i],done:!1}:{value:[i,n[i]],done:!1}},`values`),o.Arguments=o.Array,a(`keys`),a(`values`),a(`entries`)},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/indexed-object`),o=t(`../internals/to-indexed-object`),t=t(`../internals/array-method-is-strict`),s=[].join,a=a!=Object,t=t(`join`,`,`);i({target:`Array`,proto:!0,forced:a||!t},{join:function(t){return s.call(o(this),t===void 0?`,`:t)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(t,n,r){var i=t(`../internals/export`),t=t(`../internals/array-last-index-of`);i({target:`Array`,proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-iteration`).map,o=t(`../internals/array-method-has-species-support`),t=t(`../internals/array-method-uses-to-length`),o=o(`map`),t=t(`map`);i({target:`Array`,proto:!0,forced:!o||!t},{map:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/is-object`),o=t(`../internals/is-array`),s=t(`../internals/to-absolute-index`),c=t(`../internals/to-length`),l=t(`../internals/to-indexed-object`),u=t(`../internals/create-property`),d=t(`../internals/well-known-symbol`),f=t(`../internals/array-method-has-species-support`),t=t(`../internals/array-method-uses-to-length`),f=f(`slice`),t=t(`slice`,{ACCESSORS:!0,0:0,1:2}),p=d(`species`),m=[].slice,h=Math.max;i({target:`Array`,proto:!0,forced:!f||!t},{slice:function(t,n){var r,i,d,f=l(this),g=c(f.length),_=s(t,g),v=s(n===void 0?g:n,g);if(o(f)&&((r=typeof(r=f.constructor)==`function`&&(r===Array||o(r.prototype))||a(r)&&(r=r[p])===null?void 0:r)===Array||r===void 0))return m.call(f,_,v);for(i=new(r===void 0?Array:r)(h(v-_,0)),d=0;_<v;_++,d++)_ in f&&u(i,d,f[_]);return i.length=d,i}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/array-iteration`).some,o=t(`../internals/array-method-is-strict`),t=t(`../internals/array-method-uses-to-length`),o=o(`some`),t=t(`some`);i({target:`Array`,proto:!0,forced:!o||!t},{some:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/to-absolute-index`),o=t(`../internals/to-integer`),s=t(`../internals/to-length`),c=t(`../internals/to-object`),l=t(`../internals/array-species-create`),u=t(`../internals/create-property`),d=t(`../internals/array-method-has-species-support`),t=t(`../internals/array-method-uses-to-length`),d=d(`splice`),t=t(`splice`,{ACCESSORS:!0,0:0,1:2}),f=Math.max,p=Math.min;i({target:`Array`,proto:!0,forced:!d||!t},{splice:function(t,n){var r,i,d,m,h,g,_=c(this),v=s(_.length),y=a(t,v),t=arguments.length;if(t===0?r=i=0:i=t===1?(r=0,v-y):(r=t-2,p(f(o(n),0),v-y)),9007199254740991<v+r-i)throw TypeError(`Maximum allowed length exceeded`);for(d=l(_,i),m=0;m<i;m++)(h=y+m)in _&&u(d,m,_[h]);if(r<(d.length=i)){for(m=y;m<v-i;m++)g=m+r,(h=m+i)in _?_[g]=_[h]:delete _[g];for(m=v;v-i+r<m;m--)delete _[m-1]}else if(i<r)for(m=v-i;y<m;m--)g=m+r-1,(h=m+i-1)in _?_[g]=_[h]:delete _[g];for(m=0;m<r;m++)_[m+y]=arguments[m+2];return _.length=v-i+r,d}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,n,r){t(`../internals/add-to-unscopables`)(`flatMap`)},{"../internals/add-to-unscopables":7}],173:[function(t,n,r){t(`../internals/add-to-unscopables`)(`flat`)},{"../internals/add-to-unscopables":7}],174:[function(t,n,r){var i=t(`../internals/descriptors`),t=t(`../internals/object-define-property`).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;!i||`name`in a||t(a,`name`,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch{return``}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(t,n,r){var i=t(`../internals/collection`),t=t(`../internals/collection-strong`);n.exports=i(`Map`,function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(t,n,r){var t=t(`../internals/export`),i=Math.hypot,a=Math.abs,o=Math.sqrt;t({target:`Math`,stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,n){for(var r,i,s=0,c=0,l=arguments.length,u=0;c<l;)u<(r=a(arguments[c++]))?(s=s*(i=u/r)*i+1,u=r):s+=0<r?(i=r/u)*i:r;return u===1/0?1/0:u*o(s)}})},{"../internals/export":50}],177:[function(t,n,r){var t=t(`../internals/export`),i=Math.log,a=Math.LN2;t({target:`Math`,stat:!0},{log2:function(t){return i(t)/a}})},{"../internals/export":50}],178:[function(t,n,r){t(`../internals/export`)({target:`Math`,stat:!0},{sign:t(`../internals/math-sign`)})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,n,r){function i(t){var n,r,i,a,o,s,c,l=f(t,!1);if(typeof l==`string`&&2<l.length){if((t=(l=v(l)).charCodeAt(0))===43||t===45){if((n=l.charCodeAt(2))===88||n===120)return NaN}else if(t===48){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=(a=l.slice(2)).length,s=0;s<o;s++)if((c=a.charCodeAt(s))<48||i<c)return NaN;return parseInt(a,r)}}return+l}var a=t(`../internals/descriptors`),o=t(`../internals/global`),s=t(`../internals/is-forced`),c=t(`../internals/redefine`),l=t(`../internals/has`),u=t(`../internals/classof-raw`),d=t(`../internals/inherit-if-required`),f=t(`../internals/to-primitive`),p=t(`../internals/fails`),m=t(`../internals/object-create`),h=t(`../internals/object-get-own-property-names`).f,g=t(`../internals/object-get-own-property-descriptor`).f,_=t(`../internals/object-define-property`).f,v=t(`../internals/string-trim`).trim,y=`Number`,b=o[y],x=b.prototype,S=u(m(x))==y;if(s(y,!b(` 0o1`)||!b(`0b1`)||b(`+0x1`))){for(var C,w=function(t){var t=arguments.length<1?0:t,n=this;return n instanceof w&&(S?p(function(){x.valueOf.call(n)}):u(n)!=y)?d(new b(i(t)),n,w):i(t)},T=a?h(b):`MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger`.split(`,`),E=0;T.length>E;E++)l(b,C=T[E])&&!l(w,C)&&_(w,C,g(b,C));(w.prototype=x).constructor=w,c(o,y,w)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,n,r){t(`../internals/export`)({target:`Number`,stat:!0},{EPSILON:2**-52})},{"../internals/export":50}],181:[function(t,n,r){t(`../internals/export`)({target:`Number`,stat:!0},{isFinite:t(`../internals/number-is-finite`)})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(t,n,r){function i(t,n,r){return n===0?r:n%2==1?i(t,n-1,r*t):i(t*t,n/2,r)}var a=t(`../internals/export`),o=t(`../internals/to-integer`),s=t(`../internals/this-number-value`),c=t(`../internals/string-repeat`),t=t(`../internals/fails`),l=1 .toFixed,u=Math.floor;a({target:`Number`,proto:!0,forced:l&&(8e-5.toFixed(3)!==`0.000`||.9.toFixed(0)!==`1`||1.255.toFixed(2)!==`1.25`||0xde0b6b3a7640080.toFixed(0)!==`1000000000000000128`)||!t(function(){l.call({})})},{toFixed:function(t){function n(t,n){for(var r=-1,i=n;++r<6;)i+=t*p[r],p[r]=i%1e7,i=u(i/1e7)}function r(t){for(var n=6,r=0;0<=--n;)r+=p[n],p[n]=u(r/t),r=r%t*1e7}function a(){for(var t,n=6,r=``;0<=--n;)r===``&&n!==0&&p[n]===0||(t=String(p[n]),r=r===``?t:r+c.call(`0`,7-t.length)+t);return r}var l,d,f=s(this),t=o(t),p=[0,0,0,0,0,0],m=``,h=`0`;if(t<0||20<t)throw RangeError(`Incorrect fraction digits`);if(f!=f)return`NaN`;if(f<=-1e21||1e21<=f)return String(f);if(f<0&&(m=`-`,f=-f),1e-21<f)if(f=(l=function(t){for(var n=0,r=t;4096<=r;)n+=12,r/=4096;for(;2<=r;)n+=1,r/=2;return n}(f*i(2,69,1))-69)<0?f*i(2,-l,1):f/i(2,l,1),f*=4503599627370496,0<(l=52-l)){for(n(0,f),d=t;7<=d;)n(1e7,0),d-=7;for(n(i(10,d,1),0),d=l-1;23<=d;)r(1<<23),d-=23;r(1<<d),n(1,1),r(2),h=a()}else n(0,f),n(1<<-l,0),h=a()+c.call(`0`,t);return h=0<t?m+((f=h.length)<=t?`0.`+c.call(`0`,t-f)+h:h.slice(0,f-t)+`.`+h.slice(f-t)):m+h}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(t,n,r){var i=t(`../internals/export`),t=t(`../internals/object-assign`);i({target:`Object`,stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/object-to-array`).entries;i({target:`Object`,stat:!0},{entries:function(t){return a(t)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/iterate`),o=t(`../internals/create-property`);i({target:`Object`,stat:!0},{fromEntries:function(t){var n={};return a(t,function(t,r){o(n,t,r)},void 0,!0),n}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/fails`),o=t(`../internals/to-indexed-object`),s=t(`../internals/object-get-own-property-descriptor`).f,t=t(`../internals/descriptors`),a=a(function(){s(1)});i({target:`Object`,stat:!0,forced:!t||a,sham:!t},{getOwnPropertyDescriptor:function(t,n){return s(o(t),n)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/fails`),t=t(`../internals/object-get-own-property-names-external`).f;i({target:`Object`,stat:!0,forced:a(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:t})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/fails`),o=t(`../internals/to-object`),s=t(`../internals/object-get-prototype-of`),t=t(`../internals/correct-prototype-getter`);i({target:`Object`,stat:!0,forced:a(function(){s(1)}),sham:!t},{getPrototypeOf:function(t){return s(o(t))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/to-object`),o=t(`../internals/object-keys`);i({target:`Object`,stat:!0,forced:t(`../internals/fails`)(function(){o(1)})},{keys:function(t){return o(a(t))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(t,n,r){var i=t(`../internals/to-string-tag-support`),a=t(`../internals/redefine`),t=t(`../internals/object-to-string`);i||a(Object.prototype,`toString`,t,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(t,n,r){var i,a,o,s,c=t(`../internals/export`),l=t(`../internals/is-pure`),u=t(`../internals/global`),d=t(`../internals/get-built-in`),f=t(`../internals/native-promise-constructor`),p=t(`../internals/redefine`),m=t(`../internals/redefine-all`),h=t(`../internals/set-to-string-tag`),g=t(`../internals/set-species`),_=t(`../internals/is-object`),v=t(`../internals/a-function`),y=t(`../internals/an-instance`),b=t(`../internals/classof-raw`),x=t(`../internals/inspect-source`),S=t(`../internals/iterate`),C=t(`../internals/check-correctness-of-iteration`),w=t(`../internals/species-constructor`),T=t(`../internals/task`).set,E=t(`../internals/microtask`),D=t(`../internals/promise-resolve`),O=t(`../internals/host-report-errors`),k=t(`../internals/new-promise-capability`),A=t(`../internals/perform`),j=t(`../internals/internal-state`),M=t(`../internals/is-forced`),N=t(`../internals/well-known-symbol`),P=t(`../internals/engine-v8-version`),F=N(`species`),I=`Promise`,L=j.get,R=j.set,z=j.getterFor(I),B=f,V=u.TypeError,H=u.document,U=u.process,W=d(`fetch`),ee=k.f,G=ee,te=b(U)==`process`,ne=!!(H&&H.createEvent&&u.dispatchEvent),re=`unhandledrejection`,K=`rejectionhandled`,ie=1,q=2,ae=1,oe=2,t=M(I,function(){var t,n;return x(B)===String(B)&&(P===66||!te&&typeof PromiseRejectionEvent!=`function`)?!0:!(!l||B.prototype.finally)||!(51<=P&&/native code/.test(B))&&(n=function(t){t(function(){},function(){})},((t=B.resolve(1)).constructor={})[F]=n,!(t.then(function(){})instanceof n))}),N=t||!C(function(t){B.all(t).catch(function(){})}),se=function(t){var n;return!(!_(t)||typeof(n=t.then)!=`function`)&&n},J=function(t,n,r){var i;n.notified||(n.notified=!0,i=n.reactions,E(function(){for(var a,o,s=n.value,c=n.state==ie,l=0;i.length>l;){var d,f,p,m=i[l++],h=c?m.ok:m.fail,g=m.resolve,_=m.reject,v=m.domain;try{h?(c||(n.rejection===oe&&function(t,n){T.call(u,function(){te?U.emit(`rejectionHandled`,t):ce(K,t,n.value)})}(t,n),n.rejection=ae),!0===h?d=s:(v&&v.enter(),d=h(s),v&&(v.exit(),p=!0)),d===m.promise?_(V(`Promise-chain cycle`)):(f=se(d))?f.call(d,g,_):g(d)):_(s)}catch(t){v&&!p&&v.exit(),_(t)}}n.reactions=[],n.notified=!1,r&&!n.rejection&&(a=t,o=n,T.call(u,function(){var t=o.value,n=Y(o);if(n&&(n=A(function(){te?U.emit(`unhandledRejection`,t,a):ce(re,a,t)}),o.rejection=te||Y(o)?oe:ae,n.error))throw n.value}))}))},ce=function(t,n,r){var i;ne?((i=H.createEvent(`Event`)).promise=n,i.reason=r,i.initEvent(t,!1,!0),u.dispatchEvent(i)):i={promise:n,reason:r},(n=u[`on`+t])?n(i):t===re&&O(`Unhandled promise rejection`,r)},Y=function(t){return t.rejection!==ae&&!t.parent},le=function(t,n,r,i){return function(a){t(n,r,a,i)}},X=function(t,n,r,i){n.done||(n.done=!0,(n=i||n).value=r,n.state=q,J(t,n,!0))},ue=function(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw V(`Promise can't be resolved itself`);var a=se(r);a?E(function(){var i={done:!1};try{a.call(r,le(ue,t,i,n),le(X,t,i,n))}catch(r){X(t,i,r,n)}}):(n.value=r,n.state=ie,J(t,n,!1))}catch(r){X(t,{done:!1},r,n)}}};t&&(B=function(t){y(this,B,I),v(t),i.call(this);var n=L(this);try{t(le(ue,this,n),le(X,this,n))}catch(t){X(this,n,t)}},(i=function(t){R(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=m(B.prototype,{then:function(t,n){var r=z(this),i=ee(w(this,B));return i.ok=typeof t!=`function`||t,i.fail=typeof n==`function`&&n,i.domain=te?U.domain:void 0,r.parent=!0,r.reactions.push(i),r.state!=0&&J(this,r,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i,n=L(t);this.promise=t,this.resolve=le(ue,t,n),this.reject=le(X,t,n)},k.f=ee=function(t){return t===B||t===o?new a:G(t)},l||typeof f!=`function`||(s=f.prototype.then,p(f.prototype,`then`,function(t,n){var r=this;return new B(function(t,n){s.call(r,t,n)}).then(t,n)},{unsafe:!0}),typeof W==`function`&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return D(B,W.apply(u,arguments))}}))),c({global:!0,wrap:!0,forced:t},{Promise:B}),h(B,I,!1,!0),g(I),o=d(I),c({target:I,stat:!0,forced:t},{reject:function(t){var n=ee(this);return n.reject.call(void 0,t),n.promise}}),c({target:I,stat:!0,forced:l||t},{resolve:function(t){return D(l&&this===o?B:this,t)}}),c({target:I,stat:!0,forced:N},{all:function(t){var n=this,r=ee(n),i=r.resolve,a=r.reject,o=A(function(){var r=v(n.resolve),o=[],s=0,c=1;S(t,function(t){var l=s++,u=!1;o.push(void 0),c++,r.call(n,t).then(function(t){u||(u=!0,o[l]=t,--c||i(o))},a)}),--c||i(o)});return o.error&&a(o.value),r.promise},race:function(t){var n=this,r=ee(n),i=r.reject,a=A(function(){var a=v(n.resolve);S(t,function(t){a.call(n,t).then(r.resolve,i)})});return a.error&&i(a.value),r.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/get-built-in`),o=t(`../internals/a-function`),s=t(`../internals/an-object`),c=t(`../internals/is-object`),l=t(`../internals/object-create`),u=t(`../internals/function-bind`),t=t(`../internals/fails`),d=a(`Reflect`,`construct`),f=t(function(){function t(){}return!(d(function(){},[],t)instanceof t)}),p=!t(function(){d(function(){})}),a=f||p;i({target:`Reflect`,stat:!0,forced:a,sham:a},{construct:function(t,n){o(t),s(n);var r=arguments.length<3?t:o(arguments[2]);if(p&&!f)return d(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var i=[null];return i.push.apply(i,n),new(u.apply(t,i))}return i=r.prototype,r=l(c(i)?i:Object.prototype),i=Function.apply.call(t,r,n),c(i)?i:r}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/is-object`),o=t(`../internals/an-object`),s=t(`../internals/has`),c=t(`../internals/object-get-own-property-descriptor`),l=t(`../internals/object-get-prototype-of`);i({target:`Reflect`,stat:!0},{get:function t(n,r){var i,u=arguments.length<3?n:arguments[2];return o(n)===u?n[r]:(i=c.f(n,r))?s(i,`value`)?i.value:i.get===void 0?void 0:i.get.call(u):a(i=l(n))?t(i,r,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,n,r){var i=t(`../internals/descriptors`),a=t(`../internals/global`),o=t(`../internals/is-forced`),s=t(`../internals/inherit-if-required`),c=t(`../internals/object-define-property`).f,l=t(`../internals/object-get-own-property-names`).f,u=t(`../internals/is-regexp`),d=t(`../internals/regexp-flags`),f=t(`../internals/regexp-sticky-helpers`),p=t(`../internals/redefine`),m=t(`../internals/fails`),h=t(`../internals/internal-state`).set,g=t(`../internals/set-species`),_=t(`../internals/well-known-symbol`)(`match`),v=a.RegExp,y=v.prototype,b=/a/g,x=/a/g,S=new v(b)!==b,C=f.UNSUPPORTED_Y;if(i&&o(`RegExp`,!S||C||m(function(){return x[_]=!1,v(b)!=b||v(x)==x||v(b,`i`)!=`/a/i`}))){for(var w=function(t,n){var r,i=this instanceof w,a=u(t),o=n===void 0;return!i&&a&&t.constructor===w&&o?t:(S?a&&!o&&(t=t.source):t instanceof w&&(o&&(n=d.call(t)),t=t.source),C&&(r=!!n&&-1<n.indexOf(`y`))&&(n=n.replace(/y/g,``)),a=s(S?new v(t,n):v(t,n),i?this:y,w),C&&r&&h(a,{sticky:r}),a)},T=l(v),E=0;T.length>E;)(function(t){t in w||c(w,t,{configurable:!0,get:function(){return v[t]},set:function(n){v[t]=n}})})(T[E++]);(y.constructor=w).prototype=y,p(a,`RegExp`,w)}g(`RegExp`)},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(t,n,r){var i=t(`../internals/export`),t=t(`../internals/regexp-exec`);i({target:`RegExp`,proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(t,n,r){var i=t(`../internals/redefine`),a=t(`../internals/an-object`),o=t(`../internals/fails`),s=t(`../internals/regexp-flags`),t=`toString`,c=RegExp.prototype,l=c[t],o=o(function(){return l.call({source:`a`,flags:`b`})!=`/a/b`}),u=l.name!=t;(o||u)&&i(RegExp.prototype,t,function(){var t=a(this),n=String(t.source),r=t.flags;return`/`+n+`/`+String(r===void 0&&t instanceof RegExp&&!(`flags`in c)?s.call(t):r)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(t,n,r){var i=t(`../internals/collection`),t=t(`../internals/collection-strong`);n.exports=i(`Set`,function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/object-get-own-property-descriptor`).f,o=t(`../internals/to-length`),s=t(`../internals/not-a-regexp`),c=t(`../internals/require-object-coercible`),l=t(`../internals/correct-is-regexp-logic`),t=t(`../internals/is-pure`),u=``.endsWith,d=Math.min,l=l(`endsWith`);i({target:`String`,proto:!0,forced:!!(t||l||!(i=a(String.prototype,`endsWith`))||i.writable)&&!l},{endsWith:function(t){var n=String(c(this)),r=(s(t),1<arguments.length?arguments[1]:void 0),i=o(n.length),r=r===void 0?i:d(o(r),i),i=String(t);return u?u.call(n,i,r):n.slice(r-i.length,r)===i}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/not-a-regexp`),o=t(`../internals/require-object-coercible`);i({target:`String`,proto:!0,forced:!t(`../internals/correct-is-regexp-logic`)(`includes`)},{includes:function(t){return!!~String(o(this)).indexOf(a(t),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(t,n,r){var i=t(`../internals/string-multibyte`).charAt,a=t(`../internals/internal-state`),t=t(`../internals/define-iterator`),o=`String Iterator`,s=a.set,c=a.getterFor(o);t(String,`String`,function(t){s(this,{type:o,string:String(t),index:0})},function(){var t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(n=i(n,r),t.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,n,r){var i=t(`../internals/fix-regexp-well-known-symbol-logic`),a=t(`../internals/an-object`),o=t(`../internals/to-length`),s=t(`../internals/require-object-coercible`),c=t(`../internals/advance-string-index`),l=t(`../internals/regexp-exec-abstract`);i(`match`,1,function(t,n,r){return[function(n){var r=s(this),i=n?.[t];return i===void 0?new RegExp(n)[t](String(r)):i.call(n,r)},function(t){var i=r(n,t,this);if(i.done)return i.value;var s=a(t),u=String(this);if(!s.global)return l(s,u);for(var d=s.unicode,f=[],p=s.lastIndex=0;(m=l(s,u))!==null;){var m=String(m[0]);(f[p]=m)===``&&(s.lastIndex=c(u,o(s.lastIndex),d)),p++}return p===0?null:f}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/string-pad`).start;i({target:`String`,proto:!0,forced:t(`../internals/string-pad-webkit-bug`)},{padStart:function(t){return a(this,t,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,n,r){t(`../internals/export`)({target:`String`,proto:!0},{repeat:t(`../internals/string-repeat`)})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,n,r){var i=t(`../internals/fix-regexp-well-known-symbol-logic`),a=t(`../internals/an-object`),o=t(`../internals/to-object`),s=t(`../internals/to-length`),c=t(`../internals/to-integer`),l=t(`../internals/require-object-coercible`),u=t(`../internals/advance-string-index`),d=t(`../internals/regexp-exec-abstract`),f=Math.max,p=Math.min,m=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;i(`replace`,2,function(t,n,r,i){var _=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,y=_?`$`:`$0`;return[function(r,i){var a=l(this),o=r?.[t];return o===void 0?n.call(String(a),r,i):o.call(r,a,i)},function(t,i){if(!_&&v||typeof i==`string`&&i.indexOf(y)===-1){var l=r(n,t,this,i);if(l.done)return l.value}for(var b,x=a(t),S=String(this),C=typeof i==`function`,w=(C||(i=String(i)),x.global),T=(w&&(b=x.unicode,x.lastIndex=0),[]);(A=d(x,S))!==null&&(T.push(A),w);)String(A[0])===``&&(x.lastIndex=u(S,s(x.lastIndex),b));for(var E,D=``,O=0,k=0;k<T.length;k++){for(var A=T[k],j=String(A[0]),M=f(p(c(A.index),S.length),0),N=[],P=1;P<A.length;P++)N.push((E=A[P])===void 0?E:String(E));var F=A.groups,I=C?(I=[j].concat(N,M,S),F!==void 0&&I.push(F),String(i.apply(void 0,I))):function(t,r,i,a,s,c){var l=i+t.length,u=a.length,d=g;return s!==void 0&&(s=o(s),d=h),n.call(c,d,function(n,o){var c;switch(o.charAt(0)){case`$`:return`$`;case`&`:return t;case"`":return r.slice(0,i);case`'`:return r.slice(l);case`<`:c=s[o.slice(1,-1)];break;default:var d,f=+o;if(f==0)return n;if(u<f)return(d=m(f/10))!==0&&d<=u?a[d-1]===void 0?o.charAt(1):a[d-1]+o.charAt(1):n;c=a[f-1]}return c===void 0?``:c})}(j,S,M,N,F,i);O<=M&&(D+=S.slice(O,M)+I,O=M+j.length)}return D+S.slice(O)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,n,r){var i=t(`../internals/fix-regexp-well-known-symbol-logic`),a=t(`../internals/an-object`),o=t(`../internals/require-object-coercible`),s=t(`../internals/same-value`),c=t(`../internals/regexp-exec-abstract`);i(`search`,1,function(t,n,r){return[function(n){var r=o(this),i=n?.[t];return i===void 0?new RegExp(n)[t](String(r)):i.call(n,r)},function(t){var i,o=r(n,t,this);return o.done?o.value:(o=a(t),t=String(this),i=o.lastIndex,s(i,0)||(o.lastIndex=0),t=c(o,t),s(o.lastIndex,i)||(o.lastIndex=i),t===null?-1:t.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(t,n,r){var i=t(`../internals/fix-regexp-well-known-symbol-logic`),a=t(`../internals/is-regexp`),o=t(`../internals/an-object`),s=t(`../internals/require-object-coercible`),c=t(`../internals/species-constructor`),l=t(`../internals/advance-string-index`),u=t(`../internals/to-length`),d=t(`../internals/regexp-exec-abstract`),f=t(`../internals/regexp-exec`),t=t(`../internals/fails`),p=[].push,m=Math.min,h=4294967295,g=!t(function(){return!RegExp(h,`y`)});i(`split`,2,function(t,n,r){var i=`abbc`.split(/(b)*/)[1]==`c`||`test`.split(/(?:)/,-1).length!=4||`ab`.split(/(?:ab)*/).length!=2||`.`.split(/(.?)(.?)/).length!=4||1<`.`.split(/()()/).length||``.split(/.?/).length?function(t,r){var i=String(s(this)),o=r===void 0?h:r>>>0;if(o==0)return[];if(t===void 0)return[i];if(!a(t))return n.call(i,t,o);for(var c,l,u,d=[],r=(t.ignoreCase?`i`:``)+(t.multiline?`m`:``)+(t.unicode?`u`:``)+(t.sticky?`y`:``),m=0,g=new RegExp(t.source,r+`g`);(c=f.call(g,i))&&!(m<(l=g.lastIndex)&&(d.push(i.slice(m,c.index)),1<c.length&&c.index<i.length&&p.apply(d,c.slice(1)),u=c[0].length,m=l,d.length>=o));)g.lastIndex===c.index&&g.lastIndex++;return m===i.length?!u&&g.test(``)||d.push(``):d.push(i.slice(m)),d.length>o?d.slice(0,o):d}:`0`.split(void 0,0).length?function(t,r){return t===void 0&&r===0?[]:n.call(this,t,r)}:n;return[function(n,r){var a=s(this),o=n?.[t];return o===void 0?i.call(String(a),n,r):o.call(n,a,r)},function(t,a){var s=r(i,t,this,a,i!==n);if(s.done)return s.value;var s=o(t),f=String(this),t=c(s,RegExp),p=s.unicode,_=(s.ignoreCase?`i`:``)+(s.multiline?`m`:``)+(s.unicode?`u`:``)+(g?`y`:`g`),v=new t(g?s:`^(?:`+s.source+`)`,_),y=a===void 0?h:a>>>0;if(y==0)return[];if(f.length===0)return d(v,f)===null?[f]:[];for(var b=0,x=0,S=[];x<f.length;){v.lastIndex=g?x:0;var C,w=d(v,g?f:f.slice(x));if(w===null||(C=m(u(v.lastIndex+(g?0:x)),f.length))===b)x=l(f,x,p);else{if(S.push(f.slice(b,x)),S.length===y)return S;for(var T=1;T<=w.length-1;T++)if(S.push(w[T]),S.length===y)return S;x=b=C}}return S.push(f.slice(b)),S}]},!g)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/object-get-own-property-descriptor`).f,o=t(`../internals/to-length`),s=t(`../internals/not-a-regexp`),c=t(`../internals/require-object-coercible`),l=t(`../internals/correct-is-regexp-logic`),t=t(`../internals/is-pure`),u=``.startsWith,d=Math.min,l=l(`startsWith`);i({target:`String`,proto:!0,forced:!!(t||l||!(i=a(String.prototype,`startsWith`))||i.writable)&&!l},{startsWith:function(t){var n=String(c(this)),r=(s(t),o(d(1<arguments.length?arguments[1]:void 0,n.length))),t=String(t);return u?u.call(n,t,r):n.slice(r,r+t.length)===t}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/create-html`);i({target:`String`,proto:!0,forced:t(`../internals/string-html-forced`)(`sub`)},{sub:function(){return a(this,`sub`,``,``)}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,n,r){var i=t(`../internals/export`),a=t(`../internals/string-trim`).trim;i({target:`String`,proto:!0,forced:t(`../internals/string-trim-forced`)(`trim`)},{trim:function(){return a(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(t,n,r){var i,a,o,s,c,l=t(`../internals/export`),u=t(`../internals/descriptors`),d=t(`../internals/global`),f=t(`../internals/has`),p=t(`../internals/is-object`),m=t(`../internals/object-define-property`).f,t=t(`../internals/copy-constructor-properties`),h=d.Symbol;!u||typeof h!=`function`||`description`in h.prototype&&h().description===void 0||(i={},t(a=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),n=this instanceof a?new h(t):t===void 0?h():h(t);return t===``&&(i[n]=!0),n},h),(d=a.prototype=h.prototype).constructor=a,o=d.toString,s=String(h(`test`))==`Symbol(test)`,c=/^Symbol\((.*)\)[^)]+$/,m(d,`description`,{configurable:!0,get:function(){var t=p(this)?this.valueOf():this,n=o.call(t);return f(i,t)?``:(t=s?n.slice(7,-1):n.replace(c,`$1`))===``?void 0:t}}),l({global:!0,forced:!0},{Symbol:a}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,n,r){t(`../internals/define-well-known-symbol`)(`iterator`)},{"../internals/define-well-known-symbol":42}],212:[function(t,n,r){function i(t,n){var r=J[t]=w(K[G]);return te(r,{type:ee,tag:t,description:n}),f||(r.description=n),r}function a(t,n){y(t);var r=x(n),n=T(r).concat(pe(r));return U(n,function(n){f&&!fe.call(r,n)||Z(t,n,r[n])}),t}function o(t,n){var r,t=x(t),n=S(n,!0);if(t!==re||!g(J,n)||g(ce,n))return!(r=q(t,n))||!g(J,n)||g(t,W)&&t[W][n]||(r.enumerable=!0),r}function s(t){var t=oe(x(t)),n=[];return U(t,function(t){g(J,t)||g(I,t)||n.push(t)}),n}var c=t(`../internals/export`),l=t(`../internals/global`),u=t(`../internals/get-built-in`),d=t(`../internals/is-pure`),f=t(`../internals/descriptors`),p=t(`../internals/native-symbol`),m=t(`../internals/use-symbol-as-uid`),h=t(`../internals/fails`),g=t(`../internals/has`),_=t(`../internals/is-array`),v=t(`../internals/is-object`),y=t(`../internals/an-object`),b=t(`../internals/to-object`),x=t(`../internals/to-indexed-object`),S=t(`../internals/to-primitive`),C=t(`../internals/create-property-descriptor`),w=t(`../internals/object-create`),T=t(`../internals/object-keys`),E=t(`../internals/object-get-own-property-names`),D=t(`../internals/object-get-own-property-names-external`),O=t(`../internals/object-get-own-property-symbols`),k=t(`../internals/object-get-own-property-descriptor`),A=t(`../internals/object-define-property`),j=t(`../internals/object-property-is-enumerable`),M=t(`../internals/create-non-enumerable-property`),N=t(`../internals/redefine`),P=t(`../internals/shared`),F=t(`../internals/shared-key`),I=t(`../internals/hidden-keys`),L=t(`../internals/uid`),R=t(`../internals/well-known-symbol`),z=t(`../internals/well-known-symbol-wrapped`),B=t(`../internals/define-well-known-symbol`),V=t(`../internals/set-to-string-tag`),H=t(`../internals/internal-state`),U=t(`../internals/array-iteration`).forEach,W=F(`hidden`),ee=`Symbol`,G=`prototype`,t=R(`toPrimitive`),te=H.set,ne=H.getterFor(ee),re=Object[G],K=l.Symbol,ie=u(`JSON`,`stringify`),q=k.f,ae=A.f,oe=D.f,se=j.f,J=P(`symbols`),ce=P(`op-symbols`),Y=P(`string-to-symbol-registry`),le=P(`symbol-to-string-registry`),F=P(`wks`),H=l.QObject,X=!H||!H[G]||!H[G].findChild,ue=f&&h(function(){return w(ae({},`a`,{get:function(){return ae(this,`a`,{value:7}).a}})).a!=7})?function(t,n,r){var i=q(re,n);i&&delete re[n],ae(t,n,r),i&&t!==re&&ae(re,n,i)}:ae,de=m?function(t){return typeof t==`symbol`}:function(t){return Object(t)instanceof K},Z=function(t,n,r){return t===re&&Z(ce,n,r),y(t),n=S(n,!0),y(r),(g(J,n)?(r.enumerable?(g(t,W)&&t[W][n]&&(t[W][n]=!1),r=w(r,{enumerable:C(0,!1)})):(g(t,W)||ae(t,W,C(1,{})),t[W][n]=!0),ue):ae)(t,n,r)},fe=function(t){var t=S(t,!0),n=se.call(this,t);return!(this===re&&g(J,t)&&!g(ce,t))&&(!(n||!g(this,t)||!g(J,t)||g(this,W)&&this[W][t])||n)},pe=function(t){var n=t===re,t=oe(n?ce:x(t)),r=[];return U(t,function(t){!g(J,t)||n&&!g(re,t)||r.push(J[t])}),r};p||(N((K=function(){if(this instanceof K)throw TypeError(`Symbol is not a constructor`);var t=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,n=L(t),r=function(t){this===re&&r.call(ce,t),g(this,W)&&g(this[W],n)&&(this[W][n]=!1),ue(this,n,C(1,t))};return f&&X&&ue(re,n,{configurable:!0,set:r}),i(n,t)})[G],`toString`,function(){return ne(this).tag}),N(K,`withoutSetter`,function(t){return i(L(t),t)}),j.f=fe,A.f=Z,k.f=o,E.f=D.f=s,O.f=pe,z.f=function(t){return i(R(t),t)},f&&(ae(K[G],`description`,{configurable:!0,get:function(){return ne(this).description}}),d||N(re,`propertyIsEnumerable`,fe,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:K}),U(T(F),function(t){B(t)}),c({target:ee,stat:!0,forced:!p},{for:function(t){var n,t=String(t);return g(Y,t)?Y[t]:(n=K(t),Y[t]=n,le[n]=t,n)},keyFor:function(t){if(!de(t))throw TypeError(t+` is not a symbol`);if(g(le,t))return le[t]},useSetter:function(){X=!0},useSimple:function(){X=!1}}),c({target:`Object`,stat:!0,forced:!p,sham:!f},{create:function(t,n){return n===void 0?w(t):a(w(t),n)},defineProperty:Z,defineProperties:a,getOwnPropertyDescriptor:o}),c({target:`Object`,stat:!0,forced:!p},{getOwnPropertyNames:s,getOwnPropertySymbols:pe}),c({target:`Object`,stat:!0,forced:h(function(){O.f(1)})},{getOwnPropertySymbols:function(t){return O.f(b(t))}}),ie&&c({target:`JSON`,stat:!0,forced:!p||h(function(){var t=K();return ie([t])!=`[null]`||ie({a:t})!=`{}`||ie(Object(t))!=`{}`})},{stringify:function(t,n,r){for(var i,a=[t],o=1;o<arguments.length;)a.push(arguments[o++]);if((v(i=n)||t!==void 0)&&!de(t))return _(n)||(n=function(t,n){if(typeof i==`function`&&(n=i.call(this,t,n)),!de(n))return n}),a[1]=n,ie.apply(null,a)}}),K[G][t]||M(K[G],t,K[G].valueOf),V(K,ee),I[W]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-copy-within`),o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`copyWithin`,function(t,n){return a.call(o(this),t,n,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).every,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`every`,function(t){return a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-fill`),o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`fill`,function(t){return a.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).filter,o=t(`../internals/species-constructor`),s=i.aTypedArray,c=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)(`filter`,function(t){for(var n=a(s(this),t,1<arguments.length?arguments[1]:void 0),t=o(this,this.constructor),r=0,i=n.length,l=new(c(t))(i);r<i;)l[r]=n[r++];return l})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).findIndex,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`findIndex`,function(t){return a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).find,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`find`,function(t){return a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Float32`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],220:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Float64`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],221:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).forEach,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`forEach`,function(t){a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-includes`).includes,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`includes`,function(t){return a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-includes`).indexOf,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`indexOf`,function(t){return a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Int16`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],225:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Int32`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],226:[function(t,n,r){function i(){return c.call(d(this))}var a=t(`../internals/global`),o=t(`../internals/array-buffer-view-core`),s=t(`../modules/es.array.iterator`),t=t(`../internals/well-known-symbol`)(`iterator`),a=a.Uint8Array,c=s.values,l=s.keys,u=s.entries,d=o.aTypedArray,s=o.exportTypedArrayMethod,o=a&&a.prototype[t],a=!!o&&(o.name==`values`||o.name==null);s(`entries`,function(){return u.call(d(this))}),s(`keys`,function(){return l.call(d(this))}),s(`values`,i,!a),s(t,i,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(t,n,r){var t=t(`../internals/array-buffer-view-core`),i=t.aTypedArray,t=t.exportTypedArrayMethod,a=[].join;t(`join`,function(t){return a.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-last-index-of`),o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`lastIndexOf`,function(t){return a.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).map,o=t(`../internals/species-constructor`),s=i.aTypedArray,c=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)(`map`,function(t){return a(s(this),t,1<arguments.length?arguments[1]:void 0,function(t,n){return new(c(o(t,t.constructor)))(n)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-reduce`).right,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`reduceRight`,function(t){return a(o(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-reduce`).left,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`reduce`,function(t){return a(o(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(t,n,r){var t=t(`../internals/array-buffer-view-core`),i=t.aTypedArray,t=t.exportTypedArrayMethod,a=Math.floor;t(`reverse`,function(){for(var t,n=i(this).length,r=a(n/2),o=0;o<r;)t=this[o],this[o++]=this[--n],this[n]=t;return this})},{"../internals/array-buffer-view-core":12}],233:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/to-length`),o=t(`../internals/to-offset`),s=t(`../internals/to-object`),t=t(`../internals/fails`),c=i.aTypedArray;(0,i.exportTypedArrayMethod)(`set`,function(t){c(this);var n=o(1<arguments.length?arguments[1]:void 0,1),r=this.length,i=s(t),l=a(i.length),u=0;if(r<l+n)throw RangeError(`Wrong length`);for(;u<l;)this[n+u]=i[u++]},t(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/species-constructor`),t=t(`../internals/fails`),o=i.aTypedArray,s=i.aTypedArrayConstructor,i=i.exportTypedArrayMethod,c=[].slice;i(`slice`,function(t,n){for(var r=c.call(o(this),t,n),t=a(this,this.constructor),i=0,l=r.length,u=new(s(t))(l);i<l;)u[i]=r[i++];return u},t(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/array-iteration`).some,o=i.aTypedArray;(0,i.exportTypedArrayMethod)(`some`,function(t){return a(o(this),t,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(t,n,r){var t=t(`../internals/array-buffer-view-core`),i=t.aTypedArray,t=t.exportTypedArrayMethod,a=[].sort;t(`sort`,function(t){return a.call(i(this),t)})},{"../internals/array-buffer-view-core":12}],237:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`),a=t(`../internals/to-length`),o=t(`../internals/to-absolute-index`),s=t(`../internals/species-constructor`),c=i.aTypedArray;(0,i.exportTypedArrayMethod)(`subarray`,function(t,n){var r=c(this),i=r.length,t=o(t,i);return new(s(r,r.constructor))(r.buffer,r.byteOffset+t*r.BYTES_PER_ELEMENT,a((n===void 0?i:o(n,i))-t))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(t,n,r){var i=t(`../internals/global`),a=t(`../internals/array-buffer-view-core`),t=t(`../internals/fails`),o=i.Int8Array,s=a.aTypedArray,i=a.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,u=!!o&&t(function(){c.call(new o(1))});i(`toLocaleString`,function(){return c.apply(u?l.call(s(this)):s(this),arguments)},t(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!t(function(){o.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(t,n,r){var i=t(`../internals/array-buffer-view-core`).exportTypedArrayMethod,a=t(`../internals/fails`),t=t(`../internals/global`).Uint8Array,t=t&&t.prototype||{},o=[].toString,s=[].join,a=(a(function(){o.call({})})&&(o=function(){return s.call(this)}),t.toString!=o);i(`toString`,o,a)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Uint16`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],241:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Uint32`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],242:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Uint8`,function(t){return function(n,r,i){return t(this,n,r,i)}})},{"../internals/typed-array-constructor":144}],243:[function(t,n,r){t(`../internals/typed-array-constructor`)(`Uint8`,function(t){return function(n,r,i){return t(this,n,r,i)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(t,n,r){function i(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}var a,o,s,c,l,u=t(`../internals/global`),d=t(`../internals/redefine-all`),f=t(`../internals/internal-metadata`),p=t(`../internals/collection`),m=t(`../internals/collection-weak`),h=t(`../internals/is-object`),g=t(`../internals/internal-state`).enforce,t=t(`../internals/native-weak-map`),u=!u.ActiveXObject&&`ActiveXObject`in u,_=Object.isExtensible,n=n.exports=p(`WeakMap`,i,m);t&&u&&(a=m.getConstructor(i,`WeakMap`,!0),f.REQUIRED=!0,p=n.prototype,o=p.delete,s=p.has,c=p.get,l=p.set,d(p,{delete:function(t){var n;return h(t)&&!_(t)?((n=g(this)).frozen||(n.frozen=new a),o.call(this,t)||n.frozen.delete(t)):o.call(this,t)},has:function(t){var n;return h(t)&&!_(t)?((n=g(this)).frozen||(n.frozen=new a),s.call(this,t)||n.frozen.has(t)):s.call(this,t)},get:function(t){var n;return!h(t)||_(t)||((n=g(this)).frozen||(n.frozen=new a),s.call(this,t))?c.call(this,t):n.frozen.get(t)},set:function(t,n){var r;return!h(t)||_(t)||((r=g(this)).frozen||(r.frozen=new a),s.call(this,t))?l.call(this,t,n):r.frozen.set(t,n),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,n,r){var i,a=t(`../internals/global`),o=t(`../internals/dom-iterables`),s=t(`../internals/array-for-each`),c=t(`../internals/create-non-enumerable-property`);for(i in o){var l=a[i],l=l&&l.prototype;if(l&&l.forEach!==s)try{c(l,`forEach`,s)}catch{l.forEach=s}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(t,n,r){var i,a=t(`../internals/global`),o=t(`../internals/dom-iterables`),s=t(`../modules/es.array.iterator`),c=t(`../internals/create-non-enumerable-property`),t=t(`../internals/well-known-symbol`),l=t(`iterator`),u=t(`toStringTag`),d=s.values;for(i in o){var f=a[i],p=f&&f.prototype;if(p){if(p[l]!==d)try{c(p,l,d)}catch{p[l]=d}if(p[u]||c(p,u,i),o[i]){for(var m in s)if(p[m]!==s[m])try{c(p,m,s[m])}catch{p[m]=s[m]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(t,n,r){t(`../modules/es.array.iterator`);function i(t){try{return decodeURIComponent(t)}catch{return t}}function a(t){return z[t]}function o(t){return encodeURIComponent(t).replace(R,a)}function s(t){this.entries.length=0,B(this.entries,t)}function c(t,n){if(t<n)throw TypeError(`Not enough arguments`)}function l(){v(this,l,A);var t,n,r,i,a,o,c,u,d=0<arguments.length?arguments[0]:void 0,f=[];if(M(this,{type:A,entries:f,updateURL:function(){},updateSearchParams:s}),d!==void 0)if(C(d))if(typeof(t=D(d))==`function`)for(r=(n=t.call(d)).next;!(i=r.call(n)).done;){if((o=(a=(i=E(S(i.value))).next).call(i)).done||(c=a.call(i)).done||!a.call(i).done)throw TypeError(`Expected sequence with length 2`);f.push({key:o.value+``,value:c.value+``})}else for(u in d)y(d,u)&&f.push({key:u,value:d[u]+``});else B(f,typeof d==`string`?d.charAt(0)===`?`?d.slice(1):d:d+``)}var u=t(`../internals/export`),d=t(`../internals/get-built-in`),f=t(`../internals/native-url`),p=t(`../internals/redefine`),m=t(`../internals/redefine-all`),h=t(`../internals/set-to-string-tag`),g=t(`../internals/create-iterator-constructor`),_=t(`../internals/internal-state`),v=t(`../internals/an-instance`),y=t(`../internals/has`),b=t(`../internals/function-bind-context`),x=t(`../internals/classof`),S=t(`../internals/an-object`),C=t(`../internals/is-object`),w=t(`../internals/object-create`),T=t(`../internals/create-property-descriptor`),E=t(`../internals/get-iterator`),D=t(`../internals/get-iterator-method`),t=t(`../internals/well-known-symbol`),O=d(`fetch`),k=d(`Headers`),d=t(`iterator`),A=`URLSearchParams`,j=A+`Iterator`,M=_.set,N=_.getterFor(A),P=_.getterFor(j),F=/\+/g,I=[,,,,],L=function(t){var n,r=t.replace(F,` `),a=4;try{return decodeURIComponent(r)}catch{for(;a;)r=r.replace((n=a--,I[n-1]||(I[n-1]=RegExp(`((?:%[\\da-f]{2}){`+n+`})`,`gi`))),i);return r}},R=/[!'()~]|%20/g,z={"!":`%21`,"'":`%27`,"(":`%28`,")":`%29`,"~":`%7E`,"%20":`+`},B=function(t,n){if(n)for(var r,i=n.split(`&`),a=0;a<i.length;)(r=i[a++]).length&&(r=r.split(`=`),t.push({key:L(r.shift()),value:L(r.join(`=`))}))},V=g(function(t,n){M(this,{type:j,iterator:E(N(t).entries),kind:n})},`Iterator`,function(){var t=P(this),n=t.kind,t=t.iterator.next(),r=t.value;return t.done||(t.value=n===`keys`?r.key:n===`values`?r.value:[r.key,r.value]),t}),t=l.prototype;m(t,{append:function(t,n){c(arguments.length,2);var r=N(this);r.entries.push({key:t+``,value:n+``}),r.updateURL()},delete:function(t){c(arguments.length,1);for(var n=N(this),r=n.entries,i=t+``,a=0;a<r.length;)r[a].key===i?r.splice(a,1):a++;n.updateURL()},get:function(t){c(arguments.length,1);for(var n=N(this).entries,r=t+``,i=0;i<n.length;i++)if(n[i].key===r)return n[i].value;return null},getAll:function(t){c(arguments.length,1);for(var n=N(this).entries,r=t+``,i=[],a=0;a<n.length;a++)n[a].key===r&&i.push(n[a].value);return i},has:function(t){c(arguments.length,1);for(var n=N(this).entries,r=t+``,i=0;i<n.length;)if(n[i++].key===r)return!0;return!1},set:function(t,n){c(arguments.length,1);for(var r,i=N(this),a=i.entries,o=!1,s=t+``,l=n+``,u=0;u<a.length;u++)(r=a[u]).key===s&&(o?a.splice(u--,1):(o=!0,r.value=l));o||a.push({key:s,value:l}),i.updateURL()},sort:function(){for(var t,n,r=N(this),i=r.entries,a=i.slice(),o=i.length=0;o<a.length;o++){for(t=a[o],n=0;n<o;n++)if(i[n].key>t.key){i.splice(n,0,t);break}n===o&&i.push(t)}r.updateURL()},forEach:function(t){for(var n,r=N(this).entries,i=b(t,1<arguments.length?arguments[1]:void 0,3),a=0;a<r.length;)i((n=r[a++]).value,n.key,this)},keys:function(){return new V(this,`keys`)},values:function(){return new V(this,`values`)},entries:function(){return new V(this,`entries`)}},{enumerable:!0}),p(t,d,t.entries),p(t,`toString`,function(){for(var t,n=N(this).entries,r=[],i=0;i<n.length;)t=n[i++],r.push(o(t.key)+`=`+o(t.value));return r.join(`&`)},{enumerable:!0}),h(l,A),u({global:!0,forced:!f},{URLSearchParams:l}),f||typeof O!=`function`||typeof k!=`function`||u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var n,r,i,t=[t];return 1<arguments.length&&(C(n=arguments[1])&&(r=n.body,x(r)===A&&((i=n.headers?new k(n.headers):new k).has(`content-type`)||i.set(`content-type`,`application/x-www-form-urlencoded;charset=UTF-8`),n=w(n,{body:T(0,String(r)),headers:T(0,i)}))),t.push(n)),O.apply(this,t)}}),n.exports={URLSearchParams:l,getState:N}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(t,n,r){t(`../modules/es.string.iterator`);function i(t){var n,r,i,a;if(typeof t==`number`){for(n=[],r=0;r<4;r++)n.unshift(t%256),t=j(t/256);return n.join(`.`)}if(typeof t!=`object`)return t;for(n=``,i=re(t),r=0;r<8;r++)a&&t[r]===0||(a&&=!1,i===r?(n+=r?`:`:`::`,a=!0):(n+=t[r].toString(16),r<7&&(n+=`:`)));return`[`+n+`]`}function a(t){return!t.host||t.cannotBeABaseURL||t.scheme==`file`}function o(t,n,r,i){var a,o,s,c=r||Z,u=0,d=``,f=!1,p=!1,m=!1;for(r||(t.scheme=``,t.username=``,t.password=``,t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,n=n.replace(G,``)),n=n.replace(te,``),a=x(n);u<=a.length;){switch(o=a[u],c){case Z:if(!o||!L.test(o)){if(r)return P;c=pe;continue}d+=o.toLowerCase(),c=fe;break;case fe:if(o&&(R.test(o)||o==`+`||o==`-`||o==`.`))d+=o.toLowerCase();else{if(o!=`:`){if(r)return P;d=``,c=pe,u=0;continue}if(r&&(J(t)!=y(se,d)||d==`file`&&(ce(t)||t.port!==null)||t.scheme==`file`&&!t.host))return;if(t.scheme=d,r)return void(J(t)&&se[t.scheme]==t.port&&(t.port=null));d=``,t.scheme==`file`?c=we:J(t)&&i&&i.scheme==t.scheme?c=me:J(t)?c=ve:a[u+1]==`/`?(c=he,u++):(t.cannotBeABaseURL=!0,t.path.push(``),c=ke)}break;case pe:if(!i||i.cannotBeABaseURL&&o!=`#`)return P;if(i.cannotBeABaseURL&&o==`#`){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment=``,t.cannotBeABaseURL=!0,c=je;break}c=i.scheme==`file`?we:ge;continue;case me:if(o!=`/`||a[u+1]!=`/`){c=ge;continue}c=ye,u++;break;case he:if(o==`/`){c=be;break}c=Oe;continue;case ge:if(t.scheme=i.scheme,o==l)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if(o==`/`||o==`\\`&&J(t))c=_e;else if(o==`?`)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=``,c=Ae;else{if(o!=`#`){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=Oe;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment=``,c=je}break;case _e:if(!J(t)||o!=`/`&&o!=`\\`){if(o!=`/`){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=Oe;continue}c=be}else c=ye;break;case ve:if(c=ye,o!=`/`||d.charAt(u+1)!=`/`)continue;u++;break;case ye:if(o==`/`||o==`\\`)break;c=be;continue;case be:if(o==`@`){f&&(d=`%40`+d);for(var f=!0,h=x(d),g=0;g<h.length;g++){var _=h[g];_!=`:`||m?(_=oe(_,ae),m?t.password+=_:t.username+=_):m=!0}d=``}else if(o==l||o==`/`||o==`?`||o==`#`||o==`\\`&&J(t)){if(f&&d==``)return N;u-=x(d).length+1,d=``,c=xe}else d+=o;break;case xe:case Se:if(r&&t.scheme==`file`){c=Ee;continue}if(o!=`:`||p){if(o==l||o==`/`||o==`?`||o==`#`||o==`\\`&&J(t)){if(J(t)&&d==``)return F;if(r&&d==``&&(ce(t)||t.port!==null))return;if(s=ne(t,d))return s;if(d=``,c=De,r)return;continue}o==`[`?p=!0:o==`]`&&(p=!1),d+=o}else{if(d==``)return F;if(s=ne(t,d))return s;if(d=``,c=Ce,r==Se)return}break;case Ce:if(!z.test(o)){if(o==l||o==`/`||o==`?`||o==`#`||o==`\\`&&J(t)||r){if(d!=``){var v=parseInt(d,10);if(65535<v)return I;t.port=J(t)&&v===se[t.scheme]?null:v,d=``}if(r)return;c=De;continue}return I}d+=o;break;case we:if(t.scheme=`file`,o==`/`||o==`\\`)c=Te;else{if(!i||i.scheme!=`file`){c=Oe;continue}if(o==l)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if(o==`?`)t.host=i.host,t.path=i.path.slice(),t.query=``,c=Ae;else{if(o!=`#`){le(a.slice(u).join(``))||(t.host=i.host,t.path=i.path.slice(),X(t)),c=Oe;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment=``,c=je}}break;case Te:if(o==`/`||o==`\\`){c=Ee;break}i&&i.scheme==`file`&&!le(a.slice(u).join(``))&&(Y(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=Oe;continue;case Ee:if(o==l||o==`/`||o==`\\`||o==`?`||o==`#`){if(!r&&Y(d))c=Oe;else{if(d==``){if(t.host=``,r)return}else{if(s=ne(t,d))return s;if(t.host==`localhost`&&(t.host=``),r)return;d=``}c=De}continue}d+=o;break;case De:if(J(t)){if(c=Oe,o!=`/`&&o!=`\\`)continue}else if(r||o!=`?`)if(r||o!=`#`){if(o!=l&&(c=Oe,o!=`/`))continue}else t.fragment=``,c=je;else t.query=``,c=Ae;break;case Oe:if(o==l||o==`/`||o==`\\`&&J(t)||!r&&(o==`?`||o==`#`)){if(de(d)?(X(t),o==`/`||o==`\\`&&J(t)||t.path.push(``)):ue(d)?o==`/`||o==`\\`&&J(t)||t.path.push(``):(t.scheme==`file`&&!t.path.length&&Y(d)&&(t.host&&=``,d=d.charAt(0)+`:`),t.path.push(d)),d=``,t.scheme==`file`&&(o==l||o==`?`||o==`#`))for(;1<t.path.length&&t.path[0]===``;)t.path.shift();o==`?`?(t.query=``,c=Ae):o==`#`&&(t.fragment=``,c=je)}else d+=oe(o,q);break;case ke:o==`?`?(t.query=``,c=Ae):o==`#`?(t.fragment=``,c=je):o!=l&&(t.path[0]+=oe(o,K));break;case Ae:r||o!=`#`?o!=l&&(o==`'`&&J(t)?t.query+=`%27`:t.query+=o==`#`?`%23`:oe(o,K)):(t.fragment=``,c=je);break;case je:o!=l&&(t.fragment+=oe(o,ie))}u++}}function s(t){var n,r,i=v(this,s,`URL`),a=1<arguments.length?arguments[1]:void 0,t=String(t),c=k(i,{type:`URL`});if(a!==void 0){if(a instanceof s)n=A(a);else if(r=o(n={},String(a)))throw TypeError(r)}if(r=o(c,t,null,n))throw TypeError(r);var l=c.searchParams=new D;(a=O(l)).updateSearchParams(c.query),a.updateURL=function(){c.query=String(l)||null},p||(i.href=Me.call(i),i.origin=Ne.call(i),i.protocol=Pe.call(i),i.username=Fe.call(i),i.password=Ie.call(i),i.host=Le.call(i),i.hostname=Re.call(i),i.port=ze.call(i),i.pathname=Be.call(i),i.search=Ve.call(i),i.searchParams=He.call(i),i.hash=Ue.call(i))}function c(t,n){return{get:t,set:n,configurable:!0,enumerable:!0}}var l,u,d,f=t(`../internals/export`),p=t(`../internals/descriptors`),m=t(`../internals/native-url`),h=t(`../internals/global`),g=t(`../internals/object-define-properties`),_=t(`../internals/redefine`),v=t(`../internals/an-instance`),y=t(`../internals/has`),b=t(`../internals/object-assign`),x=t(`../internals/array-from`),S=t(`../internals/string-multibyte`).codeAt,C=t(`../internals/string-punycode-to-ascii`),w=t(`../internals/set-to-string-tag`),T=t(`../modules/web.url-search-params`),t=t(`../internals/internal-state`),E=h.URL,D=T.URLSearchParams,O=T.getState,k=t.set,A=t.getterFor(`URL`),j=Math.floor,M=Math.pow,N=`Invalid authority`,P=`Invalid scheme`,F=`Invalid host`,I=`Invalid port`,L=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,z=/\d/,B=/^(0x|0X)/,V=/^[0-7]+$/,H=/^\d+$/,U=/^[\dA-Fa-f]+$/,W=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ee=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,G=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,te=/[\u0009\u000A\u000D]/g,ne=function(t,n){var r,i,a;if(n.charAt(0)==`[`)return n.charAt(n.length-1)==`]`&&(r=function(t){var n=[0,0,0,0,0,0,0,0],r=0,i=null,a=0,o,s,c,l,u,d,f,p=function(){return t.charAt(a)};if(p()==`:`){if(t.charAt(1)!=`:`)return;a+=2,r++,i=r}for(;p();){if(r==8)return;if(p()==`:`){if(i!==null)return;a++,r++,i=r;continue}for(o=s=0;s<4&&U.test(p());)o=o*16+parseInt(p(),16),a++,s++;if(p()==`.`){if(s==0||(a-=s,r>6))return;for(c=0;p();){if(l=null,c>0)if(p()==`.`&&c<4)a++;else return;if(!z.test(p()))return;for(;z.test(p());){if(u=parseInt(p(),10),l===null)l=u;else if(l==0)return;else l=l*10+u;if(l>255)return;a++}n[r]=n[r]*256+l,c++,(c==2||c==4)&&r++}if(c!=4)return;break}else if(p()==`:`){if(a++,!p())return}else if(p())return;n[r++]=o}if(i!==null)for(d=r-i,r=7;r!=0&&d>0;)f=n[r],n[r--]=n[i+d-1],n[i+--d]=f;else if(r!=8)return;return n}(n.slice(1,-1)))?void(t.host=r):F;if(J(t))return n=C(n),W.test(n)||(r=function(t){var n=t.split(`.`),r,i,a,o,s,c,l;if(n.length&&n[n.length-1]==``&&n.pop(),(r=n.length)>4)return t;for(i=[],a=0;a<r;a++){if(o=n[a],o==``)return t;if(s=10,o.length>1&&o.charAt(0)==`0`&&(s=B.test(o)?16:8,o=o.slice(s==8?1:2)),o===``)c=0;else{if(!(s==10?H:s==8?V:U).test(o))return t;c=parseInt(o,s)}i.push(c)}for(a=0;a<r;a++)if(c=i[a],a==r-1){if(c>=M(256,5-r))return null}else if(c>255)return null;for(l=i.pop(),a=0;a<i.length;a++)l+=i[a]*M(256,3-a);return l}(n))===null?F:void(t.host=r);if(ee.test(n))return F;for(r=``,i=x(n),a=0;a<i.length;a++)r+=oe(i[a],K);t.host=r},re=function(t){for(var n=null,r=1,i=null,a=0,o=0;o<8;o++)t[o]===0?(i===null&&(i=o),++a):(r<a&&(n=i,r=a),i=null,a=0);return r<a&&(n=i,r=a),n},K={},ie=b({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),q=b({},ie,{"#":1,"?":1,"{":1,"}":1}),ae=b({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),oe=function(t,n){var r=S(t,0);return 32<r&&r<127&&!y(n,t)?t:encodeURIComponent(t)},se={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(t){return y(se,t.scheme)},ce=function(t){return t.username!=``||t.password!=``},Y=function(t,n){return t.length==2&&L.test(t.charAt(0))&&((t=t.charAt(1))==`:`||!n&&t==`|`)},le=function(t){return 1<t.length&&Y(t.slice(0,2))&&(t.length==2||(t=t.charAt(2))===`/`||t===`\\`||t===`?`||t===`#`)},X=function(t){var n=t.path,r=n.length;!r||t.scheme==`file`&&r==1&&Y(n[0],!0)||n.pop()},ue=function(t){return t===`.`||t.toLowerCase()===`%2e`},de=function(t){return(t=t.toLowerCase())===`..`||t===`%2e.`||t===`.%2e`||t===`%2e%2e`},Z={},fe={},pe={},me={},he={},ge={},_e={},ve={},ye={},be={},xe={},Se={},Ce={},we={},Te={},Ee={},De={},Oe={},ke={},Ae={},je={},h=s.prototype,Me=function(){var t=A(this),n=t.scheme,r=t.username,a=t.password,o=t.host,s=t.port,c=t.path,l=t.query,u=t.fragment,d=n+`:`;return o===null?n==`file`&&(d+=`//`):(d+=`//`,ce(t)&&(d+=r+(a?`:`+a:``)+`@`),d+=i(o),s!==null&&(d+=`:`+s)),d+=t.cannotBeABaseURL?c[0]:c.length?`/`+c.join(`/`):``,l!==null&&(d+=`?`+l),u!==null&&(d+=`#`+u),d},Ne=function(){var t=A(this),n=t.scheme,r=t.port;if(n==`blob`)try{return new URL(n.path[0]).origin}catch{return`null`}return n!=`file`&&J(t)?n+`://`+i(t.host)+(r===null?``:`:`+r):`null`},Pe=function(){return A(this).scheme+`:`},Fe=function(){return A(this).username},Ie=function(){return A(this).password},Le=function(){var t=A(this),n=t.host,t=t.port;return n===null?``:t===null?i(n):i(n)+`:`+t},Re=function(){var t=A(this).host;return t===null?``:i(t)},ze=function(){var t=A(this).port;return t===null?``:String(t)},Be=function(){var t=A(this),n=t.path;return t.cannotBeABaseURL?n[0]:n.length?`/`+n.join(`/`):``},Ve=function(){var t=A(this).query;return t?`?`+t:``},He=function(){return A(this).searchParams},Ue=function(){var t=A(this).fragment;return t?`#`+t:``};p&&g(h,{href:c(Me,function(t){var n=A(this),t=String(t),t=o(n,t);if(t)throw TypeError(t);O(n.searchParams).updateSearchParams(n.query)}),origin:c(Ne),protocol:c(Pe,function(t){var n=A(this);o(n,String(t)+`:`,Z)}),username:c(Fe,function(t){var n=A(this),r=x(String(t));if(!a(n)){n.username=``;for(var i=0;i<r.length;i++)n.username+=oe(r[i],ae)}}),password:c(Ie,function(t){var n=A(this),r=x(String(t));if(!a(n)){n.password=``;for(var i=0;i<r.length;i++)n.password+=oe(r[i],ae)}}),host:c(Le,function(t){var n=A(this);n.cannotBeABaseURL||o(n,String(t),xe)}),hostname:c(Re,function(t){var n=A(this);n.cannotBeABaseURL||o(n,String(t),Se)}),port:c(ze,function(t){var n=A(this);a(n)||((t=String(t))==``?n.port=null:o(n,t,Ce))}),pathname:c(Be,function(t){var n=A(this);n.cannotBeABaseURL||(n.path=[],o(n,t+``,De))}),search:c(Ve,function(t){var n=A(this);(t=String(t))==``?n.query=null:(t.charAt(0)==`?`&&(t=t.slice(1)),n.query=``,o(n,t,Ae)),O(n.searchParams).updateSearchParams(n.query)}),searchParams:c(He),hash:c(Ue,function(t){var n=A(this);(t=String(t))==``?n.fragment=null:(t.charAt(0)==`#`&&(t=t.slice(1)),n.fragment=``,o(n,t,je))})}),_(h,`toJSON`,function(){return Me.call(this)},{enumerable:!0}),_(h,`toString`,function(){return Me.call(this)},{enumerable:!0}),E&&(u=E.createObjectURL,d=E.revokeObjectURL,u&&_(s,`createObjectURL`,function(t){return u.apply(E,arguments)}),d&&_(s,`revokeObjectURL`,function(t){return d.apply(E,arguments)})),w(s,`URL`),f({global:!0,forced:!m,sham:!p},{URL:s})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,n,r){n.exports=t(`./`).polyfill()},{"./":250}],250:[function(n,r,i){(function(a,o){var s=this,c=function(){function t(t){return typeof t==`function`}var r=Array.isArray||function(t){return Object.prototype.toString.call(t)===`[object Array]`},i=0,s=void 0,c=void 0,l=function(t,n){h[i]=t,h[i+1]=n,(i+=2)===2&&(c?c(g):x())},u=typeof window<`u`?window:void 0,d=u||{},d=d.MutationObserver||d.WebKitMutationObserver,f=typeof self>`u`&&a!==void 0&&{}.toString.call(a)===`[object process]`,p=typeof Uint8ClampedArray<`u`&&typeof importScripts<`u`&&typeof MessageChannel<`u`;function m(){var t=setTimeout;return function(){return t(g,1)}}var h=Array(1e3);function g(){for(var t=0;t<i;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;i=0}function _(){try{var t=Function(`return this`)().require(`vertx`);return(s=t.runOnLoop||t.runOnContext)===void 0?m():function(){s(g)}}catch{return m()}}var v,y,b,x=void 0;function S(t,n){var r,i=this,a=new this.constructor(T),o=(a[w]===void 0&&z(a),i._state);return o?(r=arguments[o-1],l(function(){return L(o,a,r,i._result)})):F(i,a,t,n),a}function C(t){var n;return t&&typeof t==`object`&&t.constructor===this?t:(j(n=new this(T),t),n)}var x=f?function(){return a.nextTick(g)}:d?(y=0,f=new d(g),b=document.createTextNode(``),f.observe(b,{characterData:!0}),function(){b.data=y=++y%2}):p?((v=new MessageChannel).port1.onmessage=g,function(){return v.port2.postMessage(0)}):(u===void 0&&typeof n==`function`?_:m)(),w=Math.random().toString(36).substring(2);function T(){}var E=void 0,D=1,O=2;function k(t,n,r){l(function(t){var i=!1,a=function(t,n,r,i){try{t.call(n,r,i)}catch(t){return t}}(r,n,function(r){i||(i=!0,(n===r?N:j)(t,r))},function(n){i||(i=!0,P(t,n))},t._label);!i&&a&&(i=!0,P(t,a))},t)}function A(n,r,i){var a,o;r.constructor===n.constructor&&i===S&&r.constructor.resolve===C?(a=n,(o=r)._state===D?N(a,o._result):o._state===O?P(a,o._result):F(o,void 0,function(t){return j(a,t)},function(t){return P(a,t)})):i!==void 0&&t(i)?k(n,r,i):N(n,r)}function j(t,n){if(t===n)P(t,TypeError(`You cannot resolve a promise with itself`));else if(r=typeof n,n===null||r!=`object`&&r!=`function`)N(t,n);else{r=void 0;try{r=n.then}catch(n){P(t,n);return}A(t,n,r)}var r}function M(t){t._onerror&&t._onerror(t._result),I(t)}function N(t,n){t._state===E&&(t._result=n,t._state=D,t._subscribers.length!==0&&l(I,t))}function P(t,n){t._state===E&&(t._state=O,t._result=n,l(M,t))}function F(t,n,r,i){var a=t._subscribers,o=a.length;t._onerror=null,a[o]=n,a[o+D]=r,a[o+O]=i,o===0&&t._state&&l(I,t)}function I(t){var n=t._subscribers,r=t._state;if(n.length!==0){for(var i,a=void 0,o=t._result,s=0;s<n.length;s+=3)i=n[s],a=n[s+r],i?L(r,i,a,o):a(o);t._subscribers.length=0}}function L(n,r,i,a){var o=t(i),s=void 0,c=void 0,l=!0;if(o){try{s=i(a)}catch(t){l=!1,c=t}if(r===s)return void P(r,TypeError(`A promises callback cannot return that same promise.`))}else s=a;r._state===E&&(o&&l?j(r,s):!1===l?P(r,c):n===D?N(r,s):n===O&&P(r,s))}var R=0;function z(t){t[w]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}V.prototype._enumerate=function(t){for(var n=0;this._state===E&&n<t.length;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(t,n){var r=this._instanceConstructor,i=r.resolve;if(i===C){var a,o=void 0,s=void 0,c=!1;try{o=t.then}catch(t){c=!0,s=t}o===S&&t._state!==E?this._settledAt(t._state,n,t._result):typeof o==`function`?r===H?(a=new r(T),c?P(a,s):A(a,t,o),this._willSettleAt(a,n)):this._willSettleAt(new r(function(n){return n(t)}),n):(this._remaining--,this._result[n]=t)}else this._willSettleAt(i(t),n)},V.prototype._settledAt=function(t,n,r){var i=this.promise;i._state===E&&(this._remaining--,t===O?P(i,r):this._result[n]=r),this._remaining===0&&N(i,this._result)},V.prototype._willSettleAt=function(t,n){var r=this;F(t,void 0,function(t){return r._settledAt(D,n,t)},function(t){return r._settledAt(O,n,t)})};var B=V;function V(t,n){this._instanceConstructor=t,this.promise=new t(T),this.promise[w]||z(this.promise),r(n)?(this.length=n.length,this._remaining=n.length,this._result=Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(n),this._remaining!==0)||N(this.promise,this._result)):P(this.promise,Error(`Array Methods must be provided an Array`))}U.prototype.catch=function(t){return this.then(null,t)},U.prototype.finally=function(n){var r=this.constructor;return t(n)?this.then(function(t){return r.resolve(n()).then(function(){return t})},function(t){return r.resolve(n()).then(function(){throw t})}):this.then(n,n)};var H=U;function U(t){if(this[w]=R++,this._result=this._state=void 0,this._subscribers=[],T!==t){if(typeof t!=`function`)throw TypeError(`You must pass a resolver function as the first argument to the promise constructor`);if(!(this instanceof U))throw TypeError(`Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.`);var n=this;try{t(function(t){j(n,t)},function(t){P(n,t)})}catch(t){P(n,t)}}}return H.prototype.then=S,H.all=function(t){return new B(this,t).promise},H.race=function(t){var n=this;return r(t)?new n(function(r,i){for(var a=t.length,o=0;o<a;o++)n.resolve(t[o]).then(r,i)}):new n(function(t,n){return n(TypeError(`You must pass an array to race.`))})},H.resolve=C,H.reject=function(t){var n=new this(T);return P(n,t),n},H._setScheduler=function(t){c=t},H._setAsap=function(t){l=t},H._asap=l,H.polyfill=function(){var t=void 0;if(o!==void 0)t=o;else if(typeof self<`u`)t=self;else try{t=Function(`return this`)()}catch{throw Error(`polyfill failed because global object is unavailable in this environment`)}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch{}if(r===`[object Promise]`&&!n.cast)return}t.Promise=H},H.Promise=H};typeof i==`object`&&r!==void 0?r.exports=c():typeof t==`function`&&t.amd?t(c):s.ES6Promise=c()}).call(this,n(`_process`),typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{_process:259}],251:[function(n,r,i){var a=this,o=function(t,n){var r=5e3,i=`callback`;function a(t){try{delete window[t]}catch{window[t]=void 0}}function o(t){t=document.getElementById(t),t&&document.getElementsByTagName(`head`)[0].removeChild(t)}n.exports=function(t){var n=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],s=t,c=n.timeout||r,l=n.jsonpCallback||i,u=void 0;return new Promise(function(r,i){var d=n.jsonpCallbackFunction||`jsonp_`+Date.now()+`_`+Math.ceil(1e5*Math.random()),f=l+`_`+d,p=(window[d]=function(t){r({ok:!0,json:function(){return Promise.resolve(t)}}),u&&clearTimeout(u),o(f),a(d)},s+=s.indexOf(`?`)===-1?`?`:`&`,document.createElement(`script`));p.setAttribute(`src`,``+s+l+`=`+d),n.charset&&p.setAttribute(`charset`,n.charset),p.id=f,document.getElementsByTagName(`head`)[0].appendChild(p),u=setTimeout(function(){i(Error(`JSONP request to `+t+` timed out`)),a(d),o(f),window[d]=function(){a(d)}},c),p.onerror=function(){i(Error(`JSONP request to `+t+` failed`)),a(d),o(f),u&&clearTimeout(u)}})}};typeof t==`function`&&t.amd?t([`exports`,`module`],o):i!==void 0&&r!==void 0?o(0,r):(o(o={exports:{}},o),a.fetchJsonp=o.exports)},{}],252:[function(n,r,i){var a=function(t){var n,r,i,a,o,s,c,l,u,d,f;if(!(t===void 0||typeof navigator<`u`&&/MSIE [1-9]\./.test(navigator.userAgent)))return f=t.document,n=function(){return t.URL||t.webkitURL||t},r=f.createElementNS(`http://www.w3.org/1999/xhtml`,`a`),i=`download`in r,a=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(n){(t.setImmediate||t.setTimeout)(function(){throw n},0)},c=4e4,l=function(t){setTimeout(function(){typeof t==`string`?n().revokeObjectURL(t):t.remove()},c)},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([``,t],{type:t.type}):t},f=(d=function(c,d,f){f||(c=u(c));var p,m,h=this,f=c.type===`application/octet-stream`,g=function(){for(var t=h,n=`writestart progress write writeend`.split(` `),r=void 0,i=(n=[].concat(n)).length;i--;){var a=t[`on`+n[i]];if(typeof a==`function`)try{a.call(t,r||t)}catch(t){s(t)}}};h.readyState=h.INIT,i?(p=n().createObjectURL(c),setTimeout(function(){var t,n;r.href=p,r.download=d,t=r,n=new MouseEvent(`click`),t.dispatchEvent(n),g(),l(p),h.readyState=h.DONE})):(o||f&&a)&&t.FileReader?((m=new FileReader).onloadend=function(){var n=o?m.result:m.result.replace(/^data:[^;]*;/,`data:attachment/file;`);t.open(n,`_blank`)||(t.location.href=n),n=void 0,h.readyState=h.DONE,g()},m.readAsDataURL(c),h.readyState=h.INIT):(p||=n().createObjectURL(c),!f&&t.open(p,`_blank`)||(t.location.href=p),h.readyState=h.DONE,g(),l(p))}).prototype,typeof navigator<`u`&&navigator.msSaveOrOpenBlob?function(t,n,r){return n=n||t.name||`download`,r||(t=u(t)),navigator.msSaveOrOpenBlob(t,n)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(t,n,r){return new d(t,n||t.name||`download`,r)})}(typeof self<`u`&&self||typeof window<`u`&&window||this.content);r!==void 0&&r.exports?r.exports.saveAs=a:t!=null&&t.amd!==null&&t(`FileSaver.js`,function(){return a})},{}],253:[function(t,n,r){var i,a=Object.defineProperty,o=(a(r,`__esModule`,{value:!0}),r),s={GIFEncoder:()=>w,applyPalette:()=>function(t,n,r=`rgb565`){if(!t||!t.buffer||!(t instanceof Uint8Array||t instanceof Uint8ClampedArray))throw Error(`quantize() expected RGBA Uint8Array data`);if(256<n.length)throw Error(`applyPalette() only works with 256 colors or less`);let i=new Uint32Array(t.buffer),a=i.length,o=r===`rgb444`?4096:65536,s=new Uint8Array(a),c=Array(o);if(r===`rgba4444`)for(let t=0;t<a;t++){var l=i[t],u=l>>24&255,d=l>>16&255,h=l>>8&255,l=255&l,g=p(l,h,d,u),g=g in c?c[g]:c[g]=function(t,n,r,i,a){let o=0,s=1e100;for(let d=0;d<a.length;d++){var c,l=a[d],u=x(l[3]-i);u>s||(c=l[0],(u+=x(c-t))>s||(c=l[1],(u+=x(c-n))>s||(c=l[2],(u+=x(c-r))>s||(s=u,o=d))))}return o}(l,h,d,u,n);s[t]=g}else{let t=r===`rgb444`?m:f;for(let r=0;r<a;r++){var _=i[r],v=_>>16&255,y=_>>8&255,_=255&_,b=t(_,y,v),b=b in c?c[b]:c[b]=function(t,n,r,i){let a=0,o=1e100;for(let u=0;u<i.length;u++){var s,c=i[u],l=x(c[0]-t);l>o||(s=c[1],(l+=x(s-n))>o||(s=c[2],(l+=x(s-r))>o||(o=l,a=u)))}return a}(_,y,v,n);s[r]=b}}return s},default:()=>k,nearestColor:()=>function(t,n,r=y){return t[S(t,n,r)]},nearestColorIndex:()=>S,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(t,{roundRGB:n=5,roundAlpha:r=10,oneBitAlpha:i=null}={}){let a=new Uint32Array(t.buffer);for(let t=0;t<a.length;t++){var o=a[t];let u=o>>24&255;var s,c=o>>16&255,l=o>>8&255,o=255&o;u=b(u,r),i&&(s=typeof i==`number`?i:127,u=u<=s?0:255),o=b(o,n),l=b(l,n),c=b(c,n),a[t]=u<<24|c<<16|l<<8|o<<0}},quantize:()=>function(t,n,r={}){var{format:i=`rgb565`,clearAlpha:a=!0,clearAlphaColor:o=0,clearAlphaThreshold:s=0,oneBitAlpha:c=!1}=r;if(!t||!t.buffer||!(t instanceof Uint8Array||t instanceof Uint8ClampedArray))throw Error(`quantize() expected RGBA Uint8Array data`);t=new Uint32Array(t.buffer);let l=!1!==r.useSqrt,u=i===`rgba4444`,d=function(t,n){let r=n===`rgb444`?4096:65536,i=Array(r),a=t.length;if(n===`rgba4444`)for(let n=0;n<a;++n){var o=t[n],s=o>>24&255,c=o>>16&255,l=o>>8&255,o=255&o,u=p(o,l,c,s);let r=u in i?i[u]:i[u]=v();r.rc+=o,r.gc+=l,r.bc+=c,r.ac+=s,r.cnt++}else if(n===`rgb444`)for(let n=0;n<a;++n){var d=t[n],h=d>>16&255,g=d>>8&255,d=255&d,_=m(d,g,h);let r=_ in i?i[_]:i[_]=v();r.rc+=d,r.gc+=g,r.bc+=h,r.cnt++}else for(let n=0;n<a;++n){var y=t[n],b=y>>16&255,x=y>>8&255,y=255&y,S=f(y,x,b);let r=S in i?i[S]:i[S]=v();r.rc+=y,r.gc+=x,r.bc+=b,r.cnt++}return i}(t,i),y=d.length,b=y-1,x=new Uint32Array(y+1);for(var S=0,C=0;C<y;++C){let t=d[C];t!=null&&(P=1/t.cnt,u&&(t.ac*=P),t.rc*=P,t.gc*=P,t.bc*=P,d[S++]=t)}g(n)/S<.022&&(l=!1);for(var w,T,E,C=0;C<S-1;++C)d[C].fw=C+1,d[C+1].bk=C,l&&(d[C].cnt=Math.sqrt(d[C].cnt));for(l&&(d[C].cnt=Math.sqrt(d[C].cnt)),C=0;C<S;++C){_(d,C,!1);var D=d[C].err;for(T=++x[0];1<T&&(E=T>>1,!(d[w=x[E]].err<=D));T=E)x[T]=w;x[T]=C}var O,k=S-n;for(C=0;C<k;){for(;;){var A=x[1];if((O=d[A]).tm>=O.mtm&&d[O.nn].mtm<=O.tm)break;for(O.mtm==b?A=x[1]=x[x[0]--]:(_(d,A,!1),O.tm=C),D=d[A].err,T=1;(E=T+T)<=x[0]&&(E<x[0]&&d[x[E]].err>d[x[E+1]].err&&E++,!(D<=d[w=x[E]].err));T=E)x[T]=w;x[T]=A}var j=d[O.nn],M=O.cnt,N=j.cnt,P=1/(M+N);u&&(O.ac=P*(M*O.ac+N*j.ac)),O.rc=P*(M*O.rc+N*j.rc),O.gc=P*(M*O.gc+N*j.gc),O.bc=P*(M*O.bc+N*j.bc),O.cnt+=j.cnt,O.mtm=++C,d[j.bk].fw=j.fw,d[j.fw].bk=j.bk,j.mtm=b}let F=[];for(C=0;;){let t=h(Math.round(d[C].rc),0,255),n=h(Math.round(d[C].gc),0,255),r=h(Math.round(d[C].bc),0,255),i=255;u&&(i=h(Math.round(d[C].ac),0,255),c&&(I=typeof c==`number`?c:127,i=i<=I?0:255),a&&i<=s&&(t=n=r=o,i=0));var I=u?[t,n,r,i]:[t,n,r];if(function(t,n){for(let a=0;a<t.length;a++){var r=t[a],i=r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2],r=!(4<=r.length&&4<=n.length)||r[3]===n[3];if(i&&r)return!0}return!1}(F,I)||F.push(I),(C=d[C].fw)==0)break}return F},snapColorsToPalette:()=>function(t,n,r=5){if(t.length&&n.length){var i=t.map(t=>t.slice(0,3)),a=r*r,o=t[0].length;for(let r=0;r<n.length;r++){let l=n[r];l=l.length<o?[l[0],l[1],l[2],255]:l.length>o?l.slice(0,3):l.slice();var s=C(i,l.slice(0,3),y),c=s[0],s=s[1];0<s&&s<=a&&(t[c]=l)}}}};for(i in s)a(o,i,{get:s[i],enumerable:!0});var c={signature:`GIF`,version:`89a`,trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function l(t=256){let n=0,r=new Uint8Array(t);return{get buffer(){return r.buffer},reset(){n=0},bytesView(){return r.subarray(0,n)},bytes(){return r.slice(0,n)},writeByte(t){i(n+1),r[n]=t,n++},writeBytes(t,a=0,o=t.length){i(n+o);for(let i=0;i<o;i++)r[n++]=t[i+a]},writeBytesView(t,a=0,o=t.byteLength){i(n+o),r.set(t.subarray(a,a+o),n),n+=o}};function i(t){var i=r.length;if(!(t<=i)){t=Math.max(t,i*(i<1048576?2:1.125)>>>0),i!=0&&(t=Math.max(t,256));let a=r;r=new Uint8Array(t),0<n&&r.set(a.subarray(0,n),0)}}}var u=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=function(t,n,r,i,a=l(512),o=new Uint8Array(256),s=new Int32Array(5003),c=new Int32Array(5003)){var d=s.length,i=Math.max(2,i);o.fill(0),c.fill(0),s.fill(-1);let f=0,p=0;var m=i+1;let h=m,g=!1,_=h,v=(1<<_)-1;var y=1<<m-1;let b=1+y,x=2+y,S=0,C=r[0],w=0;for(let t=d;t<65536;t*=2)++w;w=8-w,a.writeByte(i),k(y);var T=r.length;for(let t=1;t<T;t++)e:{var E=r[t],D=(E<<12)+C;let n=E<<w^C;if(s[n]===D)C=c[n];else{for(var O=n===0?1:d-n;0<=s[n];)if((n-=O)<0&&(n+=d),s[n]===D){C=c[n];break e}k(C),C=E,x<4096?(c[n]=x++,s[n]=D):(s.fill(-1),x=2+y,g=!0,k(y))}}return k(C),k(b),a.writeByte(0),a.bytesView();function k(t){for(f&=u[p],0<p?f|=t<<p:f=t,p+=_;8<=p;)o[S++]=255&f,254<=S&&(a.writeByte(S),a.writeBytesView(o,0,S),S=0),f>>=8,p-=8;if((x>v||g)&&(g?(_=h,v=(1<<_)-1,g=!1):(++_,v=_===12?1<<_:(1<<_)-1)),t==b){for(;0<p;)o[S++]=255&f,254<=S&&(a.writeByte(S),a.writeBytesView(o,0,S),S=0),f>>=8,p-=8;0<S&&(a.writeByte(S),a.writeBytesView(o,0,S),S=0)}}};function f(t,n,r){return t<<8&63488|n<<2&992|r>>3}function p(t,n,r,i){return t>>4|240&n|(240&r)<<4|(240&i)<<8}function m(t,n,r){return t>>4<<8|240&n|r>>4}function h(t,n,r){return t<n?n:r<t?r:t}function g(t){return t*t}function _(t,n,r){var i=0,a=1e100;let o=t[n];for(var s=o.cnt,c=o.ac,l=o.rc,u=o.gc,d=o.bc,f=o.fw;f!=0;f=t[f].fw){var p,m=t[f],h=m.cnt,h=s*h/(s+h);a<=h||(p=0,r&&a<=(p+=h*g(m.ac-c))||a<=(p+=h*g(m.rc-l))||a<=(p+=h*g(m.gc-u))||a<=(p+=h*g(m.bc-d))||(a=p,i=f))}o.err=a,o.nn=i}function v(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function y(t,n){for(var r=0,i=0;i<t.length;i++){var a=t[i]-n[i];r+=a*a}return r}function b(t,n){return 1<n?Math.round(t/n)*n:t}function x(t){return t*t}function S(t,n,r=y){let i=1/0,a=-1;for(let s=0;s<t.length;s++){var o=r(n,t[s]);o<i&&(i=o,a=s)}return a}function C(t,n,r=y){let i=1/0,a=-1;for(let s=0;s<t.length;s++){var o=r(n,t[s]);o<i&&(i=o,a=s)}return[a,i]}function w(t={}){let{initialCapacity:n=4096,auto:r=!0}=t,i=l(n),a=new Uint8Array(256),o=new Int32Array(5003),s=new Int32Array(5003),u=!1;return{reset(){i.reset(),u=!1},finish(){i.writeByte(c.trailer)},bytes(){return i.bytes()},bytesView(){return i.bytesView()},get buffer(){return i.buffer},get stream(){return i},writeHeader:f,writeFrame(t,n,c,l={}){var{transparent:p=!1,transparentIndex:m=0,delay:h=0,palette:g=null,repeat:_=0,colorDepth:v=8,dispose:y=-1}=l;let b=!1;if(r?u||=(b=!0,f(),!0):b=!!l.first,n=Math.max(0,Math.floor(n)),c=Math.max(0,Math.floor(c)),b){if(!g)throw Error(`First frame must include a { palette } option`);var[l,x,S,C,w=8]=[i,n,c,g,v];C=O(C.length)-1,w=128|w-1<<4|C,E(l,x),E(l,S),l.writeBytes([w,0,0]),T(i,g),0<=_&&(C=i,x=_,C.writeByte(33),C.writeByte(255),C.writeByte(11),D(C,`NETSCAPE2.0`),C.writeByte(3),C.writeByte(1),E(C,x),C.writeByte(0))}var k,S=Math.round(h/10),l=i,w=y,_=S,x=p,C=m,h=(l.writeByte(33),l.writeByte(249),l.writeByte(4),C<0&&(C=0,x=!1),x=x?(k=1,2):k=0,0<=w&&(x=7&w),x<<=2,l.writeByte(0|x|k),E(l,_),l.writeByte(C||0),l.writeByte(0),!!g&&!b);y=i,p=n,m=c,k=h?g:null,y.writeByte(44),E(y,0),E(y,0),E(y,p),E(y,m),k?(p=O(k.length)-1,y.writeByte(128|p)):y.writeByte(0),h&&T(i,g),[_,l,m,p,y=8,h,g,t]=[i,t,n,c,v,a,o,s],d(m,p,l,y,_,h,g,t)}};function f(){D(i,`GIF89a`)}}function T(t,n){var r=1<<O(n.length);for(let i=0;i<r;i++){let r=[0,0,0];i<n.length&&(r=n[i]),t.writeByte(r[0]),t.writeByte(r[1]),t.writeByte(r[2])}}function E(t,n){t.writeByte(255&n),t.writeByte(n>>8&255)}function D(t,n){for(var r=0;r<n.length;r++)t.writeByte(n.charCodeAt(r))}function O(t){return Math.max(Math.ceil(Math.log2(t)),1)}var k=w},{}],254:[function(t,n,r){r.read=function(t,n,r,i,a){var o,s,c=8*a-i-1,l=(1<<c)-1,u=l>>1,d=-7,f=r?a-1:0,p=r?-1:1,a=t[n+f];for(f+=p,o=a&(1<<-d)-1,a>>=-d,d+=c;0<d;o=256*o+t[n+f],f+=p,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=i;0<d;s=256*s+t[n+f],f+=p,d-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(a?-1:1);s+=2**i,o-=u}return(a?-1:1)*s*2**(o-i)},r.write=function(t,n,r,i,a,o){var s,c,l=8*o-a-1,u=(1<<l)-1,d=u>>1,f=a===23?2**-24-2**-77:0,p=i?0:o-1,m=i?1:-1,o=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,s=u):(s=Math.floor(Math.log(n)/Math.LN2),n*(i=2**-s)<1&&(s--,i*=2),2<=(n+=1<=s+d?f/i:f*2**(1-d))*i&&(s++,i/=2),u<=s+d?(c=0,s=u):1<=s+d?(c=(n*i-1)*2**a,s+=d):(c=n*2**(d-1)*2**a,s=0));8<=a;t[r+p]=255&c,p+=m,c/=256,a-=8);for(s=s<<a|c,l+=a;0<l;t[r+p]=255&s,p+=m,s/=256,l-=8);t[r+p-m]|=128*o}},{}],255:[function(t,n,r){var i;function a(t,n){return t.b===n.b&&t.a===n.a}function o(t,n){return t.b<n.b||t.b===n.b&&t.a<=n.a}function s(t,n,r){var i=n.b-t.b,a=r.b-n.b;return 0<i+a?i<a?n.a-t.a+i/(i+a)*(t.a-r.a):n.a-r.a+a/(i+a)*(r.a-t.a):0}function c(t,n,r){var i=n.b-t.b,a=r.b-n.b;return 0<i+a?(n.a-r.a)*i+(n.a-t.a)*a:0}function l(t,n){return t.a<n.a||t.a===n.a&&t.b<=n.b}function u(t,n,r){var i=n.a-t.a,a=r.a-n.a;return 0<i+a?i<a?n.b-t.b+i/(i+a)*(t.b-r.b):n.b-r.b+a/(i+a)*(r.b-t.b):0}function d(t,n,r){var i=n.a-t.a,a=r.a-n.a;return 0<i+a?(n.b-r.b)*i+(n.b-t.b)*a:0}function f(t,n,r,i){return(t=t<0?0:t)<=(r=r<0?0:r)?r===0?(n+i)/2:n+t/(t+r)*(i-n):i+r/(t+r)*(n-i)}function p(t){var n=v(t.b);return b(n,t.c),b(n.b,t.c),x(n,t.a),n}function m(t,n){var r=!1,i=!1;t!==n&&(n.a!==t.a&&(i=!0,C(n.a,t.a)),n.d!==t.d&&(r=!0,w(n.d,t.d)),y(n,t),i||(b(n,t.a),t.a.c=t),r||(x(n,t.d),t.d.a=t))}function h(t){var n=t.b,r=!1;t.d!==t.b.d&&(r=!0,w(t.d,t.b.d)),t.c===t?C(t.a,null):(t.b.d.a=t.b.e,t.a.c=t.c,y(t,t.b.e),r||x(t,t.d)),n.c===n?(C(n.a,null),w(n.d,null)):(t.d.a=n.b.e,n.a.c=n.c,y(n,n.b.e)),S(t)}function g(t){var n=v(t),r=n.b;return y(n,t.e),n.a=t.b.a,b(r,n.a),n.d=r.d=t.d,n=n.b,y(t.b,t.b.b.e),y(t.b,n),t.b.a=n.a,n.b.a.c=n.b,n.b.d=t.b.d,n.f=t.f,n.b.f=t.b.f,n}function _(t,n){var r=!1,i=v(t),a=i.b;return n.d!==t.d&&(r=!0,w(n.d,t.d)),y(i,t.e),y(a,n),i.a=t.b.a,a.a=n.a,i.d=a.d=t.d,t.d.a=a,r||x(i,t.d),i}function v(t){var n=new K,r=new K,i=t.b.h;return(((r.h=i).b.h=n).h=t).b.h=r,n.b=r,((n.c=n).e=r).b=n,(r.c=r).e=n}function y(t,n){var r=t.c,i=n.c;r.b.e=n,(i.b.e=t).c=i,n.c=r}function b(t,n){var r=n.f,i=new q(n,r);for(r.e=i,r=(n.f=i).c=t;r.a=i,(r=r.c)!==t;);}function x(t,n){var r=n.d,i=new re(n,r);for(r.b=i,(n.d=i).a=t,i.c=n.c,r=t;r.d=i,(r=r.e)!==t;);}function S(t){var n=t.h;t=t.b.h,(n.b.h=t).b.h=n}function C(t,n){for(var r=t.c,i=r;i.a=n,(i=i.c)!==r;);r=t.f,((i=t.e).f=r).e=i}function w(t,n){for(var r=t.a,i=r;i.d=n,(i=i.e)!==r;);r=t.d,((i=t.b).d=r).b=i}function T(t){var n=0;return Math.abs(t[1])>Math.abs(t[0])&&(n=1),n=Math.abs(t[2])>Math.abs(t[n])?2:n}function E(t,n){t.f+=n.f,t.b.f+=n.b.f}function D(t,n,r){return t=t.a,n=n.a,r=r.a,n.b.a===t?r.b.a===t?o(n.a,r.a)?c(r.b.a,n.a,r.a)<=0:0<=c(n.b.a,r.a,n.a):c(r.b.a,t,r.a)<=0:r.b.a===t?0<=c(n.b.a,t,n.a):(n=s(n.b.a,t,n.a),(t=s(r.b.a,t,r.a))<=n)}function O(t){t.a.i=null;var n=t.e;n.a.c=n.c,n.c.a=n.a,t.e=null}function k(t,n){h(t.a),t.c=!1,(t.a=n).i=t}function A(t){for(var n=t.a.a;(t=fe(t)).a.a===n;);return t.c&&(k(t,n=_(Z(t).a.b,t.a.e)),t=fe(t)),t}function j(t,n,r){var i=new de;return i.a=r,i.e=W(t.f,n.e,i),r.i=i}function M(t,n){switch(t.s){case 100130:return(1&n)!=0;case 100131:return n!==0;case 100132:return 0<n;case 100133:return n<0;case 100134:return 2<=n||n<=-2}return!1}function N(t){var n=t.a,r=n.d;r.c=t.d,r.a=n,O(t)}function P(t,n,r){for(n=(t=n).a;t!==r;){t.c=!1;var i=Z(t),a=i.a;if(a.a!==n.a){if(!i.c){N(t);break}k(i,a=_(n.c.b,a.b))}n.c!==a&&(m(a.b.e,a),m(n,a)),N(t),n=i.a,t=i}return n}function F(t,n,r,i,a,o){for(var s=!0;j(t,n,r.b),(r=r.c)!==i;);for(a===null&&(a=Z(n).a.b.c);(r=(i=Z(n)).a.b).a===a.a;)r.c!==a&&(m(r.b.e,r),m(a.b.e,r)),i.f=n.f-r.f,i.d=M(t,i.f),n.b=!0,!s&&z(t,n)&&(E(r,a),O(n),h(a)),s=!1,n=i,a=r;n.b=!0,o&&V(t,n)}function I(t,n,r,i,a){var o=[n.g[0],n.g[1],n.g[2]];n.d=null,n.d=t.o&&t.o(o,r,i,t.c)||null,n.d===null&&(a?t.n||=(ne(t,100156),!0):n.d=r[0])}function L(t,n,r){var i=[null,null,null,null];i[0]=n.a.d,i[1]=r.a.d,I(t,n.a,i,[.5,.5,0,0],!1),m(n,r)}function R(t,n,r,i,a){var o=Math.abs(n.b-t.b)+Math.abs(n.a-t.a),s=Math.abs(r.b-t.b)+Math.abs(r.a-t.a),c=a+1;i[a]=.5*s/(o+s),i[c]=.5*o/(o+s),t.g[0]+=i[a]*n.g[0]+i[c]*r.g[0],t.g[1]+=i[a]*n.g[1]+i[c]*r.g[1],t.g[2]+=i[a]*n.g[2]+i[c]*r.g[2]}function z(t,n){var r=Z(n),i=n.a,s=r.a;if(o(i.a,s.a)){if(0<c(s.b.a,i.a,s.a))return;if(a(i.a,s.a)){if(i.a!==s.a){var r=t.e,l=i.a.h;if(0<=l){var u=(r=r.b).d,d=r.e,f=r.c,p=f[l];u[p]=u[r.a],(f[u[p]]=p)<=--r.a&&(p<=1||o(d[u[p>>1]],d[u[p]])?X:ue)(r,p),d[l]=null,f[l]=r.b,r.b=l}else for(r.c[-(l+1)]=null;0<r.a&&r.c[r.d[r.a-1]]===null;)--r.a;L(t,s.b.e,i)}}else g(s.b),m(i,s.b.e),n.b=r.b=!0}else{if(c(i.b.a,s.a,i.a)<0)return;fe(n).b=n.b=!0,g(i.b),m(s.b.e,i)}return 1}function B(t,n){var r=Z(n),i=n.a,p=r.a,h=i.a,_=p.a,v=i.b.a,y=p.b.a,b=new q;if(c(v,t.a,h),c(y,t.a,_),!(h===_||Math.min(h.a,v.a)>Math.max(_.a,y.a))){if(o(h,_)){if(0<c(y,h,_))return}else if(c(v,_,h)<0)return;var x,S,C=v,w=h,T=y,E=_;if(o(C,w)||(x=C,C=w,w=x),o(T,E)||(x=T,T=E,E=x),o(C,T)||(x=C,C=T,T=x,x=w,w=E,E=x),o(T,w)?o(w,E)?((x=s(C,T,w))+(S=s(T,w,E))<0&&(x=-x,S=-S),b.b=f(x,T.b,S,w.b)):((x=c(C,T,w))+(S=-c(C,E,w))<0&&(x=-x,S=-S),b.b=f(x,T.b,S,E.b)):b.b=(T.b+w.b)/2,l(C,w)||(x=C,C=w,w=x),l(T,E)||(x=T,T=E,E=x),l(C,T)||(x=C,C=T,T=x,x=w,w=E,E=x),l(T,w)?l(w,E)?((x=u(C,T,w))+(S=u(T,w,E))<0&&(x=-x,S=-S),b.a=f(x,T.a,S,w.a)):((x=d(C,T,w))+(S=-d(C,E,w))<0&&(x=-x,S=-S),b.a=f(x,T.a,S,E.a)):b.a=(T.a+w.a)/2,o(b,t.a)&&(b.b=t.a.b,b.a=t.a.a),C=o(h,_)?h:_,o(C,b)&&(b.b=C.b,b.a=C.a),a(b,h)||a(b,_))return z(t,n),0;if(!a(v,t.a)&&0<=c(v,t.a,b)||!a(y,t.a)&&c(y,t.a,b)<=0){if(y===t.a)g(i.b),m(p.b,i),i=Z(n=A(n)).a,P(t,Z(n),r),F(t,n,i.b.e,i,i,!0);else{if(v!==t.a)return 0<=c(v,t.a,b)&&(fe(n).b=n.b=!0,g(i.b),i.a.b=t.a.b,i.a.a=t.a.a),void(c(y,t.a,b)<=0&&(n.b=r.b=!0,g(p.b),p.a.b=t.a.b,p.a.a=t.a.a));for(g(p.b),m(i.e,p.b.e),_=(h=r=n).a.b.a;(h=fe(h)).a.b.a===_;);h=Z(n=h).a.b.c,r.a=p.b.e,F(t,n,(p=P(t,r,null)).c,i.b.c,h,!0)}return 1}g(i.b),g(p.b),m(p.b.e,i),i.a.b=b.b,i.a.a=b.a,i.a.h=oe(t.e,i.a),i=i.a,p=[0,0,0,0],b=[h.d,v.d,_.d,y.d],i.g[0]=i.g[1]=i.g[2]=0,R(i,h,v,p,0),R(i,_,y,p,2),I(t,i,b,p,!0),fe(n).b=n.b=r.b=!0}}function V(t,n){for(var r=Z(n);;){for(;r.b;)r=Z(n=r);if(!n.b&&((n=fe(r=n))===null||!n.b))break;n.b=!1;var i=n.a,a=r.a;if(s=i.b.a!==a.b.a)e:{var s,l=Z(s=n),u=s.a,d=l.a,f=void 0;if(o(u.b.a,d.b.a)){if(c(u.b.a,d.b.a,u.a)<0){s=!1;break e}fe(s).b=s.b=!0,f=g(u),m(d.b,f),f.d.c=s.d}else{if(0<c(d.b.a,u.b.a,d.a)){s=!1;break e}s.b=l.b=!0,f=g(d),m(u.e,d.b),f.b.d.c=s.d}s=!0}if(s&&(r.c?(O(r),h(a),a=(r=Z(n)).a):n.c&&(O(n),h(i),i=(n=fe(r)).a)),i.a!==a.a){if(i.b.a===a.b.a||n.c||r.c||i.b.a!==t.a&&a.b.a!==t.a)z(t,n);else if(B(t,n))break}i.a===a.a&&i.b.a===a.b.a&&(E(a,i),O(n),h(i),n=fe(r))}}function H(t,n){var r=new de,i=p(t.b);i.a.b=4e150,i.a.a=n,i.b.a.b=-4e150,i.b.a.a=n,t.a=i.b.a,r.a=i,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,i=W(i=t.f,i.a,r),r.e=i}function U(t){this.a=new ee,this.b=t,this.c=D}function W(t,n,r){for(;(n=n.c).b!==null&&!t.c(t.b,n.b,r););return t=new ee(r,n.a,n),n.a.c=t,n.a=t}function ee(t,n,r){this.b=t||null,this.a=n||this,this.c=r||this}function G(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function te(t,n){if(t.d!==n)for(;t.d!==n;)if(t.d<n)switch(t.d){case 0:ne(t,100151),t.u(null);break;case 1:ne(t,100152),t.t()}else switch(t.d){case 2:ne(t,100154),t.v();break;case 1:ne(t,100153),t.w()}}function ne(t,n){t.p&&t.p(n,t.c)}function re(t,n){this.b=t||this,this.d=n||this,this.a=null,this.c=!1}function K(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ie(){this.c=new q,this.a=new re,this.b=new K,this.d=new K,this.b.b=this.d,this.d.b=this.b}function q(t,n){this.e=t||this,this.f=n||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ae(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new J}function oe(t,n){var r,i,a;return t.e?(2*(i=++(r=t.b).a)>r.f&&(r.f*=2,r.c=ce(r.c,r.f+1)),r.b===0?a=i:(a=r.b,r.b=r.c[r.b]),r.e[a]=n,r.c[a]=i,r.d[i]=a,r.h&&ue(r,i),a):(r=t.a++,t.c[r]=n,-(r+1))}function se(t){if(t.a===0)return le(t.b);var n=t.c[t.d[t.a-1]];if(t.b.a!==0&&o(Y(t.b),n))return le(t.b);for(;--t.a,0<t.a&&t.c[t.d[t.a-1]]===null;);return n}function J(){this.d=ce([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ce(t,n){for(var r=Array(n),i=0;i<t.length;i++)r[i]=t[i];for(;i<n;i++)r[i]=0;return r}function Y(t){return t.e[t.d[1]]}function le(t){var n=t.d,r=t.e,i=t.c,a=n[1],o=r[a];return 0<t.a&&(n[1]=n[t.a],i[n[1]]=1,r[a]=null,i[a]=t.b,t.b=a,0<--t.a&&X(t,1)),o}function X(t,n){for(var r=t.d,i=t.e,a=t.c,s=n,c=r[s];;){var l=s<<1,u=(l<t.a&&o(i[r[l+1]],i[r[l]])&&(l+=1),r[l]);if(l>t.a||o(i[c],i[u])){a[r[s]=c]=s;break}a[r[s]=u]=s,s=l}}function ue(t,n){for(var r=t.d,i=t.e,a=t.c,s=n,c=r[s];;){var l=s>>1,u=r[l];if(l==0||o(i[u],i[c])){a[r[s]=c]=s;break}a[r[s]=u]=s,s=l}}function de(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Z(t){return t.e.c.b}function fe(t){return t.e.a.b}(i=G.prototype).x=function(){te(this,0)},i.B=function(t,n){switch(t){case 100142:return;case 100140:switch(n){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=n;return}break;case 100141:this.m=!!n;return;default:ne(this,100900);return}ne(this,100901)},i.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ne(this,100900)}return!1},i.A=function(t,n,r){this.j[0]=t,this.j[1]=n,this.j[2]=r},i.z=function(t,n){var r=n||null;switch(t){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:ne(this,100900)}},i.C=function(t,n){var r=!1,i=[0,0,0];te(this,2);for(var a=0;a<3;++a){var o=t[a];o<-1e150&&(o=-1e150,r=!0),1e150<o&&(o=1e150,r=!0),i[a]=o}r&&ne(this,100155),(r=this.q)===null?m(r=p(this.b),r.b):(g(r),r=r.e),r.a.d=n,r.a.g[0]=i[0],r.a.g[1]=i[1],r.a.g[2]=i[2],r.f=1,r.b.f=-1,this.q=r},i.u=function(t){te(this,0),this.d=1,this.b=new ie,this.c=t},i.t=function(){te(this,1),this.d=2,this.q=null},i.v=function(){te(this,2),this.d=1},i.w=function(){te(this,1),this.d=0;var t,n,r=this.j[0],i=this.j[1],s=this.j[2],l=!1,u=[r,i,s];if(r===0&&i===0&&s===0){for(var i=[-2e150,-2e150,-2e150],d=[2e150,2e150,2e150],s=[],f=[],r=(l=this.b.c).e;r!==l;r=r.e)for(var p=0;p<3;++p){var v=r.g[p];v<d[p]&&(d[p]=v,f[p]=r),v>i[p]&&(i[p]=v,s[p]=r)}if(i[1]-d[1]>i[r=0]-d[0]&&(r=1),d[r=i[2]-d[2]>i[r]-d[r]?2:r]>=i[r])u[0]=0,u[1]=0,u[2]=1;else{for(d=f[r],s=s[r],f=[i=0,0,0],d=[d.g[0]-s.g[0],d.g[1]-s.g[1],d.g[2]-s.g[2]],p=[0,0,0],r=l.e;r!==l;r=r.e)p[0]=r.g[0]-s.g[0],p[1]=r.g[1]-s.g[1],p[2]=r.g[2]-s.g[2],f[0]=d[1]*p[2]-d[2]*p[1],f[1]=d[2]*p[0]-d[0]*p[2],f[2]=d[0]*p[1]-d[1]*p[0],i<(v=f[0]*f[0]+f[1]*f[1]+f[2]*f[2])&&(i=v,u[0]=f[0],u[1]=f[1],u[2]=f[2]);i<=0&&(u[0]=u[1]=u[2]=0,u[T(d)]=1)}l=!0}for(f=T(u),r=this.b.c,i=(f+1)%3,s=(f+2)%3,f=0<u[f]?1:-1,u=r.e;u!==r;u=u.e)u.b=u.g[i],u.a=f*u.g[s];if(l){for(u=0,r=(l=this.b.a).b;r!==l;r=r.b)if(!((i=r.a).f<=0))for(;u+=(i.a.b-i.b.a.b)*(i.a.a+i.b.a.a),(i=i.e)!==r.a;);if(u<0)for(l=(u=this.b.c).e;l!==u;l=l.e)l.a=-l.a}for(this.n=!1,u=this.b.b,r=u.h;r!==u;r=l)l=r.h,i=r.e,a(r.a,r.b.a)&&r.e.e!==r&&(L(this,i,r),h(r),i=(r=i).e),i.e===r&&(i!==r&&(i!==l&&i!==l.b||(l=l.h),h(i)),r!==l&&r!==l.b||(l=l.h),h(r));for(this.e=u=new ae,l=this.b.c,r=l.e;r!==l;r=r.e)r.h=oe(u,r);var b=u;b.d=[];for(var x=0;x<b.a;x++)b.d[x]=x;b.d.sort(function(t){return function(n,r){return o(t[n],t[r])?1:-1}}(b.c)),b.e=!0;for(var w=b.b,D=w.a;1<=D;--D)X(w,D);for(w.h=!0,this.f=new U(this),H(this,-4e150),H(this,4e150);(u=se(this.e))!==null;){for(;;){e:if((r=this.e).a===0)l=Y(r.b);else if(l=r.c[r.d[r.a-1]],r.b.a!==0&&o(r=Y(r.b),l)){l=r;break e}if(l===null||!a(l,u))break;l=se(this.e),L(this,u.c,l.c)}(function t(n,r){for(var i,s=(n.a=r).c;s.i===null;)if((s=s.c)===r.c){var s=n,l=r;(v=new de).a=l.c.b;for(var u=(d=s.f).a;(u=u.a).b!==null&&!d.c(d.b,v,u.b););var d,f,p=Z(d=u.b),v=d.a,u=p.a;c(v.b.a,l,v.a)===0?a((v=d.a).a,l)||a(v.b.a,l)||(g(v.b),d.c&&=(h(v.c),!1),m(l.c,v),t(s,l)):(f=o(u.b.a,v.b.a)?d:p,p=void 0,d.d||f.c?(p=f===d?_(l.c.b,v.e):_(u.b.c.b,l.c).b,f.c?k(f,p):((d=j(v=s,d,p)).f=fe(d).f+d.a.f,d.d=M(v,d.f)),t(s,l)):F(s,d,l.c,l.c,null,!0));return}d=(v=Z(s=A(s.i))).a,(v=P(n,v,null)).c===d?(v=(d=v).c,u=Z(s),p=s.a,f=u.a,i=!1,p.b.a!==f.b.a&&B(n,s),a(p.a,n.a)&&(m(v.b.e,p),v=Z(s=A(s)).a,P(n,Z(s),u),i=!0),a(f.a,n.a)&&(m(d,f.b.e),d=P(n,u,null),i=!0),i?F(n,s,d.c,v,v,!0):(l=o(f.a,p.a)?f.b.e:p,F(n,s,l=_(d.c.b,l),l.c,l.c,!1),l.b.i.c=!0,V(n,s))):F(n,s,v.c,d,d,!0)})(this,u)}for(this.a=this.f.a.a.b.a.a,u=0;(l=this.f.a.a.b)!==null;)l.h||++u,O(l);for(this.f=null,(u=this.e).b=null,u.d=null,this.e=u.c=null,u=this.b,r=u.a.b;r!==u.a;r=l)l=r.b,(r=r.a).e.e===r&&(E(r.c,r),h(r));if(!this.n){if(u=this.b,this.m)for(r=u.b.h;r!==u.b;r=l)l=r.h,r.b.d.c===r.d.c?h(r):r.f=r.d.c?1:-1;else for(r=u.a.b;r!==u.a;r=l)if(l=r.b,r.c){for(r=r.a;o(r.b.a,r.a);r=r.c.b);for(;o(r.a,r.b.a);r=r.e);for(i=r.c.b,s=void 0;r.e!==i;)if(o(r.b.a,i.a)){for(;i.e!==r&&(o((n=i.e).b.a,n.a)||c(i.a,i.b.a,i.e.b.a)<=0);)i=(s=_(i.e,i)).b;i=i.c.b}else{for(;i.e!==r&&(o((t=r.c.b).a,t.b.a)||0<=c(r.b.a,r.a,r.c.b.a));)r=(s=_(r,r.c.b)).b;r=r.e}for(;i.e.e!==r;)s=_(i.e,i),i=s.b}if(this.h||this.i||this.k||this.l)if(this.m){for(l=(u=this.b).a.b;l!==u.a;l=l.b)if(l.c){for(this.h&&this.h(2,this.c),r=l.a;this.k&&this.k(r.a.d,this.c),(r=r.e)!==l.a;);this.i&&this.i(this.c)}}else{for(u=this.b,l=!!this.l,r=!1,i=-1,s=u.a.d;s!==u.a;s=s.d)if(s.c)for(r||=(this.h&&this.h(4,this.c),!0),f=s.a;l&&(d=f.b.d.c?0:1,i!==d&&(i=d,this.l&&this.l(!!i,this.c))),this.k&&this.k(f.a.d,this.c),(f=f.e)!==s.a;);r&&this.i&&this.i(this.c)}if(this.r){for(u=this.b,r=u.a.b;r!==u.a;r=l)if(l=r.b,!r.c){for(s=(i=r.a).e,f=void 0;s=(f=s).e,(f.d=null)===f.b.d&&(f.c===f?C(f.a,null):(f.a.c=f.c,y(f,f.b.e)),(d=f.b).c===d?C(d.a,null):(d.a.c=d.c,y(d,d.b.e)),S(f)),f!==i;);i=r.d,((r=r.b).d=i).b=r}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null},this.libtess={GluTesselator:G,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},G.prototype.gluDeleteTess=G.prototype.x,G.prototype.gluTessProperty=G.prototype.B,G.prototype.gluGetTessProperty=G.prototype.y,G.prototype.gluTessNormal=G.prototype.A,G.prototype.gluTessCallback=G.prototype.z,G.prototype.gluTessVertex=G.prototype.C,G.prototype.gluTessBeginPolygon=G.prototype.u,G.prototype.gluTessBeginContour=G.prototype.t,G.prototype.gluTessEndContour=G.prototype.v,G.prototype.gluTessEndPolygon=G.prototype.w,n!==void 0&&(n.exports=this.libtess)},{}],256:[function(t,n,r){function i(t,n,r,i){var a=0,o=(i=i===void 0?{}:i).loop===void 0?null:i.loop,s=i.palette===void 0?null:i.palette;if(n<=0||r<=0||65535<n||65535<r)throw Error(`Width/Height invalid.`);function c(t){if(t=t.length,t<2||256<t||t&t-1)throw Error(`Invalid code/color length, must be power of 2 and 2 .. 256.`);return t}t[a++]=71,t[a++]=73,t[a++]=70,t[a++]=56,t[a++]=57,t[a++]=97;var l=0,u=0;if(s!==null){for(var d=c(s);d>>=1;)++l;if(d=1<<l,--l,i.background!==void 0){if(d<=(u=i.background))throw Error(`Background index out of range.`);if(u===0)throw Error(`Background index explicitly passed as 0.`)}}if(t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=(s===null?0:128)|l,t[a++]=u,t[a++]=0,s!==null)for(var f=0,p=s.length;f<p;++f){var m=s[f];t[a++]=m>>16&255,t[a++]=m>>8&255,t[a++]=255&m}if(o!==null){if(o<0||65535<o)throw Error(`Loop count invalid.`);t[a++]=33,t[a++]=255,t[a++]=11,t[a++]=78,t[a++]=69,t[a++]=84,t[a++]=83,t[a++]=67,t[a++]=65,t[a++]=80,t[a++]=69,t[a++]=50,t[a++]=46,t[a++]=48,t[a++]=3,t[a++]=1,t[a++]=255&o,t[a++]=o>>8&255,t[a++]=0}var h=!1;this.addFrame=function(n,r,i,o,l,u){if(!0===h&&(--a,h=!1),u=u===void 0?{}:u,n<0||r<0||65535<n||65535<r)throw Error(`x/y invalid.`);if(i<=0||o<=0||65535<i||65535<o)throw Error(`Width/Height invalid.`);if(l.length<i*o)throw Error(`Not enough pixels for the frame size.`);var d=!0,f=u.palette;if(f??=(d=!1,s),f==null)throw Error(`Must supply either a local or global palette.`);for(var p=c(f),m=0;p>>=1;)++m;var p=1<<m,g=u.delay===void 0?0:u.delay,_=u.disposal===void 0?0:u.disposal;if(_<0||3<_)throw Error(`Disposal out of range.`);var v=!1,y=0;if(u.transparent!==void 0&&u.transparent!==null&&(v=!0,(y=u.transparent)<0||p<=y))throw Error(`Transparent color index.`);if(_===0&&!v&&g===0||(t[a++]=33,t[a++]=249,t[a++]=4,t[a++]=_<<2|(!0===v?1:0),t[a++]=255&g,t[a++]=g>>8&255,t[a++]=y,t[a++]=0),t[a++]=44,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=255&i,t[a++]=i>>8&255,t[a++]=255&o,t[a++]=o>>8&255,t[a++]=!0===d?128|m-1:0,!0===d)for(var b=0,x=f.length;b<x;++b){var S=f[b];t[a++]=S>>16&255,t[a++]=S>>8&255,t[a++]=255&S}return a=function(t,n,r,i){t[n++]=r;var a=n++,o=1<<r,s=o-1,c=1+o,l=1+c,u=r+1,d=0,f=0;function p(r){for(;r<=d;)t[n++]=255&f,f>>=8,d-=8,n===a+256&&(t[a]=255,a=n++)}function m(t){f|=t<<d,d+=u,p(8)}var h=i[0]&s,g={};m(o);for(var _=1,v=i.length;_<v;++_){var y=i[_]&s,b=h<<8|y,x=g[b];if(x===void 0){for(f|=h<<d,d+=u;8<=d;)t[n++]=255&f,f>>=8,d-=8,n===a+256&&(t[a]=255,a=n++);l===4096?(m(o),l=1+c,u=r+1,g={}):(1<<u<=l&&++u,g[b]=l++),h=y}else h=x}return m(h),m(c),p(1),a+1===n?t[a]=0:(t[a]=n-a-1,t[n++]=0),n}(t,a,m<2?2:m,l)},this.end=function(){return!1===h&&(t[a++]=59,h=!0),a},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(n){t=n},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(t){a=t}}function a(t,n,r,i){for(var a=t[n++],o=1<<a,s=1+o,c=1+s,l=a+1,u=(1<<l)-1,d=0,f=0,p=0,m=t[n++],h=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=t[n++]<<d,d+=8,m===1?m=t[n++]:--m;if(d<l)break;var _=f&u;if(f>>=l,d-=l,_==o)c=1+s,u=(1<<(l=a+1))-1,g=null;else{if(_==s)break;for(var v=_<c?_:g,y=0,b=v;o<b;)b=h[b]>>8,++y;var x=b;if(i<p+y+(v===_?0:1))return void console.log(`Warning, gif stream longer than expected.`);r[p++]=x;var S=p+=y;for(v!==_&&(r[p++]=x),b=v;y--;)b=h[b],r[--S]=255&b,b>>=8;g!==null&&c<4096&&(h[c++]=g<<8|x,u+1<=c&&l<12&&(++l,u=u<<1|1)),g=_}}p!==i&&console.log(`Warning, gif stream shorter than expected.`)}try{r.GifWriter=i,r.GifReader=function(t){var n=0;if(t[n++]!==71||t[n++]!==73||t[n++]!==70||t[n++]!==56||(t[n++]+1&253)!=56||t[n++]!==97)throw Error(`Invalid GIF 87a/89a header.`);var r=t[n++]|t[n++]<<8,i=t[n++]|t[n++]<<8,o=t[n++],s=1<<1+(7&o),c=(t[n++],t[n++],null),l=null,u=(o>>7&&(c=n,n+=3*(l=s)),!0),d=[],f=0,p=null,m=0,h=null;for(this.width=r,this.height=i;u&&n<t.length;)switch(t[n++]){case 33:switch(t[n++]){case 255:if(t[n]!==11||t[n+1]==78&&t[n+2]==69&&t[n+3]==84&&t[n+4]==83&&t[n+5]==67&&t[n+6]==65&&t[n+7]==80&&t[n+8]==69&&t[n+9]==50&&t[n+10]==46&&t[n+11]==48&&t[n+12]==3&&t[n+13]==1&&t[n+16]==0)n+=14,h=t[n++]|t[n++]<<8,n++;else for(n+=12;;){if(!(0<=(_=t[n++])))throw Error(`Invalid block size`);if(_===0)break;n+=_}break;case 249:if(t[n++]!==4||t[n+4]!==0)throw Error(`Invalid graphics extension block.`);var g=t[n++],f=t[n++]|t[n++]<<8,p=t[n++];!(1&g)&&(p=null),m=g>>2&7,n++;break;case 254:for(;;){if(!(0<=(_=t[n++])))throw Error(`Invalid block size`);if(_===0)break;n+=_}break;default:throw Error(`Unknown graphic control label: 0x`+t[n-1].toString(16))}break;case 44:var _,v=t[n++]|t[n++]<<8,y=t[n++]|t[n++]<<8,b=t[n++]|t[n++]<<8,x=t[n++]|t[n++]<<8,S=t[n++],C=S>>6&1,w=1<<1+(7&S),T=c,E=l,D=!1,S=(S>>7&&(D=!0,T=n,n+=3*(E=w)),n);for(n++;;){if(!(0<=(_=t[n++])))throw Error(`Invalid block size`);if(_===0)break;n+=_}d.push({x:v,y,width:b,height:x,has_local_palette:D,palette_offset:T,palette_size:E,data_offset:S,data_length:n-S,transparent_index:p,interlaced:!!C,delay:f,disposal:m});break;case 59:u=!1;break;default:throw Error(`Unknown gif block: 0x`+t[n-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return h},this.frameInfo=function(t){if(t<0||t>=d.length)throw Error(`Frame index out of range.`);return d[t]},this.decodeAndBlitFrameBGRA=function(n,i){for(var n=this.frameInfo(n),o=n.width*n.height,s=new Uint8Array(o),c=(a(t,n.data_offset,s,o),n.palette_offset),l=n.transparent_index,u=(l===null&&(l=256),n.width),d=r-u,f=u,p=4*(n.y*r+n.x),m=4*((n.y+n.height)*r+n.x),h=p,g=4*d,_=(!0===n.interlaced&&(g+=4*r*7),8),v=0,y=s.length;v<y;++v){var b,x,S=s[v];f===0&&(f=u,m<=(h+=g)&&(g=4*d+4*r*(_-1),h=p+(u+d)*(_<<1),_>>=1)),S===l?h+=4:(b=t[c+3*S],x=t[c+3*S+1],S=t[c+3*S+2],i[h++]=S,i[h++]=x,i[h++]=b,i[h++]=255),--f}},this.decodeAndBlitFrameRGBA=function(n,i){for(var n=this.frameInfo(n),o=n.width*n.height,s=new Uint8Array(o),c=(a(t,n.data_offset,s,o),n.palette_offset),l=n.transparent_index,u=(l===null&&(l=256),n.width),d=r-u,f=u,p=4*(n.y*r+n.x),m=4*((n.y+n.height)*r+n.x),h=p,g=4*d,_=(!0===n.interlaced&&(g+=4*r*7),8),v=0,y=s.length;v<y;++v){var b,x,S=s[v];f===0&&(f=u,m<=(h+=g)&&(g=4*d+4*r*(_-1),h=p+(u+d)*(_<<1),_>>=1)),S===l?h+=4:(b=t[c+3*S],x=t[c+3*S+1],S=t[c+3*S+2],i[h++]=b,i[h++]=x,i[h++]=S,i[h++]=255),--f}}}}catch{}},{}],257:[function(n,r,i){(function(a){var o=this,s=function(t){function r(t){if(this==null)throw TypeError();var n,r=String(this),i=r.length,t=t?Number(t):0;if(!((t=t==t?t:0)<0||i<=t))return 55296<=(n=r.charCodeAt(t))&&n<=56319&&t+1<i&&56320<=(i=r.charCodeAt(t+1))&&i<=57343?1024*(n-55296)+i-56320+65536:n}String.prototype.codePointAt||((i=function(){try{var t={},n=Object.defineProperty,r=n(t,t,t)&&n}catch{}return r}())?i(String.prototype,`codePointAt`,{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r);var i,o=0,s=-3;function c(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(t,n){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=n,this.destLen=0,this.ltree=new c,this.dtree=new c}var u=new c,d=new c,f=new Uint8Array(30),p=new Uint16Array(30),m=new Uint8Array(30),h=new Uint16Array(30),g=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new c,v=new Uint8Array(320);function y(t,n,r,i){for(var a,o=0;o<r;++o)t[o]=0;for(o=0;o<30-r;++o)t[o+r]=o/r|0;for(a=i,o=0;o<30;++o)n[o]=a,a+=1<<t[o]}var b=new Uint16Array(16);function x(t,n,r,i){for(var a,o=0;o<16;++o)t.table[o]=0;for(o=0;o<i;++o)t.table[n[r+o]]++;for(o=a=t.table[0]=0;o<16;++o)b[o]=a,a+=t.table[o];for(o=0;o<i;++o)n[r+o]&&(t.trans[b[n[r+o]]++]=o)}function S(t,n,r){if(!n)return r;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var i=t.tag&65535>>>16-n;return t.tag>>>=n,t.bitcount-=n,i+r}function C(t,n){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;for(var r=0,i=0,a=0,o=t.tag;i=2*i+(1&o),o>>>=1,r+=n.table[++a],0<=(i-=n.table[a]););return t.tag=o,t.bitcount-=a,n.trans[r+i]}function w(t,n,r){for(;;){var i=C(t,n);if(i===256)return o;if(i<256)t.dest[t.destLen++]=i;else for(var a,s=S(t,f[i-=257],p[i]),i=C(t,r),c=a=t.destLen-S(t,m[i],h[i]);c<a+s;++c)t.dest[t.destLen++]=t.dest[c]}}for(var T=u,E=d,D=0;D<7;++D)T.table[D]=0;for(T.table[7]=24,T.table[8]=152,T.table[9]=112,D=0;D<24;++D)T.trans[D]=256+D;for(D=0;D<144;++D)T.trans[24+D]=D;for(D=0;D<8;++D)T.trans[168+D]=280+D;for(D=0;D<112;++D)T.trans[176+D]=144+D;for(D=0;D<5;++D)E.table[D]=0;for(E.table[5]=32,D=0;D<32;++D)E.trans[D]=D;y(f,p,4,3),y(m,h,2,1),f[28]=0,p[28]=258;var O=function(t,n){var r,i,a,c=new l(t,n);do{switch(a=void 0,(i=c).bitcount--||(i.tag=i.source[i.sourceIndex++],i.bitcount=7),a=1&i.tag,i.tag>>>=1,i=a,S(c,2,0)){case 0:r=function(t){for(var n,r;8<t.bitcount;)t.sourceIndex--,t.bitcount-=8;if((n=256*t.source[t.sourceIndex+1]+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return s;for(t.sourceIndex+=4,r=n;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,o}(c);break;case 1:r=w(c,u,d);break;case 2:k=O=D=A=f=E=T=b=y=h=m=p=void 0;for(var f,p=c,m=c.ltree,h=c.dtree,y=S(p,5,257),b=S(p,5,1),T=S(p,4,4),E=0;E<19;++E)v[E]=0;for(E=0;E<T;++E){var D=S(p,3,0);v[g[E]]=D}for(x(_,v,0,19),f=0;f<y+b;){var O=C(p,_);switch(O){case 16:for(var k=v[f-1],A=S(p,2,3);A;--A)v[f++]=k;break;case 17:for(A=S(p,3,3);A;--A)v[f++]=0;break;case 18:for(A=S(p,7,11);A;--A)v[f++]=0;break;default:v[f++]=O}}x(m,v,0,y),x(h,v,y,b),r=w(c,c.ltree,c.dtree);break;default:r=s}if(r!==o)throw Error(`Data error`)}while(!i);return c.destLen<c.dest.length?typeof c.dest.slice==`function`?c.dest.slice(0,c.destLen):c.dest.subarray(0,c.destLen):c.dest};function k(t,n,r,i,a){return(1-a)**3*t+3*(1-a)**2*a*n+3*(1-a)*a**2*r+a**3*i}function A(){this.x1=NaN,this.y1=NaN,this.x2=NaN,this.y2=NaN}function j(){this.commands=[],this.fill=`black`,this.stroke=null,this.strokeWidth=1}function M(t){throw Error(t)}function N(t,n){t||M(n)}A.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},A.prototype.addPoint=function(t,n){typeof t==`number`&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof n==`number`&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))},A.prototype.addX=function(t){this.addPoint(t,null)},A.prototype.addY=function(t){this.addPoint(null,t)},A.prototype.addBezier=function(t,n,r,i,a,o,s,c){var l=[t,n],u=[r,i],d=[a,o],f=[s,c];this.addPoint(t,n),this.addPoint(s,c);for(var p=0;p<=1;p++){var m,h=6*l[p]-12*u[p]+6*d[p],g=-3*l[p]+9*u[p]-9*d[p]+3*f[p],_=3*u[p]-3*l[p];g==0?h==0||0<(m=-_/h)&&m<1&&(p===0&&this.addX(k(l[p],u[p],d[p],f[p],m)),p===1&&this.addY(k(l[p],u[p],d[p],f[p],m))):(m=h**2-4*_*g)<0||(0<(_=(-h+Math.sqrt(m))/(2*g))&&_<1&&(p===0&&this.addX(k(l[p],u[p],d[p],f[p],_)),p===1&&this.addY(k(l[p],u[p],d[p],f[p],_))),0<(_=(-h-Math.sqrt(m))/(2*g))&&_<1&&(p===0&&this.addX(k(l[p],u[p],d[p],f[p],_)),p===1&&this.addY(k(l[p],u[p],d[p],f[p],_))))}},A.prototype.addQuad=function(t,n,r,i,a,o){r=t+2/3*(r-t),i=n+2/3*(i-n),this.addBezier(t,n,r,i,r+1/3*(a-t),i+1/3*(o-n),a,o)},j.prototype.moveTo=function(t,n){this.commands.push({type:`M`,x:t,y:n})},j.prototype.lineTo=function(t,n){this.commands.push({type:`L`,x:t,y:n})},j.prototype.curveTo=j.prototype.bezierCurveTo=function(t,n,r,i,a,o){this.commands.push({type:`C`,x1:t,y1:n,x2:r,y2:i,x:a,y:o})},j.prototype.quadTo=j.prototype.quadraticCurveTo=function(t,n,r,i){this.commands.push({type:`Q`,x1:t,y1:n,x:r,y:i})},j.prototype.close=j.prototype.closePath=function(){this.commands.push({type:`Z`})},j.prototype.extend=function(t){var n;if(t.commands)t=t.commands;else if(t instanceof A)return n=t,this.moveTo(n.x1,n.y1),this.lineTo(n.x2,n.y1),this.lineTo(n.x2,n.y2),this.lineTo(n.x1,n.y2),void this.close();Array.prototype.push.apply(this.commands,t)},j.prototype.getBoundingBox=function(){for(var t=new A,n=0,r=0,i=0,a=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case`M`:t.addPoint(s.x,s.y),n=i=s.x,r=a=s.y;break;case`L`:t.addPoint(s.x,s.y),i=s.x,a=s.y;break;case`Q`:t.addQuad(i,a,s.x1,s.y1,s.x,s.y),i=s.x,a=s.y;break;case`C`:t.addBezier(i,a,s.x1,s.y1,s.x2,s.y2,s.x,s.y),i=s.x,a=s.y;break;case`Z`:i=n,a=r;break;default:throw Error(`Unexpected path command `+s.type)}}return t.isEmpty()&&t.addPoint(0,0),t},j.prototype.draw=function(t){t.beginPath();for(var n=0;n<this.commands.length;n+=1){var r=this.commands[n];r.type===`M`?t.moveTo(r.x,r.y):r.type===`L`?t.lineTo(r.x,r.y):r.type===`C`?t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type===`Q`?t.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type===`Z`&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())},j.prototype.toPathData=function(t){function n(){for(var n=arguments,r=``,i=0;i<arguments.length;i+=1){var a=n[i];0<=a&&0<i&&(r+=` `),r+=(a=a,Math.round(a)===a?``+Math.round(a):a.toFixed(t))}return r}t=t===void 0?2:t;for(var r=``,i=0;i<this.commands.length;i+=1){var a=this.commands[i];a.type===`M`?r+=`M`+n(a.x,a.y):a.type===`L`?r+=`L`+n(a.x,a.y):a.type===`C`?r+=`C`+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):a.type===`Q`?r+=`Q`+n(a.x1,a.y1,a.x,a.y):a.type===`Z`&&(r+=`Z`)}return r},j.prototype.toSVG=function(t){var n=(n=`<path d="`)+this.toPathData(t)+`"`;return this.fill&&this.fill!==`black`&&(this.fill===null?n+=` fill="none"`:n+=` fill="`+this.fill+`"`),this.stroke&&(n+=` stroke="`+this.stroke+`" stroke-width="`+this.strokeWidth+`"`),n+=`/>`},j.prototype.toDOMElement=function(t){var t=this.toPathData(t),n=document.createElementNS(`http://www.w3.org/2000/svg`,`path`);return n.setAttribute(`d`,t),n};var P={fail:M,argument:N,assert:N},F={},I={},L={};function R(t){return function(){return t}}I.BYTE=function(t){return P.argument(0<=t&&t<=255,`Byte value should be between 0 and 255.`),[t]},L.BYTE=R(1),I.CHAR=function(t){return[t.charCodeAt(0)]},L.CHAR=R(1),I.CHARARRAY=function(t){for(var n=[],r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n},L.CHARARRAY=function(t){return t.length},I.USHORT=function(t){return[t>>8&255,255&t]},L.USHORT=R(2),I.SHORT=function(t){return[(t=32768<=t?-(65536-t):t)>>8&255,255&t]},L.SHORT=R(2),I.UINT24=function(t){return[t>>16&255,t>>8&255,255&t]},L.UINT24=R(3),I.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},L.ULONG=R(4),I.LONG=function(t){return[(t=2147483648<=t?-(4294967296-t):t)>>24&255,t>>16&255,t>>8&255,255&t]},L.LONG=R(4),I.FIXED=I.ULONG,L.FIXED=L.ULONG,I.FWORD=I.SHORT,L.FWORD=L.SHORT,I.UFWORD=I.USHORT,L.UFWORD=L.USHORT,I.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t]},L.LONGDATETIME=R(8),I.TAG=function(t){return P.argument(t.length===4,`Tag should be exactly 4 ASCII characters.`),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]},L.TAG=R(4),I.Card8=I.BYTE,L.Card8=L.BYTE,I.Card16=I.USHORT,L.Card16=L.USHORT,I.OffSize=I.BYTE,L.OffSize=L.BYTE,I.SID=I.USHORT,L.SID=L.USHORT,I.NUMBER=function(t){return-107<=t&&t<=107?[t+139]:108<=t&&t<=1131?[247+((t-=108)>>8),255&t]:-1131<=t&&t<=-108?[251+((t=-t-108)>>8),255&t]:-32768<=t&&t<=32767?I.NUMBER16(t):I.NUMBER32(t)},L.NUMBER=function(t){return I.NUMBER(t).length},I.NUMBER16=function(t){return[28,t>>8&255,255&t]},L.NUMBER16=R(3),I.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,255&t]},L.NUMBER32=R(5),I.REAL=function(t){for(var n=t.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(n),i=(r&&(r=parseFloat(`1e`+((r[2]?+r[2]:0)+r[1].length)),n=(Math.round(t*r)/r).toString()),``),a=0,o=n.length;a<o;a+=1){var s=n[a];i+=s===`e`?n[++a]===`-`?`c`:`b`:s===`.`?`a`:s===`-`?`e`:s}for(var c=[30],l=0,u=(i+=1&i.length?`f`:`ff`).length;l<u;l+=2)c.push(parseInt(i.substr(l,2),16));return c},L.REAL=function(t){return I.REAL(t).length},I.NAME=I.CHARARRAY,L.NAME=L.CHARARRAY,I.STRING=I.CHARARRAY,L.STRING=L.CHARARRAY,F.UTF8=function(t,n,r){for(var i=[],a=r,o=0;o<a;o++,n+=1)i[o]=t.getUint8(n);return String.fromCharCode.apply(null,i)},F.UTF16=function(t,n,r){for(var i=[],a=r/2,o=0;o<a;o++,n+=2)i[o]=t.getUint16(n);return String.fromCharCode.apply(null,i)},I.UTF16=function(t){for(var n=[],r=0;r<t.length;r+=1){var i=t.charCodeAt(r);n[n.length]=i>>8&255,n[n.length]=255&i}return n},L.UTF16=function(t){return 2*t.length};var z,B={"x-mac-croatian":`\xA0`,"x-mac-cyrillic":`\xA0`,"x-mac-gaelic":`\xA0`,"x-mac-greek":`\xA0`,"x-mac-icelandic":`\xA0`,"x-mac-inuit":`\xA0`,"x-mac-ce":`\xA0`,macintosh:`\xA0`,"x-mac-romanian":`\xA0`,"x-mac-turkish":`\xA0`},V=(F.MACSTRING=function(t,n,r,i){var a=B[i];if(a!==void 0){for(var o=``,s=0;s<r;s++){var c=t.getUint8(n+s);o+=c<=127?String.fromCharCode(c):a[127&c]}return o}},typeof WeakMap==`function`&&new WeakMap);function H(t){return-128<=t&&t<=127}I.MACSTRING=function(t,n){var r=function(t){if(!z)for(var n in z={},B)z[n]=new String(n);var r=z[t];if(r!==void 0){if(V){var i=V.get(r);if(i!==void 0)return i}var a=B[t];if(a!==void 0){for(var o={},s=0;s<a.length;s++)o[a.charCodeAt(s)]=s+128;return V&&V.set(r,o),o}}}(n);if(r!==void 0){for(var i=[],a=0;a<t.length;a++){var o=t.charCodeAt(a);if(128<=o&&(o=r[o])===void 0)return;i[a]=o}return i}},L.MACSTRING=function(t,n){return t=I.MACSTRING(t,n),t===void 0?0:t.length},I.VARDELTAS=function(t){for(var n=0,r=[];n<t.length;)var i=t[n],n=(i===0?function(t,n,r){for(var i=0,a=t.length;n<a&&i<64&&t[n]===0;)++n,++i;return r.push(128|i-1),n}:-128<=i&&i<=127?function(t,n,r){for(var i=0,a=t.length,o=n;o<a&&i<64;){var s=t[o];if(!H(s)||s===0&&o+1<a&&t[o+1]===0)break;++o,++i}r.push(i-1);for(var c=n;c<o;++c)r.push(t[c]+256&255);return o}:function(t,n,r){for(var i=0,a=t.length,o=n;o<a&&i<64;){var s=t[o];if(s===0||H(s)&&o+1<a&&H(t[o+1]))break;++o,++i}r.push(64|i-1);for(var c=n;c<o;++c){var l=t[c];r.push(l+65536>>8&255,l+256&255)}return o})(t,n,r);return r},I.INDEX=function(t){for(var n=1,r=[n],i=[],a=0;a<t.length;a+=1){var o=I.OBJECT(t[a]);Array.prototype.push.apply(i,o),n+=o.length,r.push(n)}if(i.length===0)return[0,0];for(var s=[],c=1+Math.floor(Math.log(n)/Math.log(2))/8|0,l=[void 0,I.BYTE,I.USHORT,I.UINT24,I.ULONG][c],u=0;u<r.length;u+=1){var d=l(r[u]);Array.prototype.push.apply(s,d)}return Array.prototype.concat(I.Card16(t.length),I.OffSize(c),s,i)},L.INDEX=function(t){return I.INDEX(t).length},I.DICT=function(t){for(var n=[],r=Object.keys(t),i=r.length,a=0;a<i;a+=1){var o=parseInt(r[a],0),s=t[o];n=(n=n.concat(I.OPERAND(s.value,s.type))).concat(I.OPERATOR(o))}return n},L.DICT=function(t){return I.DICT(t).length},I.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]},I.OPERAND=function(t,n){var r=[];if(Array.isArray(n))for(var i=0;i<n.length;i+=1)P.argument(t.length===n.length,`Not enough arguments given for type`+n),r=r.concat(I.OPERAND(t[i],n[i]));else if(n===`SID`)r=r.concat(I.NUMBER(t));else if(n===`offset`)r=r.concat(I.NUMBER32(t));else if(n===`number`)r=r.concat(I.NUMBER(t));else{if(n!==`real`)throw Error(`Unknown operand type `+n);r=r.concat(I.REAL(t))}return r},I.OP=I.BYTE,L.OP=L.BYTE;var U=typeof WeakMap==`function`&&new WeakMap;function W(t,n,r){for(var i=0;i<n.length;i+=1){var a=n[i];this[a.name]=a.value}if(this.tableName=t,this.fields=n,r)for(var o=Object.keys(r),s=0;s<o.length;s+=1){var c=o[s],l=r[c];this[c]!==void 0&&(this[c]=l)}}function ee(t,n,r){r===void 0&&(r=n.length);var i=Array(n.length+1);i[0]={name:t+`Count`,type:`USHORT`,value:r};for(var a=0;a<n.length;a++)i[a+1]={name:t+a,type:`USHORT`,value:n[a]};return i}function G(t,n,r){var i=n.length,a=Array(i+1);a[0]={name:t+`Count`,type:`USHORT`,value:i};for(var o=0;o<i;o++)a[o+1]={name:t+o,type:`TABLE`,value:r(n[o],o)};return a}function te(t,n,r){var i=n.length,a=[];a[0]={name:t+`Count`,type:`USHORT`,value:i};for(var o=0;o<i;o++)a=a.concat(r(n[o],o));return a}function ne(t){t.format===1?W.call(this,`coverageTable`,[{name:`coverageFormat`,type:`USHORT`,value:1}].concat(ee(`glyph`,t.glyphs))):P.assert(!1,`Can't create coverage table format 2 yet.`)}function re(t){W.call(this,`scriptListTable`,te(`scriptRecord`,t,function(t,n){var r=t.script,i=r.defaultLangSys;return P.assert(!!i,`Unable to write GSUB: script `+t.tag+` has no default language system.`),[{name:`scriptTag`+n,type:`TAG`,value:t.tag},{name:`script`+n,type:`TABLE`,value:new W(`scriptTable`,[{name:`defaultLangSys`,type:`TABLE`,value:new W(`defaultLangSys`,[{name:`lookupOrder`,type:`USHORT`,value:0},{name:`reqFeatureIndex`,type:`USHORT`,value:i.reqFeatureIndex}].concat(ee(`featureIndex`,i.featureIndexes)))}].concat(te(`langSys`,r.langSysRecords,function(t,n){var r=t.langSys;return[{name:`langSysTag`+n,type:`TAG`,value:t.tag},{name:`langSys`+n,type:`TABLE`,value:new W(`langSys`,[{name:`lookupOrder`,type:`USHORT`,value:0},{name:`reqFeatureIndex`,type:`USHORT`,value:r.reqFeatureIndex}].concat(ee(`featureIndex`,r.featureIndexes)))}]})))}]}))}function K(t){W.call(this,`featureListTable`,te(`featureRecord`,t,function(t,n){var r=t.feature;return[{name:`featureTag`+n,type:`TAG`,value:t.tag},{name:`feature`+n,type:`TABLE`,value:new W(`featureTable`,[{name:`featureParams`,type:`USHORT`,value:r.featureParams}].concat(ee(`lookupListIndex`,r.lookupListIndexes)))}]}))}function ie(t,n){W.call(this,`lookupListTable`,G(`lookup`,t,function(t){var r=n[t.lookupType];return P.assert(!!r,`Unable to write GSUB lookup type `+t.lookupType+` tables.`),new W(`lookupTable`,[{name:`lookupType`,type:`USHORT`,value:t.lookupType},{name:`lookupFlag`,type:`USHORT`,value:t.lookupFlag}].concat(G(`subtable`,t.subtables,r)))}))}I.CHARSTRING=function(t){if(U){var n=U.get(t);if(n!==void 0)return n}for(var r=[],i=t.length,a=0;a<i;a+=1)var o=t[a],r=r.concat(I[o.type](o.value));return U&&U.set(t,r),r},L.CHARSTRING=function(t){return I.CHARSTRING(t).length},I.OBJECT=function(t){var n=I[t.type];return P.argument(n!==void 0,`No encoding function for type `+t.type),n(t.value)},L.OBJECT=function(t){var n=L[t.type];return P.argument(n!==void 0,`No sizeOf function for type `+t.type),n(t.value)},I.TABLE=function(t){for(var n=[],r=t.fields.length,i=[],a=[],o=0;o<r;o+=1){var s=t.fields[o],c=I[s.type],l=(P.argument(c!==void 0,`No encoding function for field type `+s.type+` (`+s.name+`)`),t[s.name]),c=c(l=l===void 0?s.value:l);s.type===`TABLE`?(a.push(n.length),n=n.concat([0,0]),i.push(c)):n=n.concat(c)}for(var u=0;u<i.length;u+=1){var d=a[u],f=n.length;P.argument(f<65536,`Table `+t.tableName+` too big.`),n[d]=f>>8,n[d+1]=255&f,n=n.concat(i[u])}return n},L.TABLE=function(t){for(var n=0,r=t.fields.length,i=0;i<r;i+=1){var a=t.fields[i],o=L[a.type],s=(P.argument(o!==void 0,`No sizeOf function for field type `+a.type+` (`+a.name+`)`),t[a.name]);n+=o(s=s===void 0?a.value:s),a.type===`TABLE`&&(n+=2)}return n},I.RECORD=I.TABLE,L.RECORD=L.TABLE,I.LITERAL=function(t){return t},L.LITERAL=function(t){return t.length},W.prototype.encode=function(){return I.TABLE(this)},W.prototype.sizeOf=function(){return L.TABLE(this)};var q={Table:W,Record:W,Coverage:(ne.prototype=Object.create(W.prototype)).constructor=ne,ScriptList:(re.prototype=Object.create(W.prototype)).constructor=re,FeatureList:(K.prototype=Object.create(W.prototype)).constructor=K,LookupList:(ie.prototype=Object.create(W.prototype)).constructor=ie,ushortList:ee,tableList:G,recordList:te};function ae(t,n){return t.getUint8(n)}function oe(t,n){return t.getUint16(n,!1)}function se(t,n){return t.getUint32(n,!1)}function J(t,n){return t.getInt16(n,!1)+t.getUint16(n+2,!1)/65535}var ce={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Y(t,n){this.data=t,this.offset=n,this.relativeOffset=0}Y.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},Y.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},Y.prototype.parseCard8=Y.prototype.parseByte,Y.prototype.parseCard16=Y.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},Y.prototype.parseSID=Y.prototype.parseUShort,Y.prototype.parseOffset16=Y.prototype.parseUShort,Y.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},Y.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t},Y.prototype.parseOffset32=Y.prototype.parseULong=function(){var t=se(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},Y.prototype.parseFixed=function(){var t=J(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},Y.prototype.parseString=function(t){var n=this.data,r=this.offset+this.relativeOffset,i=``;this.relativeOffset+=t;for(var a=0;a<t;a++)i+=String.fromCharCode(n.getUint8(r+a));return i},Y.prototype.parseTag=function(){return this.parseString(4)},Y.prototype.parseLongDateTime=function(){var t=se(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t},Y.prototype.parseVersion=function(t){var n=oe(this.data,this.offset+this.relativeOffset),r=oe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,n+r/(t=t===void 0?4096:t)/10},Y.prototype.skip=function(t,n){this.relativeOffset+=ce[t]*(n=n===void 0?1:n)},Y.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var n=Array(t),r=this.data,i=this.offset+this.relativeOffset,a=0;a<t;a++)n[a]=r.getUint32(i),i+=4;return this.relativeOffset+=4*t,n},Y.prototype.parseOffset16List=Y.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var n=Array(t),r=this.data,i=this.offset+this.relativeOffset,a=0;a<t;a++)n[a]=r.getUint16(i),i+=2;return this.relativeOffset+=2*t,n},Y.prototype.parseShortList=function(t){for(var n=Array(t),r=this.data,i=this.offset+this.relativeOffset,a=0;a<t;a++)n[a]=r.getInt16(i),i+=2;return this.relativeOffset+=2*t,n},Y.prototype.parseByteList=function(t){for(var n=Array(t),r=this.data,i=this.offset+this.relativeOffset,a=0;a<t;a++)n[a]=r.getUint8(i++);return this.relativeOffset+=t,n},Y.prototype.parseList=function(t,n){n||(n=t,t=this.parseUShort());for(var r=Array(t),i=0;i<t;i++)r[i]=n.call(this);return r},Y.prototype.parseList32=function(t,n){n||(n=t,t=this.parseULong());for(var r=Array(t),i=0;i<t;i++)r[i]=n.call(this);return r},Y.prototype.parseRecordList=function(t,n){n||(n=t,t=this.parseUShort());for(var r=Array(t),i=Object.keys(n),a=0;a<t;a++){for(var o={},s=0;s<i.length;s++){var c=i[s];o[c]=n[c].call(this)}r[a]=o}return r},Y.prototype.parseRecordList32=function(t,n){n||(n=t,t=this.parseULong());for(var r=Array(t),i=Object.keys(n),a=0;a<t;a++){for(var o={},s=0;s<i.length;s++){var c=i[s];o[c]=n[c].call(this)}r[a]=o}return r},Y.prototype.parseStruct=function(t){if(typeof t==`function`)return t.call(this);for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var a=n[i];r[a]=t[a].call(this)}return r},Y.prototype.parseValueRecord=function(t){var n;if((t=t===void 0?this.parseUShort():t)!==0)return n={},1&t&&(n.xPlacement=this.parseShort()),2&t&&(n.yPlacement=this.parseShort()),4&t&&(n.xAdvance=this.parseShort()),8&t&&(n.yAdvance=this.parseShort()),16&t&&(n.xPlaDevice=void 0,this.parseShort()),32&t&&(n.yPlaDevice=void 0,this.parseShort()),64&t&&(n.xAdvDevice=void 0,this.parseShort()),128&t&&(n.yAdvDevice=void 0,this.parseShort()),n},Y.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),n=this.parseUShort(),r=Array(n),i=0;i<n;i++)r[i]=this.parseValueRecord(t);return r},Y.prototype.parsePointer=function(t){var n=this.parseOffset16();if(0<n)return new Y(this.data,this.offset+n).parseStruct(t)},Y.prototype.parsePointer32=function(t){var n=this.parseOffset32();if(0<n)return new Y(this.data,this.offset+n).parseStruct(t)},Y.prototype.parseListOfLists=function(t){for(var n=this.parseOffset16List(),r=n.length,i=this.relativeOffset,a=Array(r),o=0;o<r;o++){var s=n[o];if(s===0)a[o]=void 0;else if(this.relativeOffset=s,t){for(var c=this.parseOffset16List(),l=Array(c.length),u=0;u<c.length;u++)this.relativeOffset=s+c[u],l[u]=t.call(this);a[o]=l}else a[o]=this.parseUShortList()}return this.relativeOffset=i,a},Y.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort(),r=this.parseUShort();if(n===1)return{format:1,glyphs:this.parseUShortList(r)};if(n!==2)throw Error(`0x`+t.toString(16)+`: Coverage format must be 1 or 2.`);for(var i=Array(r),a=0;a<r;a++)i[a]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}},Y.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(n===2)return{format:2,ranges:this.parseRecordList({start:Y.uShort,end:Y.uShort,classId:Y.uShort})};throw Error(`0x`+t.toString(16)+`: ClassDef format must be 1 or 2.`)},Y.list=function(t,n){return function(){return this.parseList(t,n)}},Y.list32=function(t,n){return function(){return this.parseList32(t,n)}},Y.recordList=function(t,n){return function(){return this.parseRecordList(t,n)}},Y.recordList32=function(t,n){return function(){return this.parseRecordList32(t,n)}},Y.pointer=function(t){return function(){return this.parsePointer(t)}},Y.pointer32=function(t){return function(){return this.parsePointer32(t)}},Y.tag=Y.prototype.parseTag,Y.byte=Y.prototype.parseByte,Y.uShort=Y.offset16=Y.prototype.parseUShort,Y.uShortList=Y.prototype.parseUShortList,Y.uLong=Y.offset32=Y.prototype.parseULong,Y.uLongList=Y.prototype.parseULongList,Y.struct=Y.prototype.parseStruct,Y.coverage=Y.prototype.parseCoverage,Y.classDef=Y.prototype.parseClassDef;var le={reserved:Y.uShort,reqFeatureIndex:Y.uShort,featureIndexes:Y.uShortList},X=(Y.prototype.parseScriptList=function(){return this.parsePointer(Y.recordList({tag:Y.tag,script:Y.pointer({defaultLangSys:Y.pointer(le),langSysRecords:Y.recordList({tag:Y.tag,langSys:Y.pointer(le)})})}))||[]},Y.prototype.parseFeatureList=function(){return this.parsePointer(Y.recordList({tag:Y.tag,feature:Y.pointer({featureParams:Y.offset16,lookupListIndexes:Y.uShortList})}))||[]},Y.prototype.parseLookupList=function(t){return this.parsePointer(Y.list(Y.pointer(function(){var n=this.parseUShort(),r=(P.argument(1<=n&&n<=9,`GPOS/GSUB lookup type `+n+` unknown.`),this.parseUShort()),i=16&r;return{lookupType:n,lookupFlag:r,subtables:this.parseList(Y.pointer(t[n])),markFilteringSet:i?this.parseUShort():void 0}})))||[]},Y.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),n=this.parseUShort();return P.argument(t===1&&n<1,`GPOS/GSUB feature variations table unknown.`),this.parseRecordList32({conditionSetOffset:Y.offset32,featureTableSubstitutionOffset:Y.offset32})})||[]},{getByte:ae,getCard8:ae,getUShort:oe,getCard16:oe,getShort:function(t,n){return t.getInt16(n,!1)},getULong:se,getFixed:J,getTag:function(t,n){for(var r=``,i=n;i<n+4;i+=1)r+=String.fromCharCode(t.getInt8(i));return r},getOffset:function(t,n,r){for(var i=0,a=0;a<r;a+=1)i=(i<<=8)+t.getUint8(n+a);return i},getBytes:function(t,n,r){for(var i=[],a=n;a<r;a+=1)i.push(t.getUint8(a));return i},bytesToString:function(t){for(var n=``,r=0;r<t.length;r+=1)n+=String.fromCharCode(t[r]);return n},Parser:Y}),ue={parse:function(t,n){for(var r={},i=(r.version=X.getUShort(t,n),P.argument(r.version===0,`cmap table version should be 0.`),r.numTables=X.getUShort(t,n+2),-1),a=r.numTables-1;0<=a;--a){var o=X.getUShort(t,n+4+8*a),s=X.getUShort(t,n+4+8*a+2);if(o===3&&(s===0||s===1||s===10)||o===0&&(s===0||s===1||s===2||s===3||s===4)){i=X.getULong(t,n+4+8*a+4);break}}if(i===-1)throw Error(`No valid cmap sub-tables found.`);var c=new X.Parser(t,n+i);if(r.format=c.parseUShort(),r.format===12){var l,u=r,d=c;d.parseUShort(),u.length=d.parseULong(),u.language=d.parseULong(),u.groupCount=l=d.parseULong(),u.glyphIndexMap={};for(var f=0;f<l;f+=1)for(var p=d.parseULong(),m=d.parseULong(),h=d.parseULong(),g=p;g<=m;g+=1)u.glyphIndexMap[g]=h,h++}else{if(r.format!==4)throw Error(`Only format 4 and 12 cmap tables are supported (found format `+r.format+`).`);var _=r,v=t,y=n,b=i;_.length=c.parseUShort(),_.language=c.parseUShort(),_.segCount=x=c.parseUShort()>>1,c.skip(`uShort`,3),_.glyphIndexMap={};for(var x,S=new X.Parser(v,y+b+14),C=new X.Parser(v,y+b+16+2*x),w=new X.Parser(v,y+b+16+4*x),T=new X.Parser(v,y+b+16+6*x),E=y+b+16+8*x,D=0;D<x-1;D+=1)for(var O=void 0,k=S.parseUShort(),A=C.parseUShort(),j=w.parseShort(),M=T.parseUShort(),N=A;N<=k;N+=1)M===0?O=N+j&65535:(E=(E=T.offset+T.relativeOffset-2)+M+2*(N-A),(O=X.getUShort(v,E))!==0&&(O=O+j&65535)),_.glyphIndexMap[N]=O}return r},make:function(t){for(var n=!0,r=t.length-1;0<r;--r)if(65535<t.get(r).unicode){console.log(`Adding CMAP format 12 (needed!)`),n=!1;break}var i,a,o=[{name:`version`,type:`USHORT`,value:0},{name:`numTables`,type:`USHORT`,value:n?1:2},{name:`platformID`,type:`USHORT`,value:3},{name:`encodingID`,type:`USHORT`,value:1},{name:`offset`,type:`ULONG`,value:n?12:20}],s=(o=(o=n?o:o.concat([{name:`cmap12PlatformID`,type:`USHORT`,value:3},{name:`cmap12EncodingID`,type:`USHORT`,value:10},{name:`cmap12Offset`,type:`ULONG`,value:0}])).concat([{name:`format`,type:`USHORT`,value:4},{name:`cmap4Length`,type:`USHORT`,value:0},{name:`language`,type:`USHORT`,value:0},{name:`segCountX2`,type:`USHORT`,value:0},{name:`searchRange`,type:`USHORT`,value:0},{name:`entrySelector`,type:`USHORT`,value:0},{name:`rangeShift`,type:`USHORT`,value:0}]),new q.Table(`cmap`,o));for(s.segments=[],r=0;r<t.length;r+=1){for(var c=t.get(r),l=0;l<c.unicodes.length;l+=1)i=c.unicodes[l],a=r,s.segments.push({end:i,start:i,delta:-(i-a),offset:0,glyphIndex:a});s.segments=s.segments.sort(function(t,n){return t.start-n.start})}s.segments.push({end:65535,start:65535,delta:1,offset:0});var u=s.segments.length,d=0,f=[],p=[],m=[],h=[],g=[],_=[];for(r=0;r<u;r+=1){var v=s.segments[r];v.end<=65535&&v.start<=65535?(f=f.concat({name:`end_`+r,type:`USHORT`,value:v.end}),p=p.concat({name:`start_`+r,type:`USHORT`,value:v.start}),m=m.concat({name:`idDelta_`+r,type:`SHORT`,value:v.delta}),h=h.concat({name:`idRangeOffset_`+r,type:`USHORT`,value:v.offset}),v.glyphId!==void 0&&(g=g.concat({name:`glyph_`+r,type:`USHORT`,value:v.glyphId}))):d+=1,n||v.glyphIndex===void 0||(_=(_=(_=_.concat({name:`cmap12Start_`+r,type:`ULONG`,value:v.start})).concat({name:`cmap12End_`+r,type:`ULONG`,value:v.end})).concat({name:`cmap12Glyph_`+r,type:`ULONG`,value:v.glyphIndex}))}return s.segCountX2=2*(u-d),s.searchRange=2*2**Math.floor(Math.log(u-d)/Math.log(2)),s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(f),s.fields.push({name:`reservedPad`,type:`USHORT`,value:0}),s.fields=s.fields.concat(p),s.fields=s.fields.concat(m),s.fields=s.fields.concat(h),s.fields=s.fields.concat(g),s.cmap4Length=14+2*f.length+2+2*p.length+2*m.length+2*h.length+2*g.length,n||(o=16+4*_.length,s.cmap12Offset=20+s.cmap4Length,s.fields=s.fields.concat([{name:`cmap12Format`,type:`USHORT`,value:12},{name:`cmap12Reserved`,type:`USHORT`,value:0},{name:`cmap12Length`,type:`ULONG`,value:o},{name:`cmap12Language`,type:`ULONG`,value:0},{name:`cmap12nGroups`,type:`ULONG`,value:_.length/3}]),s.fields=s.fields.concat(_)),s}},de=`.notdef,space,exclam,quotedbl,numbersign,dollar,percent,ampersand,quoteright,parenleft,parenright,asterisk,plus,comma,hyphen,period,slash,zero,one,two,three,four,five,six,seven,eight,nine,colon,semicolon,less,equal,greater,question,at,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,bracketleft,backslash,bracketright,asciicircum,underscore,quoteleft,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,braceleft,bar,braceright,asciitilde,exclamdown,cent,sterling,fraction,yen,florin,section,currency,quotesingle,quotedblleft,guillemotleft,guilsinglleft,guilsinglright,fi,fl,endash,dagger,daggerdbl,periodcentered,paragraph,bullet,quotesinglbase,quotedblbase,quotedblright,guillemotright,ellipsis,perthousand,questiondown,grave,acute,circumflex,tilde,macron,breve,dotaccent,dieresis,ring,cedilla,hungarumlaut,ogonek,caron,emdash,AE,ordfeminine,Lslash,Oslash,OE,ordmasculine,ae,dotlessi,lslash,oslash,oe,germandbls,onesuperior,logicalnot,mu,trademark,Eth,onehalf,plusminus,Thorn,onequarter,divide,brokenbar,degree,thorn,threequarters,twosuperior,registered,minus,eth,multiply,threesuperior,copyright,Aacute,Acircumflex,Adieresis,Agrave,Aring,Atilde,Ccedilla,Eacute,Ecircumflex,Edieresis,Egrave,Iacute,Icircumflex,Idieresis,Igrave,Ntilde,Oacute,Ocircumflex,Odieresis,Ograve,Otilde,Scaron,Uacute,Ucircumflex,Udieresis,Ugrave,Yacute,Ydieresis,Zcaron,aacute,acircumflex,adieresis,agrave,aring,atilde,ccedilla,eacute,ecircumflex,edieresis,egrave,iacute,icircumflex,idieresis,igrave,ntilde,oacute,ocircumflex,odieresis,ograve,otilde,scaron,uacute,ucircumflex,udieresis,ugrave,yacute,ydieresis,zcaron,exclamsmall,Hungarumlautsmall,dollaroldstyle,dollarsuperior,ampersandsmall,Acutesmall,parenleftsuperior,parenrightsuperior,266 ff,onedotenleader,zerooldstyle,oneoldstyle,twooldstyle,threeoldstyle,fouroldstyle,fiveoldstyle,sixoldstyle,sevenoldstyle,eightoldstyle,nineoldstyle,commasuperior,threequartersemdash,periodsuperior,questionsmall,asuperior,bsuperior,centsuperior,dsuperior,esuperior,isuperior,lsuperior,msuperior,nsuperior,osuperior,rsuperior,ssuperior,tsuperior,ff,ffi,ffl,parenleftinferior,parenrightinferior,Circumflexsmall,hyphensuperior,Gravesmall,Asmall,Bsmall,Csmall,Dsmall,Esmall,Fsmall,Gsmall,Hsmall,Ismall,Jsmall,Ksmall,Lsmall,Msmall,Nsmall,Osmall,Psmall,Qsmall,Rsmall,Ssmall,Tsmall,Usmall,Vsmall,Wsmall,Xsmall,Ysmall,Zsmall,colonmonetary,onefitted,rupiah,Tildesmall,exclamdownsmall,centoldstyle,Lslashsmall,Scaronsmall,Zcaronsmall,Dieresissmall,Brevesmall,Caronsmall,Dotaccentsmall,Macronsmall,figuredash,hypheninferior,Ogoneksmall,Ringsmall,Cedillasmall,questiondownsmall,oneeighth,threeeighths,fiveeighths,seveneighths,onethird,twothirds,zerosuperior,foursuperior,fivesuperior,sixsuperior,sevensuperior,eightsuperior,ninesuperior,zeroinferior,oneinferior,twoinferior,threeinferior,fourinferior,fiveinferior,sixinferior,seveninferior,eightinferior,nineinferior,centinferior,dollarinferior,periodinferior,commainferior,Agravesmall,Aacutesmall,Acircumflexsmall,Atildesmall,Adieresissmall,Aringsmall,AEsmall,Ccedillasmall,Egravesmall,Eacutesmall,Ecircumflexsmall,Edieresissmall,Igravesmall,Iacutesmall,Icircumflexsmall,Idieresissmall,Ethsmall,Ntildesmall,Ogravesmall,Oacutesmall,Ocircumflexsmall,Otildesmall,Odieresissmall,OEsmall,Oslashsmall,Ugravesmall,Uacutesmall,Ucircumflexsmall,Udieresissmall,Yacutesmall,Thornsmall,Ydieresissmall,001.000,001.001,001.002,001.003,Black,Bold,Book,Light,Medium,Regular,Roman,Semibold`.split(`,`),Z=`................................space.exclam.quotedbl.numbersign.dollar.percent.ampersand.quoteright.parenleft.parenright.asterisk.plus.comma.hyphen.period.slash.zero.one.two.three.four.five.six.seven.eight.nine.colon.semicolon.less.equal.greater.question.at.A.B.C.D.E.F.G.H.I.J.K.L.M.N.O.P.Q.R.S.T.U.V.W.X.Y.Z.bracketleft.backslash.bracketright.asciicircum.underscore.quoteleft.a.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z.braceleft.bar.braceright.asciitilde...................................exclamdown.cent.sterling.fraction.yen.florin.section.currency.quotesingle.quotedblleft.guillemotleft.guilsinglleft.guilsinglright.fi.fl..endash.dagger.daggerdbl.periodcentered..paragraph.bullet.quotesinglbase.quotedblbase.quotedblright.guillemotright.ellipsis.perthousand..questiondown..grave.acute.circumflex.tilde.macron.breve.dotaccent.dieresis..ring.cedilla..hungarumlaut.ogonek.caron.emdash.................AE..ordfeminine.....Lslash.Oslash.OE.ordmasculine......ae....dotlessi...lslash.oslash.oe.germandbls`.split(`.`),fe=`................................space.exclamsmall.Hungarumlautsmall..dollaroldstyle.dollarsuperior.ampersandsmall.Acutesmall.parenleftsuperior.parenrightsuperior.twodotenleader.onedotenleader.comma.hyphen.period.fraction.zerooldstyle.oneoldstyle.twooldstyle.threeoldstyle.fouroldstyle.fiveoldstyle.sixoldstyle.sevenoldstyle.eightoldstyle.nineoldstyle.colon.semicolon.commasuperior.threequartersemdash.periodsuperior.questionsmall..asuperior.bsuperior.centsuperior.dsuperior.esuperior...isuperior...lsuperior.msuperior.nsuperior.osuperior...rsuperior.ssuperior.tsuperior..ff.fi.fl.ffi.ffl.parenleftinferior..parenrightinferior.Circumflexsmall.hyphensuperior.Gravesmall.Asmall.Bsmall.Csmall.Dsmall.Esmall.Fsmall.Gsmall.Hsmall.Ismall.Jsmall.Ksmall.Lsmall.Msmall.Nsmall.Osmall.Psmall.Qsmall.Rsmall.Ssmall.Tsmall.Usmall.Vsmall.Wsmall.Xsmall.Ysmall.Zsmall.colonmonetary.onefitted.rupiah.Tildesmall...................................exclamdownsmall.centoldstyle.Lslashsmall...Scaronsmall.Zcaronsmall.Dieresissmall.Brevesmall.Caronsmall..Dotaccentsmall...Macronsmall...figuredash.hypheninferior...Ogoneksmall.Ringsmall.Cedillasmall....onequarter.onehalf.threequarters.questiondownsmall.oneeighth.threeeighths.fiveeighths.seveneighths.onethird.twothirds...zerosuperior.onesuperior.twosuperior.threesuperior.foursuperior.fivesuperior.sixsuperior.sevensuperior.eightsuperior.ninesuperior.zeroinferior.oneinferior.twoinferior.threeinferior.fourinferior.fiveinferior.sixinferior.seveninferior.eightinferior.nineinferior.centinferior.dollarinferior.periodinferior.commainferior.Agravesmall.Aacutesmall.Acircumflexsmall.Atildesmall.Adieresissmall.Aringsmall.AEsmall.Ccedillasmall.Egravesmall.Eacutesmall.Ecircumflexsmall.Edieresissmall.Igravesmall.Iacutesmall.Icircumflexsmall.Idieresissmall.Ethsmall.Ntildesmall.Ogravesmall.Oacutesmall.Ocircumflexsmall.Otildesmall.Odieresissmall.OEsmall.Oslashsmall.Ugravesmall.Uacutesmall.Ucircumflexsmall.Udieresissmall.Yacutesmall.Thornsmall.Ydieresissmall`.split(`.`),pe=`.notdef,.null,nonmarkingreturn,space,exclam,quotedbl,numbersign,dollar,percent,ampersand,quotesingle,parenleft,parenright,asterisk,plus,comma,hyphen,period,slash,zero,one,two,three,four,five,six,seven,eight,nine,colon,semicolon,less,equal,greater,question,at,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,bracketleft,backslash,bracketright,asciicircum,underscore,grave,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,braceleft,bar,braceright,asciitilde,Adieresis,Aring,Ccedilla,Eacute,Ntilde,Odieresis,Udieresis,aacute,agrave,acircumflex,adieresis,atilde,aring,ccedilla,eacute,egrave,ecircumflex,edieresis,iacute,igrave,icircumflex,idieresis,ntilde,oacute,ograve,ocircumflex,odieresis,otilde,uacute,ugrave,ucircumflex,udieresis,dagger,degree,cent,sterling,section,bullet,paragraph,germandbls,registered,copyright,trademark,acute,dieresis,notequal,AE,Oslash,infinity,plusminus,lessequal,greaterequal,yen,mu,partialdiff,summation,product,pi,integral,ordfeminine,ordmasculine,Omega,ae,oslash,questiondown,exclamdown,logicalnot,radical,florin,approxequal,Delta,guillemotleft,guillemotright,ellipsis,nonbreakingspace,Agrave,Atilde,Otilde,OE,oe,endash,emdash,quotedblleft,quotedblright,quoteleft,quoteright,divide,lozenge,ydieresis,Ydieresis,fraction,currency,guilsinglleft,guilsinglright,fi,fl,daggerdbl,periodcentered,quotesinglbase,quotedblbase,perthousand,Acircumflex,Ecircumflex,Aacute,Edieresis,Egrave,Iacute,Icircumflex,Idieresis,Igrave,Oacute,Ocircumflex,apple,Ograve,Uacute,Ucircumflex,Ugrave,dotlessi,circumflex,tilde,macron,breve,dotaccent,ring,cedilla,hungarumlaut,ogonek,caron,Lslash,lslash,Scaron,scaron,Zcaron,zcaron,brokenbar,Eth,eth,Yacute,yacute,Thorn,thorn,minus,multiply,onesuperior,twosuperior,threesuperior,onehalf,onequarter,threequarters,franc,Gbreve,gbreve,Idotaccent,Scedilla,scedilla,Cacute,cacute,Ccaron,ccaron,dcroat`.split(`,`);function me(t){this.font=t}function he(t){this.cmap=t}function ge(t,n){this.encoding=t,this.charset=n}function _e(t){switch(t.version){case 1:this.names=pe.slice();break;case 2:this.names=Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)t.glyphNameIndex[n]<pe.length?this.names[n]=pe[t.glyphNameIndex[n]]:this.names[n]=t.names[t.glyphNameIndex[n]-pe.length];break;case 2.5:this.names=Array(t.numberOfGlyphs);for(var r=0;r<t.numberOfGlyphs;r++)this.names[r]=pe[r+t.glyphNameIndex[r]];break;default:this.names=[]}}me.prototype.charToGlyphIndex=function(t){var n=t.codePointAt(0),r=this.font.glyphs;if(r){for(var i=0;i<r.length;i+=1)for(var a=r.get(i),o=0;o<a.unicodes.length;o+=1)if(a.unicodes[o]===n)return i}return null},he.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0},ge.prototype.charToGlyphIndex=function(t){return t=t.codePointAt(0),t=this.encoding[t],this.charset.indexOf(t)},_e.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)},_e.prototype.glyphIndexToName=function(t){return this.names[t]};var ve={line:function(t,n,r,i,a){t.beginPath(),t.moveTo(n,r),t.lineTo(i,a),t.stroke()}};function ye(t){this.bindConstructorValues(t)}function be(t,n,r){Object.defineProperty(t,n,{get:function(){return t.path,t[r]},set:function(n){t[r]=n},enumerable:!0,configurable:!0})}function xe(t,n){if(this.font=t,this.glyphs={},Array.isArray(n))for(var r=0;r<n.length;r++)this.glyphs[r]=n[r];this.length=n&&n.length||0}ye.prototype.bindConstructorValues=function(t){var n;this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,`path`,(t=t.path,n=t||new j,{configurable:!0,get:function(){return n=typeof n==`function`?n():n},set:function(t){n=t}}))},ye.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)},ye.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ye.prototype.getPath=function(t,n,r,i,a){t=t===void 0?0:t,n=n===void 0?0:n,r=r===void 0?72:r;for(var o,s,c=(i||={}).xScale,l=i.yScale,u=((o=i.hinting&&a&&a.hinting?this.path&&a.hinting.exec(this,r):o)?(s=a.hinting.getCommands(o),t=Math.round(t),n=Math.round(n),c=l=1):(s=this.path.commands,i=1/this.path.unitsPerEm*r,c===void 0&&(c=i),l===void 0&&(l=i)),new j),d=0;d<s.length;d+=1){var f=s[d];f.type===`M`?u.moveTo(t+f.x*c,n+-f.y*l):f.type===`L`?u.lineTo(t+f.x*c,n+-f.y*l):f.type===`Q`?u.quadraticCurveTo(t+f.x1*c,n+-f.y1*l,t+f.x*c,n+-f.y*l):f.type===`C`?u.curveTo(t+f.x1*c,n+-f.y1*l,t+f.x2*c,n+-f.y2*l,t+f.x*c,n+-f.y*l):f.type===`Z`&&u.closePath()}return u},ye.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],n=[],r=0;r<this.points.length;r+=1){var i=this.points[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return P.argument(n.length===0,`There are still points left in the current contour.`),t},ye.prototype.getMetrics=function(){for(var t=this.path.commands,n=[],r=[],i=0;i<t.length;i+=1){var a=t[i];a.type!==`Z`&&(n.push(a.x),r.push(a.y)),a.type!==`Q`&&a.type!==`C`||(n.push(a.x1),r.push(a.y1)),a.type===`C`&&(n.push(a.x2),r.push(a.y2))}var o={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},ye.prototype.draw=function(t,n,r,i,a){this.getPath(n,r,i,a).draw(t)},ye.prototype.drawPoints=function(t,n,r,i){function a(n,r,i,a){var o=2*Math.PI;t.beginPath();for(var s=0;s<n.length;s+=1)t.moveTo(r+n[s].x*a,i+n[s].y*a),t.arc(r+n[s].x*a,i+n[s].y*a,2,0,o,!1);t.closePath(),t.fill()}n=n===void 0?0:n,r=r===void 0?0:r;for(var i=1/this.path.unitsPerEm*(i=i===void 0?24:i),o=[],s=[],c=this.path,l=0;l<c.commands.length;l+=1){var u=c.commands[l];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&s.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&s.push({x:u.x2,y:-u.y2})}t.fillStyle=`blue`,a(o,n,r,i),t.fillStyle=`red`,a(s,n,r,i)},ye.prototype.drawMetrics=function(t,n,r,i){n=n===void 0?0:n,r=r===void 0?0:r,i=1/this.path.unitsPerEm*(i=i===void 0?24:i),t.lineWidth=1,t.strokeStyle=`black`,ve.line(t,n,-1e4,n,1e4),ve.line(t,-1e4,r,1e4,r);var a=this.xMin||0,o=this.yMin||0,s=this.xMax||0,c=this.yMax||0,l=this.advanceWidth||0;t.strokeStyle=`blue`,ve.line(t,n+a*i,-1e4,n+a*i,1e4),ve.line(t,n+s*i,-1e4,n+s*i,1e4),ve.line(t,-1e4,r+-o*i,1e4,r+-o*i),ve.line(t,-1e4,r+-c*i,1e4,r+-c*i),t.strokeStyle=`green`,ve.line(t,n+l*i,-1e4,n+l*i,1e4)},xe.prototype.get=function(t){return typeof this.glyphs[t]==`function`&&(this.glyphs[t]=this.glyphs[t]()),this.glyphs[t]},xe.prototype.push=function(t,n){this.glyphs[t]=n,this.length++};var Se={GlyphSet:xe,glyphLoader:function(t,n){return new ye({index:n,font:t})},ttfGlyphLoader:function(t,n,r,i,a,o){return function(){var s=new ye({index:n,font:t});return s.path=function(){r(s,i,a);var n=o(t.glyphs,s);return n.unitsPerEm=t.unitsPerEm,n},be(s,`xMin`,`_xMin`),be(s,`xMax`,`_xMax`),be(s,`yMin`,`_yMin`),be(s,`yMax`,`_yMax`),s}},cffGlyphLoader:function(t,n,r,i){return function(){var a=new ye({index:n,font:t});return a.path=function(){var n=r(t,a,i);return n.unitsPerEm=t.unitsPerEm,n},a}}};function Ce(t){return t=t.length<1240?107:t.length<33900?1131:32768,t}function we(t,n,r){var i,a=[],o=[],s=X.getCard16(t,n);if(s!==0){for(var c=X.getByte(t,n+2),l=n+(s+1)*c+2,u=n+3,d=0;d<s+1;d+=1)a.push(X.getOffset(t,u,c)),u+=c;i=l+a[s]}else i=n+2;for(var f=0;f<a.length-1;f+=1){var p=X.getBytes(t,l+a[f],l+a[f+1]);r&&(p=r(p)),o.push(p)}return{objects:o,startOffset:n,endOffset:i}}function Te(t,n){if(n===28)return t.parseByte()<<8|t.parseByte();if(n===29)return t.parseByte()<<24|t.parseByte()<<16|t.parseByte()<<8|t.parseByte();if(n===30){for(var r=t,i=``,a=[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`.`,`E`,`E-`,null,`-`];;){var o=r.parseByte(),s=o>>4,o=15&o;if(s==15||(i+=a[s],o==15))break;i+=a[o]}return parseFloat(i)}if(32<=n&&n<=246)return n-139;if(247<=n&&n<=250)return 256*(n-247)+t.parseByte()+108;if(251<=n&&n<=254)return 256*-(n-251)-t.parseByte()-108;throw Error(`Invalid b0 `+n)}function Ee(t,n,r){var i=new X.Parser(t,n=n===void 0?0:n),a=[],o=[];for(r=r===void 0?t.length:r;i.relativeOffset<r;){var s=i.parseByte();s<=21?(s===12&&(s=1200+i.parseByte()),a.push([s,o]),o=[]):o.push(Te(i,s))}for(var c=a,l={},u=0;u<c.length;u+=1){var d=c[u][0],f=c[u][1],p=void 0,p=f.length===1?f[0]:f;if(l.hasOwnProperty(d)&&!isNaN(l[d]))throw Error(`Object `+l+` already has key `+d);l[d]=p}return l}function De(t,n){return n=n<=390?de[n]:t[n-391]}function Oe(t,n,r){for(var i,a={},o=0;o<n.length;o+=1){var s=n[o];if(Array.isArray(s.type)){var c=[];c.length=s.type.length;for(var l=0;l<s.type.length;l++)(i=t[s.op]===void 0?void 0:t[s.op][l])===void 0&&(i=s.value!==void 0&&s.value[l]!==void 0?s.value[l]:null),s.type[l]===`SID`&&(i=De(r,i)),c[l]=i;a[s.name]=c}else (i=t[s.op])===void 0&&(i=s.value===void 0?null:s.value),s.type===`SID`&&(i=De(r,i)),a[s.name]=i}return a}var ke=[{name:`version`,op:0,type:`SID`},{name:`notice`,op:1,type:`SID`},{name:`copyright`,op:1200,type:`SID`},{name:`fullName`,op:2,type:`SID`},{name:`familyName`,op:3,type:`SID`},{name:`weight`,op:4,type:`SID`},{name:`isFixedPitch`,op:1201,type:`number`,value:0},{name:`italicAngle`,op:1202,type:`number`,value:0},{name:`underlinePosition`,op:1203,type:`number`,value:-100},{name:`underlineThickness`,op:1204,type:`number`,value:50},{name:`paintType`,op:1205,type:`number`,value:0},{name:`charstringType`,op:1206,type:`number`,value:2},{name:`fontMatrix`,op:1207,type:[`real`,`real`,`real`,`real`,`real`,`real`],value:[.001,0,0,.001,0,0]},{name:`uniqueId`,op:13,type:`number`},{name:`fontBBox`,op:5,type:[`number`,`number`,`number`,`number`],value:[0,0,0,0]},{name:`strokeWidth`,op:1208,type:`number`,value:0},{name:`xuid`,op:14,type:[],value:null},{name:`charset`,op:15,type:`offset`,value:0},{name:`encoding`,op:16,type:`offset`,value:0},{name:`charStrings`,op:17,type:`offset`,value:0},{name:`private`,op:18,type:[`number`,`offset`],value:[0,0]},{name:`ros`,op:1230,type:[`SID`,`SID`,`number`]},{name:`cidFontVersion`,op:1231,type:`number`,value:0},{name:`cidFontRevision`,op:1232,type:`number`,value:0},{name:`cidFontType`,op:1233,type:`number`,value:0},{name:`cidCount`,op:1234,type:`number`,value:8720},{name:`uidBase`,op:1235,type:`number`},{name:`fdArray`,op:1236,type:`offset`},{name:`fdSelect`,op:1237,type:`offset`},{name:`fontName`,op:1238,type:`SID`}],Ae=[{name:`subrs`,op:19,type:`offset`,value:0},{name:`defaultWidthX`,op:20,type:`number`,value:0},{name:`nominalWidthX`,op:21,type:`number`,value:0}];function je(t,n,r,i){return Oe(Ee(t,n,r),Ae,i)}function Me(t,n,r,i){for(var a=[],o=0;o<r.length;o+=1){var s=new DataView(new Uint8Array(r[o]).buffer),s=(c=i,Oe(Ee(s,0,s.byteLength),ke,c)),c=(s._subrs=[],s._subrsBias=0,s.private[0]),l=s.private[1];c!==0&&l!==0&&(c=je(t,l+n,c,i),s._defaultWidthX=c.defaultWidthX,s._nominalWidthX=c.nominalWidthX,c.subrs!==0&&(l=we(t,l+c.subrs+n),s._subrs=l.objects,s._subrsBias=Ce(s._subrs)),s._privateDict=c),a.push(s)}return a}function Ne(t,n,r){var i,a,o,s,c,l,u,d,f,p=new j,m=[],h=0,g=!1,_=!1,v=0,y=0,b=(f=(t.isCIDFont?(c=t.tables.cff.topDict._fdSelect[n.index],c=t.tables.cff.topDict._fdArray[c],l=c._subrs,u=c._subrsBias,d=c._defaultWidthX,c):(l=t.tables.cff.topDict._subrs,u=t.tables.cff.topDict._subrsBias,d=t.tables.cff.topDict._defaultWidthX,t.tables.cff.topDict))._nominalWidthX,d);function x(t,n){_&&p.closePath(),p.moveTo(t,n),_=!0}function S(){m.length%2==0||g||(b=m.shift()+f),h+=m.length>>1,m.length=0,g=!0}return function r(c){for(var d,C,w,T,E,D,O,k,A,j,M,N,P=0;P<c.length;){var F=c[P];switch(P+=1,F){case 1:case 3:S();break;case 4:1<m.length&&!g&&(b=m.shift()+f,g=!0),y+=m.pop(),x(v,y);break;case 5:for(;0<m.length;)v+=m.shift(),y+=m.shift(),p.lineTo(v,y);break;case 6:for(;0<m.length&&(v+=m.shift(),p.lineTo(v,y),m.length!==0);)y+=m.shift(),p.lineTo(v,y);break;case 7:for(;0<m.length&&(y+=m.shift(),p.lineTo(v,y),m.length!==0);)v+=m.shift(),p.lineTo(v,y);break;case 8:for(;0<m.length;)i=v+m.shift(),a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),v=o+m.shift(),y=s+m.shift(),p.curveTo(i,a,o,s,v,y);break;case 10:E=m.pop()+u,(D=l[E])&&r(D);break;case 11:return;case 12:switch(F=c[P],P+=1,F){case 35:i=v+m.shift(),a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),O=o+m.shift(),k=s+m.shift(),A=O+m.shift(),j=k+m.shift(),M=A+m.shift(),N=j+m.shift(),v=M+m.shift(),y=N+m.shift(),m.shift(),p.curveTo(i,a,o,s,O,k),p.curveTo(A,j,M,N,v,y);break;case 34:i=v+m.shift(),a=y,o=i+m.shift(),s=a+m.shift(),O=o+m.shift(),k=s,A=O+m.shift(),j=s,M=A+m.shift(),N=y,v=M+m.shift(),p.curveTo(i,a,o,s,O,k),p.curveTo(A,j,M,N,v,y);break;case 36:i=v+m.shift(),a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),O=o+m.shift(),k=s,A=O+m.shift(),j=s,M=A+m.shift(),N=j+m.shift(),v=M+m.shift(),p.curveTo(i,a,o,s,O,k),p.curveTo(A,j,M,N,v,y);break;case 37:i=v+m.shift(),a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),O=o+m.shift(),k=s+m.shift(),A=O+m.shift(),j=k+m.shift(),M=A+m.shift(),N=j+m.shift(),Math.abs(M-v)>Math.abs(N-y)?v=M+m.shift():y=N+m.shift(),p.curveTo(i,a,o,s,O,k),p.curveTo(A,j,M,N,v,y);break;default:console.log(`Glyph `+n.index+`: unknown operator 1200`+F),m.length=0}break;case 14:0<m.length&&!g&&(b=m.shift()+f,g=!0),_&&=(p.closePath(),!1);break;case 18:S();break;case 19:case 20:S(),P+=h+7>>3;break;case 21:2<m.length&&!g&&(b=m.shift()+f,g=!0),y+=m.pop(),x(v+=m.pop(),y);break;case 22:1<m.length&&!g&&(b=m.shift()+f,g=!0),x(v+=m.pop(),y);break;case 23:S();break;case 24:for(;2<m.length;)i=v+m.shift(),a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),v=o+m.shift(),y=s+m.shift(),p.curveTo(i,a,o,s,v,y);v+=m.shift(),y+=m.shift(),p.lineTo(v,y);break;case 25:for(;6<m.length;)v+=m.shift(),y+=m.shift(),p.lineTo(v,y);i=v+m.shift(),a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),v=o+m.shift(),y=s+m.shift(),p.curveTo(i,a,o,s,v,y);break;case 26:for(m.length%2&&(v+=m.shift());0<m.length;)i=v,a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),v=o,y=s+m.shift(),p.curveTo(i,a,o,s,v,y);break;case 27:for(m.length%2&&(y+=m.shift());0<m.length;)i=v+m.shift(),a=y,o=i+m.shift(),s=a+m.shift(),v=o+m.shift(),y=s,p.curveTo(i,a,o,s,v,y);break;case 28:d=c[P],C=c[P+1],m.push((d<<24|C<<16)>>16),P+=2;break;case 29:E=m.pop()+t.gsubrsBias,(D=t.gsubrs[E])&&r(D);break;case 30:for(;0<m.length&&(i=v,a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),v=o+m.shift(),y=s+(m.length===1?m.shift():0),p.curveTo(i,a,o,s,v,y),m.length!==0);)i=v+m.shift(),a=y,o=i+m.shift(),s=a+m.shift(),y=s+m.shift(),v=o+(m.length===1?m.shift():0),p.curveTo(i,a,o,s,v,y);break;case 31:for(;0<m.length&&(i=v+m.shift(),a=y,o=i+m.shift(),s=a+m.shift(),y=s+m.shift(),v=o+(m.length===1?m.shift():0),p.curveTo(i,a,o,s,v,y),m.length!==0);)i=v,a=y+m.shift(),o=i+m.shift(),s=a+m.shift(),v=o+m.shift(),y=s+(m.length===1?m.shift():0),p.curveTo(i,a,o,s,v,y);break;default:F<32?console.log(`Glyph `+n.index+`: unknown operator `+F):F<247?m.push(F-139):F<251?(d=c[P],P+=1,m.push(256*(F-247)+d+108)):F<255?(d=c[P],P+=1,m.push(256*-(F-251)-d-108)):(d=c[P],C=c[P+1],w=c[P+2],T=c[P+3],P+=4,m.push((d<<24|C<<16|w<<8|T)/65536))}}}(r),n.advanceWidth=b,p}function Pe(t,n){var r,i=de.indexOf(t);return 0<=i&&(r=i),0<=(i=n.indexOf(t))?r=i+de.length:(r=de.length+n.length,n.push(t)),r}function Fe(t,n,r){for(var i={},a=0;a<t.length;a+=1){var o=t[a],s=n[o.name];s===void 0||function t(n,r){if(n===r)return 1;if(Array.isArray(n)&&Array.isArray(r)&&n.length===r.length){for(var i=0;i<n.length;i+=1)if(!t(n[i],r[i]))return;return 1}}(s,o.value)||(o.type===`SID`&&(s=Pe(s,r)),i[o.op]={name:o.name,type:o.type,value:s})}return i}function Ie(t,n){var r=new q.Record(`Top DICT`,[{name:`dict`,type:`DICT`,value:{}}]);return r.dict=Fe(ke,t,n),r}function Le(t){var n=new q.Record(`Top DICT INDEX`,[{name:`topDicts`,type:`INDEX`,value:[]}]);return n.topDicts=[{name:`topDict_0`,type:`TABLE`,value:t}],n}function Re(t){for(var n=new q.Record(`CharStrings INDEX`,[{name:`charStrings`,type:`INDEX`,value:[]}]),r=0;r<t.length;r+=1){var i=t.get(r),a=function(t){for(var n=[],r=t.path,i=(n.push({name:`width`,type:`NUMBER`,value:t.advanceWidth}),0),a=0,o=0;o<r.commands.length;o+=1){var s,c,l,u,d=void 0,f=void 0,p=r.commands[o];(p=p.type===`Q`?{type:`C`,x:p.x,y:p.y,x1:1/3*i+2/3*p.x1,y1:1/3*a+2/3*p.y1,x2:1/3*p.x+2/3*p.x1,y2:1/3*p.y+2/3*p.y1}:p).type===`M`?(d=Math.round(p.x-i),f=Math.round(p.y-a),n.push({name:`dx`,type:`NUMBER`,value:d}),n.push({name:`dy`,type:`NUMBER`,value:f}),n.push({name:`rmoveto`,type:`OP`,value:21}),i=Math.round(p.x),a=Math.round(p.y)):p.type===`L`?(d=Math.round(p.x-i),f=Math.round(p.y-a),n.push({name:`dx`,type:`NUMBER`,value:d}),n.push({name:`dy`,type:`NUMBER`,value:f}),n.push({name:`rlineto`,type:`OP`,value:5}),i=Math.round(p.x),a=Math.round(p.y)):p.type===`C`&&(s=Math.round(p.x1-i),c=Math.round(p.y1-a),l=Math.round(p.x2-p.x1),u=Math.round(p.y2-p.y1),d=Math.round(p.x-p.x2),f=Math.round(p.y-p.y2),n.push({name:`dx1`,type:`NUMBER`,value:s}),n.push({name:`dy1`,type:`NUMBER`,value:c}),n.push({name:`dx2`,type:`NUMBER`,value:l}),n.push({name:`dy2`,type:`NUMBER`,value:u}),n.push({name:`dx`,type:`NUMBER`,value:d}),n.push({name:`dy`,type:`NUMBER`,value:f}),n.push({name:`rrcurveto`,type:`OP`,value:8}),i=Math.round(p.x),a=Math.round(p.y))}return n.push({name:`endchar`,type:`OP`,value:14}),n}(i);n.charStrings.push({name:i.name,type:`CHARSTRING`,value:a})}return n}var ze={parse:function(t,n,r){r.tables.cff={},i=t,a=n,(o={}).formatMajor=X.getCard8(i,a),o.formatMinor=X.getCard8(i,a+1),o.size=X.getCard8(i,a+2),o.offsetSize=X.getCard8(i,a+3),o.startOffset=a,o.endOffset=a+4;var i=we(t,o.endOffset,X.bytesToString),a=we(t,i.endOffset),o=we(t,a.endOffset,X.bytesToString),i=we(t,o.endOffset);if(r.gsubrs=i.objects,r.gsubrsBias=Ce(r.gsubrs),(i=Me(t,n,a.objects,o.objects)).length!==1)throw Error(`CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = `+i.length);if(a=i[0],(r.tables.cff.topDict=a)._privateDict&&(r.defaultWidthX=a._privateDict.defaultWidthX,r.nominalWidthX=a._privateDict.nominalWidthX),a.ros[0]!==void 0&&a.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var i=a.fdArray,s=a.fdSelect;if(i===0||s===0)throw Error(`Font is marked as a CID font, but FDArray and/or FDSelect information is missing`);i=Me(t,n,we(t,i+=n).objects,o.objects),a._fdArray=i,a._fdSelect=function(t,n,r,i){var a,o=[],s=new X.Parser(t,n);if((t=s.parseCard8())===0)for(var c=0;c<r;c++){if(i<=(a=s.parseCard8()))throw Error(`CFF table CID Font FDSelect has bad FD index value `+a+` (FD count `+i+`)`);o.push(a)}else{if(t!==3)throw Error(`CFF Table CID Font FDSelect table has unsupported format `+t);var l,u=s.parseCard16(),d=s.parseCard16();if(d!==0)throw Error(`CFF Table CID Font FDSelect format 3 range has bad initial GID `+d);for(var f=0;f<u;f++){if(a=s.parseCard8(),l=s.parseCard16(),i<=a)throw Error(`CFF table CID Font FDSelect has bad FD index value `+a+` (FD count `+i+`)`);if(r<l)throw Error(`CFF Table CID Font FDSelect format 3 range has bad GID `+l);for(;d<l;d++)o.push(a);d=l}if(l!==r)throw Error(`CFF Table CID Font FDSelect format 3 range has bad final GID `+l)}return o}(t,s+=n,r.numGlyphs,i.length)}var s=n+a.private[1],i=je(t,s,a.private[0],o.objects),c=(r.defaultWidthX=i.defaultWidthX,r.nominalWidthX=i.nominalWidthX,i.subrs===0?(r.subrs=[],r.subrsBias=0):(s=we(t,s+i.subrs),r.subrs=s.objects,r.subrsBias=Ce(r.subrs)),we(t,n+a.charStrings)),i=(r.nGlyphs=c.objects.length,function(t,n,r,i){var a=new X.Parser(t,n),o=(--r,[`.notdef`]);if((t=a.parseCard8())===0)for(var s=0;s<r;s+=1)c=a.parseSID(),o.push(De(i,c));else if(t===1)for(;o.length<=r;)for(var c=a.parseSID(),l=a.parseCard8(),u=0;u<=l;u+=1)o.push(De(i,c)),c+=1;else{if(t!==2)throw Error(`Unknown charset format `+t);for(;o.length<=r;){c=a.parseSID(),l=a.parseCard16();for(var d=0;d<=l;d+=1)o.push(De(i,c)),c+=1}}return o}(t,n+a.charset,r.nGlyphs,o.objects));a.encoding===0?r.cffEncoding=new ge(Z,i):a.encoding===1?r.cffEncoding=new ge(fe,i):r.cffEncoding=function(t,n,r){var i={},a=new X.Parser(t,n);if((t=a.parseCard8())===0)for(var o=a.parseCard8(),s=0;s<o;s+=1)i[l=a.parseCard8()]=s;else{if(t!==1)throw Error(`Unknown encoding format `+t);for(var c=a.parseCard8(),l=1,u=0;u<c;u+=1)for(var d=a.parseCard8(),f=a.parseCard8(),p=d;p<=d+f;p+=1)i[p]=l,l+=1}return new ge(i,r)}(t,n+a.encoding,i),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new Se.GlyphSet(r);for(var l=0;l<r.nGlyphs;l+=1){var u=c.objects[l];r.glyphs.push(l,Se.cffGlyphLoader(r,l,Ne,u))}},make:function(t,n){for(var r,i=new q.Table(`CFF `,[{name:`header`,type:`RECORD`},{name:`nameIndex`,type:`RECORD`},{name:`topDictIndex`,type:`RECORD`},{name:`stringIndex`,type:`RECORD`},{name:`globalSubrIndex`,type:`RECORD`},{name:`charsets`,type:`RECORD`},{name:`charStringsIndex`,type:`RECORD`},{name:`privateDict`,type:`RECORD`}]),a=1/n.unitsPerEm,a={version:n.version,fullName:n.fullName,familyName:n.familyName,weight:n.weightName,fontBBox:n.fontBBox||[0,0,0,0],fontMatrix:[a,0,0,a,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],s=1;s<t.length;s+=1)r=t.get(s),o.push(r.name);var c,l,u=[],n=(i.header=new q.Record(`Header`,[{name:`major`,type:`Card8`,value:1},{name:`minor`,type:`Card8`,value:0},{name:`hdrSize`,type:`Card8`,value:4},{name:`major`,type:`Card8`,value:1}]),i.nameIndex=function(t){var n=new q.Record(`Name INDEX`,[{name:`names`,type:`INDEX`,value:[]}]);n.names=[];for(var r=0;r<t.length;r+=1)n.names.push({name:`name_`+r,type:`NAME`,value:t[r]});return n}([n.postScriptName]),Ie(a,u)),d=(i.topDictIndex=Le(n),i.globalSubrIndex=new q.Record(`Global Subr INDEX`,[{name:`subrs`,type:`INDEX`,value:[]}]),i.charsets=function(t,n){for(var r=new q.Record(`Charsets`,[{name:`format`,type:`Card8`,value:0}]),i=0;i<t.length;i+=1){var a=Pe(t[i],n);r.fields.push({name:`glyph_`+i,type:`SID`,value:a})}return r}(o,u),i.charStringsIndex=Re(t),i.privateDict=(d={},c=u,(l=new q.Record(`Private DICT`,[{name:`dict`,type:`DICT`,value:{}}])).dict=Fe(Ae,d,c),l),i.stringIndex=function(t){var n=new q.Record(`String INDEX`,[{name:`strings`,type:`INDEX`,value:[]}]);n.strings=[];for(var r=0;r<t.length;r+=1)n.strings.push({name:`string_`+r,type:`STRING`,value:t[r]});return n}(u),i.header.sizeOf()+i.nameIndex.sizeOf()+i.topDictIndex.sizeOf()+i.stringIndex.sizeOf()+i.globalSubrIndex.sizeOf());return a.charset=d,a.encoding=0,a.charStrings=a.charset+i.charsets.sizeOf(),a.private[1]=a.charStrings+i.charStringsIndex.sizeOf(),n=Ie(a,u),i.topDictIndex=Le(n),i}},Be={parse:function(t,n){var r={},t=new X.Parser(t,n);return r.version=t.parseVersion(),r.fontRevision=Math.round(1e3*t.parseFixed())/1e3,r.checkSumAdjustment=t.parseULong(),r.magicNumber=t.parseULong(),P.argument(r.magicNumber===1594834165,`Font header has wrong magic number.`),r.flags=t.parseUShort(),r.unitsPerEm=t.parseUShort(),r.created=t.parseLongDateTime(),r.modified=t.parseLongDateTime(),r.xMin=t.parseShort(),r.yMin=t.parseShort(),r.xMax=t.parseShort(),r.yMax=t.parseShort(),r.macStyle=t.parseUShort(),r.lowestRecPPEM=t.parseUShort(),r.fontDirectionHint=t.parseShort(),r.indexToLocFormat=t.parseShort(),r.glyphDataFormat=t.parseShort(),r},make:function(t){var n=Math.round(new Date().getTime()/1e3)+2082844800,r=n;return t.createdTimestamp&&(r=t.createdTimestamp+2082844800),new q.Table(`head`,[{name:`version`,type:`FIXED`,value:65536},{name:`fontRevision`,type:`FIXED`,value:65536},{name:`checkSumAdjustment`,type:`ULONG`,value:0},{name:`magicNumber`,type:`ULONG`,value:1594834165},{name:`flags`,type:`USHORT`,value:0},{name:`unitsPerEm`,type:`USHORT`,value:1e3},{name:`created`,type:`LONGDATETIME`,value:r},{name:`modified`,type:`LONGDATETIME`,value:n},{name:`xMin`,type:`SHORT`,value:0},{name:`yMin`,type:`SHORT`,value:0},{name:`xMax`,type:`SHORT`,value:0},{name:`yMax`,type:`SHORT`,value:0},{name:`macStyle`,type:`USHORT`,value:0},{name:`lowestRecPPEM`,type:`USHORT`,value:0},{name:`fontDirectionHint`,type:`SHORT`,value:2},{name:`indexToLocFormat`,type:`SHORT`,value:0},{name:`glyphDataFormat`,type:`SHORT`,value:0}],t)}},Ve={parse:function(t,n){var r={},t=new X.Parser(t,n);return r.version=t.parseVersion(),r.ascender=t.parseShort(),r.descender=t.parseShort(),r.lineGap=t.parseShort(),r.advanceWidthMax=t.parseUShort(),r.minLeftSideBearing=t.parseShort(),r.minRightSideBearing=t.parseShort(),r.xMaxExtent=t.parseShort(),r.caretSlopeRise=t.parseShort(),r.caretSlopeRun=t.parseShort(),r.caretOffset=t.parseShort(),t.relativeOffset+=8,r.metricDataFormat=t.parseShort(),r.numberOfHMetrics=t.parseUShort(),r},make:function(t){return new q.Table(`hhea`,[{name:`version`,type:`FIXED`,value:65536},{name:`ascender`,type:`FWORD`,value:0},{name:`descender`,type:`FWORD`,value:0},{name:`lineGap`,type:`FWORD`,value:0},{name:`advanceWidthMax`,type:`UFWORD`,value:0},{name:`minLeftSideBearing`,type:`FWORD`,value:0},{name:`minRightSideBearing`,type:`FWORD`,value:0},{name:`xMaxExtent`,type:`FWORD`,value:0},{name:`caretSlopeRise`,type:`SHORT`,value:1},{name:`caretSlopeRun`,type:`SHORT`,value:0},{name:`caretOffset`,type:`SHORT`,value:0},{name:`reserved1`,type:`SHORT`,value:0},{name:`reserved2`,type:`SHORT`,value:0},{name:`reserved3`,type:`SHORT`,value:0},{name:`reserved4`,type:`SHORT`,value:0},{name:`metricDataFormat`,type:`SHORT`,value:0},{name:`numberOfHMetrics`,type:`USHORT`,value:0}],t)}},He={parse:function(t,n,r,i,a){for(var o,s,c=new X.Parser(t,n),l=0;l<i;l+=1){l<r&&(o=c.parseUShort(),s=c.parseShort());var u=a.get(l);u.advanceWidth=o,u.leftSideBearing=s}},make:function(t){for(var n=new q.Table(`hmtx`,[]),r=0;r<t.length;r+=1){var i=t.get(r),a=i.advanceWidth||0,i=i.leftSideBearing||0;n.fields.push({name:`advanceWidth_`+r,type:`USHORT`,value:a}),n.fields.push({name:`leftSideBearing_`+r,type:`SHORT`,value:i})}return n}},Ue={make:function(t){for(var n=new q.Table(`ltag`,[{name:`version`,type:`ULONG`,value:1},{name:`flags`,type:`ULONG`,value:0},{name:`numTags`,type:`ULONG`,value:t.length}]),r=``,i=12+4*t.length,a=0;a<t.length;++a){var o=r.indexOf(t[a]);o<0&&(o=r.length,r+=t[a]),n.fields.push({name:`offset `+a,type:`USHORT`,value:i+o}),n.fields.push({name:`length `+a,type:`USHORT`,value:t[a].length})}return n.fields.push({name:`stringPool`,type:`CHARARRAY`,value:r}),n},parse:function(t,n){for(var r=new X.Parser(t,n),i=r.parseULong(),a=(P.argument(i===1,`Unsupported ltag table version.`),r.skip(`uLong`,1),r.parseULong()),o=[],s=0;s<a;s++){for(var c=``,l=n+r.parseUShort(),u=r.parseUShort(),d=l;d<l+u;++d)c+=String.fromCharCode(t.getInt8(d));o.push(c)}return o}},We={parse:function(t,n){var r={},t=new X.Parser(t,n);return r.version=t.parseVersion(),r.numGlyphs=t.parseUShort(),r.version===1&&(r.maxPoints=t.parseUShort(),r.maxContours=t.parseUShort(),r.maxCompositePoints=t.parseUShort(),r.maxCompositeContours=t.parseUShort(),r.maxZones=t.parseUShort(),r.maxTwilightPoints=t.parseUShort(),r.maxStorage=t.parseUShort(),r.maxFunctionDefs=t.parseUShort(),r.maxInstructionDefs=t.parseUShort(),r.maxStackElements=t.parseUShort(),r.maxSizeOfInstructions=t.parseUShort(),r.maxComponentElements=t.parseUShort(),r.maxComponentDepth=t.parseUShort()),r},make:function(t){return new q.Table(`maxp`,[{name:`version`,type:`FIXED`,value:20480},{name:`numGlyphs`,type:`USHORT`,value:t}])}},Ge=[`copyright`,`fontFamily`,`fontSubfamily`,`uniqueID`,`fullName`,`version`,`postScriptName`,`trademark`,`manufacturer`,`designer`,`description`,`manufacturerURL`,`designerURL`,`license`,`licenseURL`,`reserved`,`preferredFamily`,`preferredSubfamily`,`compatibleFullName`,`sampleText`,`postScriptFindFontName`,`wwsFamily`,`wwsSubfamily`],Ke={0:`en`,1:`fr`,2:`de`,3:`it`,4:`nl`,5:`sv`,6:`es`,7:`da`,8:`pt`,9:`no`,10:`he`,11:`ja`,12:`ar`,13:`fi`,14:`el`,15:`is`,16:`mt`,17:`tr`,18:`hr`,19:`zh-Hant`,20:`ur`,21:`hi`,22:`th`,23:`ko`,24:`lt`,25:`pl`,26:`hu`,27:`es`,28:`lv`,29:`se`,30:`fo`,31:`fa`,32:`ru`,33:`zh`,34:`nl-BE`,35:`ga`,36:`sq`,37:`ro`,38:`cz`,39:`sk`,40:`si`,41:`yi`,42:`sr`,43:`mk`,44:`bg`,45:`uk`,46:`be`,47:`uz`,48:`kk`,49:`az-Cyrl`,50:`az-Arab`,51:`hy`,52:`ka`,53:`mo`,54:`ky`,55:`tg`,56:`tk`,57:`mn-CN`,58:`mn`,59:`ps`,60:`ks`,61:`ku`,62:`sd`,63:`bo`,64:`ne`,65:`sa`,66:`mr`,67:`bn`,68:`as`,69:`gu`,70:`pa`,71:`or`,72:`ml`,73:`kn`,74:`ta`,75:`te`,76:`si`,77:`my`,78:`km`,79:`lo`,80:`vi`,81:`id`,82:`tl`,83:`ms`,84:`ms-Arab`,85:`am`,86:`ti`,87:`om`,88:`so`,89:`sw`,90:`rw`,91:`rn`,92:`ny`,93:`mg`,94:`eo`,128:`cy`,129:`eu`,130:`ca`,131:`la`,132:`qu`,133:`gn`,134:`ay`,135:`tt`,136:`ug`,137:`dz`,138:`jv`,139:`su`,140:`gl`,141:`af`,142:`br`,143:`iu`,144:`gd`,145:`gv`,146:`ga`,147:`to`,148:`el-polyton`,149:`kl`,150:`az`,151:`nn`},qe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Je={1078:`af`,1052:`sq`,1156:`gsw`,1118:`am`,5121:`ar-DZ`,15361:`ar-BH`,3073:`ar`,2049:`ar-IQ`,11265:`ar-JO`,13313:`ar-KW`,12289:`ar-LB`,4097:`ar-LY`,6145:`ary`,8193:`ar-OM`,16385:`ar-QA`,1025:`ar-SA`,10241:`ar-SY`,7169:`aeb`,14337:`ar-AE`,9217:`ar-YE`,1067:`hy`,1101:`as`,2092:`az-Cyrl`,1068:`az`,1133:`ba`,1069:`eu`,1059:`be`,2117:`bn`,1093:`bn-IN`,8218:`bs-Cyrl`,5146:`bs`,1150:`br`,1026:`bg`,1027:`ca`,3076:`zh-HK`,5124:`zh-MO`,2052:`zh`,4100:`zh-SG`,1028:`zh-TW`,1155:`co`,1050:`hr`,4122:`hr-BA`,1029:`cs`,1030:`da`,1164:`prs`,1125:`dv`,2067:`nl-BE`,1043:`nl`,3081:`en-AU`,10249:`en-BZ`,4105:`en-CA`,9225:`en-029`,16393:`en-IN`,6153:`en-IE`,8201:`en-JM`,17417:`en-MY`,5129:`en-NZ`,13321:`en-PH`,18441:`en-SG`,7177:`en-ZA`,11273:`en-TT`,2057:`en-GB`,1033:`en`,12297:`en-ZW`,1061:`et`,1080:`fo`,1124:`fil`,1035:`fi`,2060:`fr-BE`,3084:`fr-CA`,1036:`fr`,5132:`fr-LU`,6156:`fr-MC`,4108:`fr-CH`,1122:`fy`,1110:`gl`,1079:`ka`,3079:`de-AT`,1031:`de`,5127:`de-LI`,4103:`de-LU`,2055:`de-CH`,1032:`el`,1135:`kl`,1095:`gu`,1128:`ha`,1037:`he`,1081:`hi`,1038:`hu`,1039:`is`,1136:`ig`,1057:`id`,1117:`iu`,2141:`iu-Latn`,2108:`ga`,1076:`xh`,1077:`zu`,1040:`it`,2064:`it-CH`,1041:`ja`,1099:`kn`,1087:`kk`,1107:`km`,1158:`quc`,1159:`rw`,1089:`sw`,1111:`kok`,1042:`ko`,1088:`ky`,1108:`lo`,1062:`lv`,1063:`lt`,2094:`dsb`,1134:`lb`,1071:`mk`,2110:`ms-BN`,1086:`ms`,1100:`ml`,1082:`mt`,1153:`mi`,1146:`arn`,1102:`mr`,1148:`moh`,1104:`mn`,2128:`mn-CN`,1121:`ne`,1044:`nb`,2068:`nn`,1154:`oc`,1096:`or`,1123:`ps`,1045:`pl`,1046:`pt`,2070:`pt-PT`,1094:`pa`,1131:`qu-BO`,2155:`qu-EC`,3179:`qu`,1048:`ro`,1047:`rm`,1049:`ru`,9275:`smn`,4155:`smj-NO`,5179:`smj`,3131:`se-FI`,1083:`se`,2107:`se-SE`,8251:`sms`,6203:`sma-NO`,7227:`sms`,1103:`sa`,7194:`sr-Cyrl-BA`,3098:`sr`,6170:`sr-Latn-BA`,2074:`sr-Latn`,1132:`nso`,1074:`tn`,1115:`si`,1051:`sk`,1060:`sl`,11274:`es-AR`,16394:`es-BO`,13322:`es-CL`,9226:`es-CO`,5130:`es-CR`,7178:`es-DO`,12298:`es-EC`,17418:`es-SV`,4106:`es-GT`,18442:`es-HN`,2058:`es-MX`,19466:`es-NI`,6154:`es-PA`,15370:`es-PY`,10250:`es-PE`,20490:`es-PR`,3082:`es`,1034:`es`,21514:`es-US`,14346:`es-UY`,8202:`es-VE`,2077:`sv-FI`,1053:`sv`,1114:`syr`,1064:`tg`,2143:`tzm`,1097:`ta`,1092:`tt`,1098:`te`,1054:`th`,1105:`bo`,1055:`tr`,1090:`tk`,1152:`ug`,1058:`uk`,1070:`hsb`,1056:`ur`,2115:`uz-Cyrl`,1091:`uz`,1066:`vi`,1106:`cy`,1160:`wo`,1157:`sah`,1144:`ii`,1130:`yo`},Ye=`utf-16`,Xe={0:`macintosh`,1:`x-mac-japanese`,2:`x-mac-chinesetrad`,3:`x-mac-korean`,6:`x-mac-greek`,7:`x-mac-cyrillic`,9:`x-mac-devanagai`,10:`x-mac-gurmukhi`,11:`x-mac-gujarati`,12:`x-mac-oriya`,13:`x-mac-bengali`,14:`x-mac-tamil`,15:`x-mac-telugu`,16:`x-mac-kannada`,17:`x-mac-malayalam`,18:`x-mac-sinhalese`,19:`x-mac-burmese`,20:`x-mac-khmer`,21:`x-mac-thai`,22:`x-mac-lao`,23:`x-mac-georgian`,24:`x-mac-armenian`,25:`x-mac-chinesesimp`,26:`x-mac-tibetan`,27:`x-mac-mongolian`,28:`x-mac-ethiopic`,29:`x-mac-ce`,30:`x-mac-vietnamese`,31:`x-mac-extarabic`},Ze={15:`x-mac-icelandic`,17:`x-mac-turkish`,18:`x-mac-croatian`,24:`x-mac-ce`,25:`x-mac-ce`,26:`x-mac-ce`,27:`x-mac-ce`,28:`x-mac-ce`,30:`x-mac-icelandic`,37:`x-mac-romanian`,38:`x-mac-ce`,39:`x-mac-ce`,40:`x-mac-ce`,143:`x-mac-inuit`,146:`x-mac-gaelic`};function Qe(t,n,r){switch(t){case 0:return Ye;case 1:return Ze[r]||Xe[n];case 3:if(n===1||n===10)return Ye}}function $e(t){var n,r={};for(n in t)r[t[n]]=parseInt(n);return r}function et(t,n,r,i,a,o){return new q.Record(`NameRecord`,[{name:`platformID`,type:`USHORT`,value:t},{name:`encodingID`,type:`USHORT`,value:n},{name:`languageID`,type:`USHORT`,value:r},{name:`nameID`,type:`USHORT`,value:i},{name:`length`,type:`USHORT`,value:a},{name:`offset`,type:`USHORT`,value:o}])}function tt(t,n){if((r=function(t,n){var r=t.length,i=n.length-r+1;e:for(var a=0;a<i;a++)for(;a<i;a++){for(var o=0;o<r;o++)if(n[a+o]!==t[o])continue e;return a}return-1}(t,n))<0)for(var r=n.length,i=0,a=t.length;i<a;++i)n.push(t[i]);return r}var nt={parse:function(t,n,r){for(var i={},a=new X.Parser(t,n),n=a.parseUShort(),o=a.parseUShort(),s=a.offset+a.parseUShort(),c=0;c<o;c++){var l=a.parseUShort(),u=a.parseUShort(),d=a.parseUShort(),f=a.parseUShort(),f=Ge[f]||f,p=a.parseUShort(),m=a.parseUShort(),h=function(t,n,r){switch(t){case 0:if(n===65535)return`und`;if(r)return r[n];break;case 1:return Ke[n];case 3:return Je[n]}}(l,d,r),l=Qe(l,u,d);l!==void 0&&h!==void 0&&(u=void 0,(u=l===Ye?F.UTF16(t,s+m,p):F.MACSTRING(t,s+m,p,l))&&((d=(d=i[f])===void 0?i[f]={}:d)[h]=u))}return n===1&&a.parseUShort(),i},make:function(t,n){var r,i=[],a={},o=$e(Ge);for(r in t){var s=o[r];if(s===void 0&&(s=r),p=parseInt(s),isNaN(p))throw Error(`Name table entry "`+r+`" does not exist, see nameTableNames for complete list.`);a[p]=t[r],i.push(p)}for(var c=$e(Ke),l=$e(Je),u=[],d=[],f=0;f<i.length;f++){var p,m,h=a[p=i[f]];for(m in h){var g=h[m],_=1,v=c[m],y=qe[v],b=Qe(_,y,v),b=I.MACSTRING(g,b),x=(b===void 0&&(_=0,(v=n.indexOf(m))<0&&(v=n.length,n.push(m)),y=4,b=I.UTF16(g)),tt(b,d)),_=(u.push(et(_,y,v,p,b.length,x)),l[m]);_!==void 0&&(v=tt(y=I.UTF16(g),d),u.push(et(3,1,_,p,y.length,v)))}}u.sort(function(t,n){return t.platformID-n.platformID||t.encodingID-n.encodingID||t.languageID-n.languageID||t.nameID-n.nameID});for(var S=new q.Table(`name`,[{name:`format`,type:`USHORT`,value:0},{name:`count`,type:`USHORT`,value:u.length},{name:`stringOffset`,type:`USHORT`,value:6+12*u.length}]),C=0;C<u.length;C++)S.fields.push({name:`record_`+C,type:`RECORD`,value:u[C]});return S.fields.push({name:`strings`,type:`LITERAL`,value:d}),S}},rt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],it={parse:function(t,n){var r={},i=new X.Parser(t,n);r.version=i.parseUShort(),r.xAvgCharWidth=i.parseShort(),r.usWeightClass=i.parseUShort(),r.usWidthClass=i.parseUShort(),r.fsType=i.parseUShort(),r.ySubscriptXSize=i.parseShort(),r.ySubscriptYSize=i.parseShort(),r.ySubscriptXOffset=i.parseShort(),r.ySubscriptYOffset=i.parseShort(),r.ySuperscriptXSize=i.parseShort(),r.ySuperscriptYSize=i.parseShort(),r.ySuperscriptXOffset=i.parseShort(),r.ySuperscriptYOffset=i.parseShort(),r.yStrikeoutSize=i.parseShort(),r.yStrikeoutPosition=i.parseShort(),r.sFamilyClass=i.parseShort(),r.panose=[];for(var a=0;a<10;a++)r.panose[a]=i.parseByte();return r.ulUnicodeRange1=i.parseULong(),r.ulUnicodeRange2=i.parseULong(),r.ulUnicodeRange3=i.parseULong(),r.ulUnicodeRange4=i.parseULong(),r.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),r.fsSelection=i.parseUShort(),r.usFirstCharIndex=i.parseUShort(),r.usLastCharIndex=i.parseUShort(),r.sTypoAscender=i.parseShort(),r.sTypoDescender=i.parseShort(),r.sTypoLineGap=i.parseShort(),r.usWinAscent=i.parseUShort(),r.usWinDescent=i.parseUShort(),1<=r.version&&(r.ulCodePageRange1=i.parseULong(),r.ulCodePageRange2=i.parseULong()),2<=r.version&&(r.sxHeight=i.parseShort(),r.sCapHeight=i.parseShort(),r.usDefaultChar=i.parseUShort(),r.usBreakChar=i.parseUShort(),r.usMaxContent=i.parseUShort()),r},make:function(t){return new q.Table(`OS/2`,[{name:`version`,type:`USHORT`,value:3},{name:`xAvgCharWidth`,type:`SHORT`,value:0},{name:`usWeightClass`,type:`USHORT`,value:0},{name:`usWidthClass`,type:`USHORT`,value:0},{name:`fsType`,type:`USHORT`,value:0},{name:`ySubscriptXSize`,type:`SHORT`,value:650},{name:`ySubscriptYSize`,type:`SHORT`,value:699},{name:`ySubscriptXOffset`,type:`SHORT`,value:0},{name:`ySubscriptYOffset`,type:`SHORT`,value:140},{name:`ySuperscriptXSize`,type:`SHORT`,value:650},{name:`ySuperscriptYSize`,type:`SHORT`,value:699},{name:`ySuperscriptXOffset`,type:`SHORT`,value:0},{name:`ySuperscriptYOffset`,type:`SHORT`,value:479},{name:`yStrikeoutSize`,type:`SHORT`,value:49},{name:`yStrikeoutPosition`,type:`SHORT`,value:258},{name:`sFamilyClass`,type:`SHORT`,value:0},{name:`bFamilyType`,type:`BYTE`,value:0},{name:`bSerifStyle`,type:`BYTE`,value:0},{name:`bWeight`,type:`BYTE`,value:0},{name:`bProportion`,type:`BYTE`,value:0},{name:`bContrast`,type:`BYTE`,value:0},{name:`bStrokeVariation`,type:`BYTE`,value:0},{name:`bArmStyle`,type:`BYTE`,value:0},{name:`bLetterform`,type:`BYTE`,value:0},{name:`bMidline`,type:`BYTE`,value:0},{name:`bXHeight`,type:`BYTE`,value:0},{name:`ulUnicodeRange1`,type:`ULONG`,value:0},{name:`ulUnicodeRange2`,type:`ULONG`,value:0},{name:`ulUnicodeRange3`,type:`ULONG`,value:0},{name:`ulUnicodeRange4`,type:`ULONG`,value:0},{name:`achVendID`,type:`CHARARRAY`,value:`XXXX`},{name:`fsSelection`,type:`USHORT`,value:0},{name:`usFirstCharIndex`,type:`USHORT`,value:0},{name:`usLastCharIndex`,type:`USHORT`,value:0},{name:`sTypoAscender`,type:`SHORT`,value:0},{name:`sTypoDescender`,type:`SHORT`,value:0},{name:`sTypoLineGap`,type:`SHORT`,value:0},{name:`usWinAscent`,type:`USHORT`,value:0},{name:`usWinDescent`,type:`USHORT`,value:0},{name:`ulCodePageRange1`,type:`ULONG`,value:0},{name:`ulCodePageRange2`,type:`ULONG`,value:0},{name:`sxHeight`,type:`SHORT`,value:0},{name:`sCapHeight`,type:`SHORT`,value:0},{name:`usDefaultChar`,type:`USHORT`,value:0},{name:`usBreakChar`,type:`USHORT`,value:0},{name:`usMaxContext`,type:`USHORT`,value:0}],t)},unicodeRanges:rt,getUnicodeRange:function(t){for(var n=0;n<rt.length;n+=1){var r=rt[n];if(t>=r.begin&&t<r.end)return n}return-1}},at={parse:function(t,n){var r={},i=new X.Parser(t,n);switch(r.version=i.parseVersion(),r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=pe.slice();break;case 2:r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=Array(r.numberOfGlyphs);for(var a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]=i.parseUShort();r.names=[];for(var o,s=0;s<r.numberOfGlyphs;s++)r.glyphNameIndex[s]>=pe.length&&(o=i.parseChar(),r.names.push(i.parseString(o)));break;case 2.5:r.numberOfGlyphs=i.parseUShort(),r.offset=Array(r.numberOfGlyphs);for(var c=0;c<r.numberOfGlyphs;c++)r.offset[c]=i.parseChar()}return r},make:function(){return new q.Table(`post`,[{name:`version`,type:`FIXED`,value:196608},{name:`italicAngle`,type:`FIXED`,value:0},{name:`underlinePosition`,type:`FWORD`,value:0},{name:`underlineThickness`,type:`FWORD`,value:0},{name:`isFixedPitch`,type:`ULONG`,value:0},{name:`minMemType42`,type:`ULONG`,value:0},{name:`maxMemType42`,type:`ULONG`,value:0},{name:`minMemType1`,type:`ULONG`,value:0},{name:`maxMemType1`,type:`ULONG`,value:0}])}},ot=Array(9),st=(ot[1]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();return n===1?{substFormat:1,coverage:this.parsePointer(Y.coverage),deltaGlyphId:this.parseUShort()}:n===2?{substFormat:2,coverage:this.parsePointer(Y.coverage),substitute:this.parseOffset16List()}:void P.assert(!1,`0x`+t.toString(16)+`: lookup type 1 format must be 1 or 2.`)},ot[2]=function(){var t=this.parseUShort();return P.argument(t===1,`GSUB Multiple Substitution Subtable identifier-format must be 1`),{substFormat:t,coverage:this.parsePointer(Y.coverage),sequences:this.parseListOfLists()}},ot[3]=function(){var t=this.parseUShort();return P.argument(t===1,`GSUB Alternate Substitution Subtable identifier-format must be 1`),{substFormat:t,coverage:this.parsePointer(Y.coverage),alternateSets:this.parseListOfLists()}},ot[4]=function(){var t=this.parseUShort();return P.argument(t===1,`GSUB ligature table identifier-format must be 1`),{substFormat:t,coverage:this.parsePointer(Y.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Y.uShort,lookupListIndex:Y.uShort});ot[5]=function(){var t,n,r=this.offset+this.relativeOffset,i=this.parseUShort();return i===1?{substFormat:i,coverage:this.parsePointer(Y.coverage),ruleSets:this.parseListOfLists(function(){var t=this.parseUShort(),n=this.parseUShort();return{input:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(n,st)}})}:i===2?{substFormat:i,coverage:this.parsePointer(Y.coverage),classDef:this.parsePointer(Y.classDef),classSets:this.parseListOfLists(function(){var t=this.parseUShort(),n=this.parseUShort();return{classes:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(n,st)}})}:i===3?(t=this.parseUShort(),n=this.parseUShort(),{substFormat:i,coverages:this.parseList(t,Y.pointer(Y.coverage)),lookupRecords:this.parseRecordList(n,st)}):void P.assert(!1,`0x`+r.toString(16)+`: lookup type 5 format must be 1, 2 or 3.`)},ot[6]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();return n===1?{substFormat:1,coverage:this.parsePointer(Y.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}})}:n===2?{substFormat:2,coverage:this.parsePointer(Y.coverage),backtrackClassDef:this.parsePointer(Y.classDef),inputClassDef:this.parsePointer(Y.classDef),lookaheadClassDef:this.parsePointer(Y.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}})}:n===3?{substFormat:3,backtrackCoverage:this.parseList(Y.pointer(Y.coverage)),inputCoverage:this.parseList(Y.pointer(Y.coverage)),lookaheadCoverage:this.parseList(Y.pointer(Y.coverage)),lookupRecords:this.parseRecordList(st)}:void P.assert(!1,`0x`+t.toString(16)+`: lookup type 6 format must be 1, 2 or 3.`)},ot[7]=function(){var t=this.parseUShort(),t=(P.argument(t===1,`GSUB Extension Substitution subtable identifier-format must be 1`),this.parseUShort()),n=new Y(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:ot[t].call(n)}},ot[8]=function(){var t=this.parseUShort();return P.argument(t===1,`GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1`),{substFormat:t,coverage:this.parsePointer(Y.coverage),backtrackCoverage:this.parseList(Y.pointer(Y.coverage)),lookaheadCoverage:this.parseList(Y.pointer(Y.coverage)),substitutes:this.parseUShortList()}};var ct=Array(9);ct[1]=function(t){return t.substFormat===1?new q.Table(`substitutionTable`,[{name:`substFormat`,type:`USHORT`,value:1},{name:`coverage`,type:`TABLE`,value:new q.Coverage(t.coverage)},{name:`deltaGlyphID`,type:`USHORT`,value:t.deltaGlyphId}]):new q.Table(`substitutionTable`,[{name:`substFormat`,type:`USHORT`,value:2},{name:`coverage`,type:`TABLE`,value:new q.Coverage(t.coverage)}].concat(q.ushortList(`substitute`,t.substitute)))},ct[3]=function(t){return P.assert(t.substFormat===1,`Lookup type 3 substFormat must be 1.`),new q.Table(`substitutionTable`,[{name:`substFormat`,type:`USHORT`,value:1},{name:`coverage`,type:`TABLE`,value:new q.Coverage(t.coverage)}].concat(q.tableList(`altSet`,t.alternateSets,function(t){return new q.Table(`alternateSetTable`,q.ushortList(`alternate`,t))})))},ct[4]=function(t){return P.assert(t.substFormat===1,`Lookup type 4 substFormat must be 1.`),new q.Table(`substitutionTable`,[{name:`substFormat`,type:`USHORT`,value:1},{name:`coverage`,type:`TABLE`,value:new q.Coverage(t.coverage)}].concat(q.tableList(`ligSet`,t.ligatureSets,function(t){return new q.Table(`ligatureSetTable`,q.tableList(`ligature`,t,function(t){return new q.Table(`ligatureTable`,[{name:`ligGlyph`,type:`USHORT`,value:t.ligGlyph}].concat(q.ushortList(`component`,t.components,t.components.length+1)))}))})))};var lt={parse:function(t,n){return n=(t=new Y(t,n||=0)).parseVersion(1),P.argument(n===1||n===1.1,`Unsupported GSUB table version.`),n===1?{version:n,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(ot)}:{version:n,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(ot),variations:t.parseFeatureVariationsList()}},make:function(t){return new q.Table(`GSUB`,[{name:`version`,type:`ULONG`,value:65536},{name:`scripts`,type:`TABLE`,value:new q.ScriptList(t.scripts)},{name:`features`,type:`TABLE`,value:new q.FeatureList(t.features)},{name:`lookups`,type:`TABLE`,value:new q.LookupList(t.lookups,ct)}])}},ut={parse:function(t,n){for(var r=new X.Parser(t,n),i=r.parseULong(),a=(P.argument(i===1,`Unsupported META table version.`),r.parseULong(),r.parseULong(),r.parseULong()),o={},s=0;s<a;s++){var c=r.parseTag(),l=r.parseULong(),u=r.parseULong(),l=F.UTF8(t,n+l,u);o[c]=l}return o},make:function(t){var n,r=Object.keys(t).length,i=``,a=16+12*r,o=new q.Table(`meta`,[{name:`version`,type:`ULONG`,value:1},{name:`flags`,type:`ULONG`,value:0},{name:`offset`,type:`ULONG`,value:a},{name:`numTags`,type:`ULONG`,value:r}]);for(n in t){var s=i.length;i+=t[n],o.fields.push({name:`tag `+n,type:`TAG`,value:n}),o.fields.push({name:`offset `+n,type:`ULONG`,value:a+s}),o.fields.push({name:`length `+n,type:`ULONG`,value:t[n].length})}return o.fields.push({name:`stringPool`,type:`CHARARRAY`,value:i}),o}};function dt(t){return Math.log(t)/Math.log(2)|0}function ft(t){for(;t.length%4!=0;)t.push(0);for(var n=0,r=0;r<t.length;r+=4)n+=(t[r]<<24)+(t[r+1]<<16)+(t[r+2]<<8)+t[r+3];return n%=2**32}function pt(t,n,r,i){return new q.Record(`Table Record`,[{name:`tag`,type:`TAG`,value:t===void 0?``:t},{name:`checkSum`,type:`ULONG`,value:n===void 0?0:n},{name:`offset`,type:`ULONG`,value:r===void 0?0:r},{name:`length`,type:`ULONG`,value:i===void 0?0:i}])}function mt(t){for(var n=new q.Table(`sfnt`,[{name:`version`,type:`TAG`,value:`OTTO`},{name:`numTables`,type:`USHORT`,value:0},{name:`searchRange`,type:`USHORT`,value:0},{name:`entrySelector`,type:`USHORT`,value:0},{name:`rangeShift`,type:`USHORT`,value:0}]),r=(n.tables=t,n.numTables=t.length,2**dt(n.numTables)),i=(n.searchRange=16*r,n.entrySelector=dt(r),n.rangeShift=16*n.numTables-n.searchRange,[]),a=[],o=n.sizeOf()+pt().sizeOf()*n.numTables;o%4!=0;)o+=1,a.push({name:`padding`,type:`BYTE`,value:0});for(var s=0;s<t.length;s+=1){var c=t[s],l=(P.argument(c.tableName.length===4,`Table name`+c.tableName+` is invalid.`),c.sizeOf()),u=pt(c.tableName,ft(c.encode()),o,l);for(i.push({name:u.tag+` Table Record`,type:`RECORD`,value:u}),a.push({name:c.tableName+` table`,type:`RECORD`,value:c}),o+=l,P.argument(!isNaN(o),`Something went wrong calculating the offset.`);o%4!=0;)o+=1,a.push({name:`padding`,type:`BYTE`,value:0})}return i.sort(function(t,n){return t.value.tag>n.value.tag?1:-1}),n.fields=n.fields.concat(i),n.fields=n.fields.concat(a),n}function ht(t,n,r){for(var i=0;i<n.length;i+=1){var a=t.charToGlyphIndex(n[i]);if(0<a)return t.glyphs.get(a).getMetrics()}return r}var gt={make:mt,fontToTable:function(t){for(var n,r=[],i=[],a=[],o=[],s=[],c=[],l=[],u=0,d=0,f=0,p=0,m=0,h=0;h<t.glyphs.length;h+=1){var g=t.glyphs.get(h),_=0|g.unicode;if(isNaN(g.advanceWidth))throw Error(`Glyph `+g.name+` (`+h+`): advanceWidth is not a number.`);(_<n||n===void 0)&&0<_&&(n=_),u<_&&(u=_);var _=it.getUnicodeRange(_);if(_<32)d|=1<<_;else if(_<64)f|=1<<_-32;else if(_<96)p|=1<<_-64;else{if(!(_<123))throw Error(`Unicode ranges bits > 123 are reserved for internal usage`);m|=1<<_-96}g.name!==`.notdef`&&(_=g.getMetrics(),r.push(_.xMin),i.push(_.yMin),a.push(_.xMax),o.push(_.yMax),c.push(_.leftSideBearing),l.push(_.rightSideBearing),s.push(g.advanceWidth))}var v,y={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:function(t){for(var n=0,r=0;r<t.length;r+=1)n+=t[r];return n/t.length}(s),minLeftSideBearing:Math.min.apply(null,c),maxLeftSideBearing:Math.max.apply(null,c),minRightSideBearing:Math.min.apply(null,l)},b=(y.ascender=t.ascender,y.descender=t.descender,Be.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:y.xMin,yMin:y.yMin,xMax:y.xMax,yMax:y.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp})),x=Ve.make({ascender:y.ascender,descender:y.descender,advanceWidthMax:y.advanceWidthMax,minLeftSideBearing:y.minLeftSideBearing,minRightSideBearing:y.minRightSideBearing,xMaxExtent:y.maxLeftSideBearing+(y.xMax-y.xMin),numberOfHMetrics:t.glyphs.length}),S=We.make(t.glyphs.length),C=it.make({xAvgCharWidth:Math.round(y.advanceWidthAvg),usWeightClass:t.tables.os2.usWeightClass,usWidthClass:t.tables.os2.usWidthClass,usFirstCharIndex:n,usLastCharIndex:u,ulUnicodeRange1:d,ulUnicodeRange2:f,ulUnicodeRange3:p,ulUnicodeRange4:m,fsSelection:t.tables.os2.fsSelection,sTypoAscender:y.ascender,sTypoDescender:y.descender,sTypoLineGap:0,usWinAscent:y.yMax,usWinDescent:Math.abs(y.yMin),ulCodePageRange1:1,sxHeight:ht(t,`xyvw`,{yMax:Math.round(y.ascender/2)}).yMax,sCapHeight:ht(t,`HIKLEFJMNTZBDPRAGOQSUVWXY`,y).yMax,usDefaultChar:t.hasChar(` `)?32:0,usBreakChar:t.hasChar(` `)?32:0}),w=He.make(t.glyphs),T=ue.make(t.glyphs),E=t.getEnglishName(`fontFamily`),D=t.getEnglishName(`fontSubfamily`),O=E+` `+D,k=(k=t.getEnglishName(`postScriptName`))||E.replace(/\s/g,``)+`-`+D,A={};for(v in t.names)A[v]=t.names[v];A.uniqueID||={en:t.getEnglishName(`manufacturer`)+`:`+O},A.postScriptName||={en:k},A.preferredFamily||=t.names.fontFamily,A.preferredSubfamily||=t.names.fontSubfamily;var j=[],M=nt.make(A,j),j=0<j.length?Ue.make(j):void 0,N=at.make(),O=ze.make(t.glyphs,{version:t.getEnglishName(`version`),fullName:O,familyName:E,weightName:D,postScriptName:k,unitsPerEm:t.unitsPerEm,fontBBox:[0,y.yMin,y.ascender,y.advanceWidthMax]}),E=t.metas&&0<Object.keys(t.metas).length?ut.make(t.metas):void 0,D=[b,x,S,C,M,T,N,O,w];j&&D.push(j),t.tables.gsub&&D.push(lt.make(t.tables.gsub)),E&&D.push(E);for(var P=ft((k=mt(D)).encode()),F=k.fields,I=!1,L=0;L<F.length;L+=1)if(F[L].name===`head table`){F[L].value.checkSumAdjustment=2981146554-P,I=!0;break}if(I)return k;throw Error(`Could not find head table with checkSum to adjust.`)},computeCheckSum:ft};function _t(t,n){for(var r=0,i=t.length-1;r<=i;){var a=r+i>>>1,o=t[a].tag;if(o===n)return a;o<n?r=1+a:i=a-1}return-r-1}function vt(t,n){for(var r=0,i=t.length-1;r<=i;){var a=r+i>>>1,o=t[a];if(o===n)return a;o<n?r=1+a:i=a-1}return-r-1}function yt(t,n){for(var r=0,i=t.length-1;r<=i;){var a,o=r+i>>>1,s=(a=t[o]).start;if(s===n)return a;s<n?r=1+o:i=o-1}if(0<r)return n>(a=t[r-1]).end?0:a}function bt(t,n){this.font=t,this.tableName=n}function xt(t){bt.call(this,t,`gpos`)}function St(t){bt.call(this,t,`gsub`)}function Ct(t,n,r){for(var i=t.subtables,a=0;a<i.length;a++){var o=i[a];if(o.substFormat===n)return o}if(r)return i.push(r),r}function wt(t){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;++i)r[i]=t[i];return n}function Tt(t,n){if(!t)throw n}function Et(t,n,r,i,a){var o=0<(n&i)?(o=t.parseByte(),r+(o=(n&a)==0?-o:o)):0<(n&a)?r:r+t.parseShort();return o}function Dt(t,n,r){var i,a=new X.Parser(n,r);if(t.numberOfContours=a.parseShort(),t._xMin=a.parseShort(),t._yMin=a.parseShort(),t._xMax=a.parseShort(),t._yMax=a.parseShort(),0<t.numberOfContours){for(var o=t.endPointIndices=[],s=0;s<t.numberOfContours;s+=1)o.push(a.parseUShort());t.instructionLength=a.parseUShort(),t.instructions=[];for(var c=0;c<t.instructionLength;c+=1)t.instructions.push(a.parseByte());for(var l=o[o.length-1]+1,u=[],d=0;d<l;d+=1)if(i=a.parseByte(),u.push(i),0<(8&i))for(var f=a.parseByte(),p=0;p<f;p+=1)u.push(i),d+=1;if(P.argument(u.length===l,`Bad flags.`),0<o.length){var m,h=[];if(0<l){for(var g=0;g<l;g+=1)i=u[g],(m={}).onCurve=!!(1&i),m.lastPointOfContour=0<=o.indexOf(g),h.push(m);for(var _=0,v=0;v<l;v+=1)i=u[v],(m=h[v]).x=Et(a,i,_,2,16),_=m.x;for(var y=0,b=0;b<l;b+=1)i=u[b],(m=h[b]).y=Et(a,i,y,4,32),y=m.y}t.points=h}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var x=!0;x;){u=a.parseUShort();var S={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&u)?0<(2&u)?(S.dx=a.parseShort(),S.dy=a.parseShort()):S.matchedPoints=[a.parseUShort(),a.parseUShort()]:0<(2&u)?(S.dx=a.parseChar(),S.dy=a.parseChar()):S.matchedPoints=[a.parseByte(),a.parseByte()],0<(8&u)?S.xScale=S.yScale=a.parseF2Dot14():0<(64&u)?(S.xScale=a.parseF2Dot14(),S.yScale=a.parseF2Dot14()):0<(128&u)&&(S.xScale=a.parseF2Dot14(),S.scale01=a.parseF2Dot14(),S.scale10=a.parseF2Dot14(),S.yScale=a.parseF2Dot14()),t.components.push(S),x=!!(32&u)}if(256&u){t.instructionLength=a.parseUShort(),t.instructions=[];for(var C=0;C<t.instructionLength;C+=1)t.instructions.push(a.parseByte())}}}function Ot(t,n){for(var r=[],i=0;i<t.length;i+=1){var a=t[i],a={x:n.xScale*a.x+n.scale01*a.y+n.dx,y:n.scale10*a.x+n.yScale*a.y+n.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};r.push(a)}return r}function kt(t){var n=new j;if(t)for(var r=function(t){for(var n=[],r=[],i=0;i<t.length;i+=1){var a=t[i];r.push(a),a.lastPointOfContour&&(n.push(r),r=[])}return P.argument(r.length===0,`There are still points left in the current contour.`),n}(t),i=0;i<r.length;++i){var a,o=r[i],s=o[o.length-1],c=o[0];s.onCurve?n.moveTo(s.x,s.y):c.onCurve?n.moveTo(c.x,c.y):(a={x:.5*(s.x+c.x),y:.5*(s.y+c.y)},n.moveTo(a.x,a.y));for(var l=0;l<o.length;++l){var u,d=s,s=c,c=o[(l+1)%o.length];s.onCurve?n.lineTo(s.x,s.y):(u=c,d.onCurve||(s.x,d.x,s.y,d.y),c.onCurve||(u={x:.5*(s.x+c.x),y:.5*(s.y+c.y)}),n.quadraticCurveTo(s.x,s.y,u.x,u.y))}n.closePath()}return n}function At(t,n){if(n.isComposite)for(var r=0;r<n.components.length;r+=1){var i=n.components[r],a=t.get(i.glyphIndex);if(a.getPath(),a.points){var o=void 0;if(i.matchedPoints===void 0)o=Ot(a.points,i);else{if(i.matchedPoints[0]>n.points.length-1||i.matchedPoints[1]>a.points.length-1)throw Error(`Matched points out of range in `+n.name);var s=n.points[i.matchedPoints[0]],c=a.points[i.matchedPoints[1]],i={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0},c=Ot([c],i)[0];i.dx=s.x-c.x,i.dy=s.y-c.y,o=Ot(a.points,i)}n.points=n.points.concat(o)}}return kt(n.points)}(xt.prototype=bt.prototype={searchTag:_t,binSearch:vt,getTable:function(t){var n=this.font.tables[this.tableName];return n=!n&&t?this.font.tables[this.tableName]=this.createDefaultTable():n},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var n=!1,r=0;r<t.scripts.length;r++){var i=t.scripts[r].tag;if(i===`DFLT`)return i;i===`latn`&&(n=!0)}return n?`latn`:void 0}},getScriptTable:function(t,n){var r,i=this.getTable(n);if(i)return r=i.scripts,0<=(i=_t(i.scripts,t||=`DFLT`))?r[i].script:n?(r.splice(-1-i,0,n={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),n.script):void 0},getLangSysTable:function(t,n,r){var i,t=this.getScriptTable(t,r);if(t)return n&&n!==`dflt`&&n!==`DFLT`?0<=(i=_t(t.langSysRecords,n))?t.langSysRecords[i].langSys:r?(t.langSysRecords.splice(-1-i,0,r={tag:n,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),r.langSys):void 0:t.defaultLangSys},getFeatureTable:function(t,n,r,i){if(t=this.getLangSysTable(t,n,i),t){for(var a,o=t.featureIndexes,s=this.font.tables[this.tableName].features,c=0;c<o.length;c++)if((a=s[o[c]]).tag===r)return a.feature;if(i)return n=s.length,P.assert(n===0||r>=s[n-1].tag,`Features must be added in alphabetical order.`),s.push(a={tag:r,feature:{params:0,lookupListIndexes:[]}}),o.push(n),a.feature}},getLookupTables:function(t,n,r,i,a){var t=this.getFeatureTable(t,n,r,a),o=[];if(t){for(var s,c=t.lookupListIndexes,l=this.font.tables[this.tableName].lookups,u=0;u<c.length;u++)(s=l[c[u]]).lookupType===i&&o.push(s);if(o.length===0&&a)return n=l.length,l.push(s={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0}),c.push(n),[s]}return o},getGlyphClass:function(t,n){switch(t.format){case 1:return t.startGlyph<=n&&n<t.startGlyph+t.classes.length?t.classes[n-t.startGlyph]:0;case 2:var r=yt(t.ranges,n);return r?r.classId:0}},getCoverageIndex:function(t,n){switch(t.format){case 1:var r=vt(t.glyphs,n);return 0<=r?r:-1;case 2:return r=yt(t.ranges,n),r?r.index+n-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var n=[],r=t.ranges,i=0;i<r.length;i++)for(var a=r[i],o=a.start,s=a.end,c=o;c<=s;c++)n.push(c);return n}}).init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)},xt.prototype.getKerningValue=function(t,n,r){for(var i=0;i<t.length;i++)for(var a=t[i].subtables,o=0;o<a.length;o++){var s=a[o],c=this.getCoverageIndex(s.coverage,n);if(!(c<0))switch(s.posFormat){case 1:for(var l=s.pairSets[c],u=0;u<l.length;u++){var d=l[u];if(d.secondGlyph===r)return d.value1&&d.value1.xAdvance||0}break;case 2:var f=this.getGlyphClass(s.classDef1,n),p=this.getGlyphClass(s.classDef2,r),f=s.classRecords[f][p];return f.value1&&f.value1.xAdvance||0}}return 0},xt.prototype.getKerningTables=function(t,n){if(this.font.tables.gpos)return this.getLookupTables(t,n,`kern`,2)},(St.prototype=bt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:`DFLT`,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},St.prototype.getSingle=function(t,n,r){for(var i=[],a=this.getLookupTables(n,r,t,1),o=0;o<a.length;o++)for(var s=a[o].subtables,c=0;c<s.length;c++){var l=s[c],u=this.expandCoverage(l.coverage),d=void 0;if(l.substFormat===1)for(var f=l.deltaGlyphId,d=0;d<u.length;d++){var p=u[d];i.push({sub:p,by:p+f})}else{var m=l.substitute;for(d=0;d<u.length;d++)i.push({sub:u[d],by:m[d]})}}return i},St.prototype.getAlternates=function(t,n,r){for(var i=[],a=this.getLookupTables(n,r,t,3),o=0;o<a.length;o++)for(var s=a[o].subtables,c=0;c<s.length;c++)for(var l=s[c],u=this.expandCoverage(l.coverage),d=l.alternateSets,f=0;f<u.length;f++)i.push({sub:u[f],by:d[f]});return i},St.prototype.getLigatures=function(t,n,r){for(var i=[],a=this.getLookupTables(n,r,t,4),o=0;o<a.length;o++)for(var s=a[o].subtables,c=0;c<s.length;c++)for(var l=s[c],u=this.expandCoverage(l.coverage),d=l.ligatureSets,f=0;f<u.length;f++)for(var p=u[f],m=d[f],h=0;h<m.length;h++){var g=m[h];i.push({sub:[p].concat(g.components),by:g.ligGlyph})}return i},St.prototype.addSingle=function(t,n,r,i){r=Ct(this.getLookupTables(r,i,t,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),P.assert(r.coverage.format===1,`Ligature: unable to modify coverage table format `+r.coverage.format),i=n.sub,t=this.binSearch(r.coverage.glyphs,i),t<0&&(r.coverage.glyphs.splice(t=-1-t,0,i),r.substitute.splice(t,0,0)),r.substitute[t]=n.by},St.prototype.addAlternate=function(t,n,r,i){r=Ct(this.getLookupTables(r,i,t,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),P.assert(r.coverage.format===1,`Ligature: unable to modify coverage table format `+r.coverage.format),i=n.sub,t=this.binSearch(r.coverage.glyphs,i),t<0&&(r.coverage.glyphs.splice(t=-1-t,0,i),r.alternateSets.splice(t,0,0)),r.alternateSets[t]=n.by},St.prototype.addLigature=function(t,n,r,i){var r=this.getLookupTables(r,i,t,4,!0)[0],i=r.subtables[0],t=(i||(r.subtables[0]=i={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),P.assert(i.coverage.format===1,`Ligature: unable to modify coverage table format `+i.coverage.format),n.sub[0]),a=n.sub.slice(1),r={ligGlyph:n.by,components:a},n=this.binSearch(i.coverage.glyphs,t);if(0<=n){for(var o=i.ligatureSets[n],s=0;s<o.length;s++)if(function(t,n){var r=t.length;if(r===n.length){for(var i=0;i<r;i++)if(t[i]!==n[i])return;return 1}}(o[s].components,a))return;o.push(r)}else i.coverage.glyphs.splice(n=-1-n,0,t),i.ligatureSets.splice(n,0,[r])},St.prototype.getFeature=function(t,n,r){if(/ss\d\d/.test(t))return this.getSingle(t,n,r);switch(t){case`aalt`:case`salt`:return this.getSingle(t,n,r).concat(this.getAlternates(t,n,r));case`dlig`:case`liga`:case`rlig`:return this.getLigatures(t,n,r)}},St.prototype.add=function(t,n,r,i){if(/ss\d\d/.test(t))return this.addSingle(t,n,r,i);switch(t){case`aalt`:case`salt`:return typeof n.by==`number`?this.addSingle(t,n,r,i):this.addAlternate(t,n,r,i);case`dlig`:case`liga`:case`rlig`:return this.addLigature(t,n,r,i)}};var jt={getPath:kt,parse:function(t,n,r,i){for(var a=new Se.GlyphSet(i),o=0;o<r.length-1;o+=1){var s=r[o];s===r[o+1]?a.push(o,Se.glyphLoader(i,o)):a.push(o,Se.ttfGlyphLoader(i,o,Dt,t,n+s,At))}return a}};function Mt(t){this.font=t,this.getCommands=function(t){return jt.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Nt(t){return t}function Pt(t){return Math.sign(t)*Math.round(Math.abs(t))}function Ft(t){return Math.sign(t)*Math.round(Math.abs(2*t))/2}function It(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Lt(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Rt(t){return Math.sign(t)*Math.floor(Math.abs(t))}function zt(t){var n=this.srPeriod,r=this.srPhase,i=1;return t<0&&(t=-t,i=-1),t+=this.srThreshold-r,t=Math.trunc(t/n)*n,(t+=r)<0?r*i:t*i}var Bt={x:1,y:0,axis:`x`,distance:function(t,n,r,i){return(r?t.xo:t.x)-(i?n.xo:n.x)},interpolate:function(t,n,r,i){var a,o,s,c,l,u,d;if(!i||i===this)return a=t.xo-n.xo,o=t.xo-r.xo,l=n.x-n.xo,u=r.x-r.xo,(d=(s=Math.abs(a))+(c=Math.abs(o)))===0?void(t.x=t.xo+(l+u)/2):void(t.x=t.xo+(l*c+u*s)/d);a=i.distance(t,n,!0,!0),o=i.distance(t,r,!0,!0),l=i.distance(n,n,!1,!0),u=i.distance(r,r,!1,!0),(d=(s=Math.abs(a))+(c=Math.abs(o)))===0?Bt.setRelative(t,t,(l+u)/2,i,!0):Bt.setRelative(t,t,(l*c+u*s)/d,i,!0)},normalSlope:-1/0,setRelative:function(t,n,r,i,a){var o,s;i&&i!==this?(o=a?n.xo:n.x,s=a?n.yo:n.y,o+=r*i.x,s+=r*i.y,t.x=o+(t.y-s)/i.normalSlope):t.x=(a?n.xo:n.x)+r},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Vt={x:0,y:1,axis:`y`,distance:function(t,n,r,i){return(r?t.yo:t.y)-(i?n.yo:n.y)},interpolate:function(t,n,r,i){var a,o,s,c,l,u,d;if(!i||i===this)return a=t.yo-n.yo,o=t.yo-r.yo,l=n.y-n.yo,u=r.y-r.yo,(d=(s=Math.abs(a))+(c=Math.abs(o)))===0?void(t.y=t.yo+(l+u)/2):void(t.y=t.yo+(l*c+u*s)/d);a=i.distance(t,n,!0,!0),o=i.distance(t,r,!0,!0),l=i.distance(n,n,!1,!0),u=i.distance(r,r,!1,!0),(d=(s=Math.abs(a))+(c=Math.abs(o)))===0?Vt.setRelative(t,t,(l+u)/2,i,!0):Vt.setRelative(t,t,(l*c+u*s)/d,i,!0)},normalSlope:0,setRelative:function(t,n,r,i,a){var o,s;i&&i!==this?(o=a?n.xo:n.x,s=a?n.yo:n.y,o+=r*i.x,s+=r*i.y,t.y=s+i.normalSlope*(t.x-o)):t.y=(a?n.yo:n.y)+r},slope:1/0,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};function Ht(t,n){this.x=t,this.y=n,this.axis=void 0,this.slope=n/t,this.normalSlope=-t/n,Object.freeze(this)}function Ut(t,n){var r=Math.sqrt(t*t+n*n);return n/=r,(t/=r)===1&&n===0?Bt:t===0&&n===1?Vt:new Ht(t,n)}function Wt(t,n,r,i){this.x=this.xo=Math.round(64*t)/64,this.y=this.yo=Math.round(64*n)/64,this.lastPointOfContour=r,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Bt),Object.freeze(Vt),Ht.prototype.distance=function(t,n,r,i){return this.x*Bt.distance(t,n,r,i)+this.y*Vt.distance(t,n,r,i)},Ht.prototype.interpolate=function(t,n,r,i){var a=i.distance(t,n,!0,!0),o=i.distance(t,r,!0,!0),n=i.distance(n,n,!1,!0),r=i.distance(r,r,!1,!0),a=Math.abs(a),o=Math.abs(o),s=a+o;s===0?this.setRelative(t,t,(n+r)/2,i,!0):this.setRelative(t,t,(n*o+r*a)/s,i,!0)},Ht.prototype.setRelative=function(t,n,r,i,a){var o=a?n.xo:n.x,a=a?n.yo:n.y,n=o+r*(i||=this).x,o=a+r*i.y,a=i.normalSlope,r=this.slope,i=t.x,s=t.y;t.x=(r*i-a*n+o-s)/(r-a),t.y=r*(t.x-i)+s},Ht.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0},Wt.prototype.nextTouched=function(t){for(var n=this.nextPointOnContour;!t.touched(n)&&n!==this;)n=n.nextPointOnContour;return n},Wt.prototype.prevTouched=function(t){for(var n=this.prevPointOnContour;!t.touched(n)&&n!==this;)n=n.prevPointOnContour;return n};var Gt=Object.freeze(new Wt(0,0)),Kt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function qt(t,n){switch(this.env=t,this.stack=[],this.prog=n,t){case`glyf`:this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case`prep`:this.fv=this.pv=this.dpv=Bt,this.round=Pt}}function Jt(t){for(var n=t.tZone=Array(t.gZone.length),r=0;r<n.length;r++)n[r]=new Wt(0,0)}function Yt(t,n){var r,i=t.prog,a=t.ip,o=1;do if((r=i[++a])===88)o++;else if(r===89)o--;else if(r===64)a+=i[a+1]+1;else if(r===65)a+=2*i[a+1]+1;else if(176<=r&&r<=183)a+=r-176+1;else if(184<=r&&r<=191)a+=2*(r-184+1);else if(n&&o===1&&r===27)break;while(0<o);t.ip=a}function Xt(n,r){t.DEBUG&&console.log(r.step,`SVTCA[`+n.axis+`]`),r.fv=r.pv=r.dpv=n}function Zt(n,r){t.DEBUG&&console.log(r.step,`SPVTCA[`+n.axis+`]`),r.pv=r.dpv=n}function Qt(n,r){t.DEBUG&&console.log(r.step,`SFVTCA[`+n.axis+`]`),r.fv=n}function $t(n,r){var i,a=r.stack,o=a.pop(),a=a.pop(),s=r.z2[o],c=r.z1[a];t.DEBUG&&console.log(`SPVTL[`+n+`]`,o,a),o=n?(i=s.y-c.y,c.x-s.x):(i=c.x-s.x,c.y-s.y),r.pv=r.dpv=Ut(i,o)}function en(n,r){var i,a=r.stack,o=a.pop(),a=a.pop(),s=r.z2[o],c=r.z1[a];t.DEBUG&&console.log(`SFVTL[`+n+`]`,o,a),o=n?(i=s.y-c.y,c.x-s.x):(i=c.x-s.x,c.y-s.y),r.fv=Ut(i,o)}function tn(n){t.DEBUG&&console.log(n.step,`POP[]`),n.stack.pop()}function nn(n,r){var i=r.stack.pop(),a=r.z0[i],o=r.fv,s=r.pv,c=(t.DEBUG&&console.log(r.step,`MDAP[`+n+`]`,i),s.distance(a,Gt));n&&(c=r.round(c)),o.setRelative(a,Gt,c,s),o.touch(a),r.rp0=r.rp1=i}function rn(n,r){var i,a,o,s=r.z2,c=s.length-2;t.DEBUG&&console.log(r.step,`IUP[`+n.axis+`]`);for(var l=0;l<c;l++)i=s[l],n.touched(i)||(a=i.prevTouched(n))!==i&&(a===(o=i.nextTouched(n))&&n.setRelative(i,i,n.distance(a,a,!1,!0),n,!0),n.interpolate(i,a,o,n))}function an(n,r){for(var i=r.stack,a=n?r.rp1:r.rp2,o=(n?r.z0:r.z1)[a],s=r.fv,c=r.pv,l=r.loop,u=r.z2;l--;){var d=i.pop(),f=u[d],p=c.distance(o,o,!1,!0);s.setRelative(f,f,p,c),s.touch(f),t.DEBUG&&console.log(r.step,(1<r.loop?`loop `+(r.loop-l)+`: `:``)+`SHP[`+(n?`rp1`:`rp2`)+`]`,d)}r.loop=1}function on(n,r){for(var i=r.stack,a=n?r.rp1:r.rp2,o=(n?r.z0:r.z1)[a],s=r.fv,c=r.pv,a=i.pop(),l=r.z2[r.contours[a]],u=l,d=(t.DEBUG&&console.log(r.step,`SHC[`+n+`]`,a),c.distance(o,o,!1,!0));u!==o&&s.setRelative(u,u,d,c),(u=u.nextPointOnContour)!==l;);}function sn(n,r){var i,a,o=r.stack,s=n?r.rp1:r.rp2,s=(n?r.z0:r.z1)[s],c=r.fv,l=r.pv,o=o.pop();switch(t.DEBUG&&console.log(r.step,`SHZ[`+n+`]`,o),o){case 0:i=r.tZone;break;case 1:i=r.gZone;break;default:throw Error(`Invalid zone`)}for(var u=l.distance(s,s,!1,!0),d=i.length-2,f=0;f<d;f++)a=i[f],c.setRelative(a,a,u,l)}function cn(n,r){var i=r.stack,a=i.pop()/64,i=i.pop(),o=r.z1[i],s=r.z0[r.rp0],c=r.fv,l=r.pv;c.setRelative(o,s,a,l),c.touch(o),t.DEBUG&&console.log(r.step,`MSIRP[`+n+`]`,a,i),r.rp1=r.rp0,r.rp2=i,n&&(r.rp0=i)}function ln(n,r){var i=r.stack,a=i.pop(),i=i.pop(),o=r.z0[i],s=r.fv,c=r.pv,l=r.cvt[a],a=(t.DEBUG&&console.log(r.step,`MIAP[`+n+`]`,a,`(`,l,`)`,i),c.distance(o,Gt));n&&(Math.abs(a-l)<r.cvCutIn&&(a=l),a=r.round(a)),s.setRelative(o,Gt,a,c),r.zp0===0&&(o.xo=o.x,o.yo=o.y),s.touch(o),r.rp0=r.rp1=i}function un(n,r){var i=r.stack,a=i.pop(),o=r.z2[a];t.DEBUG&&console.log(r.step,`GC[`+n+`]`,a),i.push(64*r.dpv.distance(o,Gt,n,!1))}function dn(n,r){var i=r.stack,a=i.pop(),i=i.pop(),o=r.z1[a],s=r.z0[i],s=r.dpv.distance(s,o,n,n);t.DEBUG&&console.log(r.step,`MD[`+n+`]`,a,i,`->`,s),r.stack.push(Math.round(64*s))}function fn(n,r){var i=r.stack,a=i.pop(),o=r.fv,s=r.pv,c=r.ppem,l=r.deltaBase+16*(n-1),u=r.deltaShift,d=r.z0;t.DEBUG&&console.log(r.step,`DELTAP[`+n+`]`,a,i);for(var f=0;f<a;f++){var p=i.pop(),m=i.pop();l+((240&m)>>4)===c&&(0<=(m=(15&m)-8)&&m++,t.DEBUG&&console.log(r.step,`DELTAPFIX`,p,`by`,m*u),p=d[p],o.setRelative(p,p,m*u,s))}}function pn(n,r){var i=r.stack,a=i.pop();t.DEBUG&&console.log(r.step,`ROUND[]`),i.push(64*r.round(a/64))}function mn(n,r){var i=r.stack,a=i.pop(),o=r.ppem,s=r.deltaBase+16*(n-1),c=r.deltaShift;t.DEBUG&&console.log(r.step,`DELTAC[`+n+`]`,a,i);for(var l=0;l<a;l++){var u=i.pop(),d=i.pop();s+((240&d)>>4)===o&&(0<=(d=(15&d)-8)&&d++,d*=c,t.DEBUG&&console.log(r.step,`DELTACFIX`,u,`by`,d),r.cvt[u]+=d)}}function hn(n,r){var i,a=r.stack,o=a.pop(),a=a.pop(),s=r.z2[o],c=r.z1[a];t.DEBUG&&console.log(r.step,`SDPVTL[`+n+`]`,o,a),o=n?(i=s.y-c.y,c.x-s.x):(i=c.x-s.x,c.y-s.y),r.dpv=Ut(i,o)}function gn(n,r){var i=r.stack,a=r.prog,o=r.ip;t.DEBUG&&console.log(r.step,`PUSHB[`+n+`]`);for(var s=0;s<n;s++)i.push(a[++o]);r.ip=o}function _n(n,r){var i=r.ip,a=r.prog,o=r.stack;t.DEBUG&&console.log(r.ip,`PUSHW[`+n+`]`);for(var s=0;s<n;s++){var c=a[++i]<<8|a[++i];32768&c&&(c=-(1+(65535^c))),o.push(c)}r.ip=i}function Q(n,r,i,a,o,s){var c,l,u=s.stack,d=n&&u.pop(),u=u.pop(),f=s.rp0,f=s.z0[f],p=s.z1[u],m=s.minDis,h=s.fv,g=s.dpv,_=c=g.distance(p,f,!0,!0),v=0<=_?1:-1;_=Math.abs(_),n&&(l=s.cvt[d],a&&Math.abs(_-l)<s.cvCutIn&&(_=l)),i&&_<m&&(_=m),a&&(_=s.round(_)),h.setRelative(p,f,v*_,g),h.touch(p),t.DEBUG&&console.log(s.step,(n?`MIRP[`:`MDRP[`)+(r?`M`:`m`)+(i?`>`:`_`)+(a?`R`:`_`)+(o===0?`Gr`:o===1?`Bl`:o===2?`Wh`:``)+`]`,n?d+`(`+s.cvt[d]+`,`+l+`)`:``,u,`(d =`,c,`->`,v*_,`)`),s.rp1=s.rp0,s.rp2=u,r&&(s.rp0=u)}Mt.prototype.exec=function(n,r){if(typeof r!=`number`)throw Error(`Point size is not a number!`);if(!(2<this._errorState)){var i=this.font,a=this._prepState;if(!a||a.ppem!==r){var o=this._fpgmState;if(!o){qt.prototype=Kt,(o=this._fpgmState=new qt(`fpgm`,i.tables.fpgm)).funcs=[],o.font=i,t.DEBUG&&(console.log(`---EXEC FPGM---`),o.step=-1);try{bn(o)}catch(t){console.log(`Hinting error in FPGM:`+t),this._errorState=3;return}}qt.prototype=o,(a=this._prepState=new qt(`prep`,i.tables.prep)).ppem=r;var s=i.tables.cvt;if(s)for(var c=a.cvt=Array(s.length),l=r/i.unitsPerEm,u=0;u<s.length;u++)c[u]=s[u]*l;else a.cvt=[];t.DEBUG&&(console.log(`---EXEC PREP---`),a.step=-1);try{bn(a)}catch(t){this._errorState<2&&console.log(`Hinting error in PREP:`+t),this._errorState=2}}if(!(1<this._errorState))try{return vn(n,a)}catch(t){this._errorState<1&&(console.log(`Hinting error:`+t),console.log(`Note: further hinting errors are silenced`)),this._errorState=1}}};var vn=function(n,r){var i=r.ppem/r.font.unitsPerEm,a=i,o=n.components;if(qt.prototype=r,o){for(var s=r.font,c=[],l=[],u=0;u<o.length;u++){var d=o[u],f=s.glyphs.get(d.glyphIndex),p=new qt(`glyf`,f.instructions);t.DEBUG&&(console.log(`---EXEC COMP `+u+`---`),p.step=-1),yn(f,p,i,a);for(var m=Math.round(d.dx*i),h=Math.round(d.dy*a),g=p.gZone,_=p.contours,v=0;v<g.length;v++){var y=g[v];y.xTouched=y.yTouched=!1,y.xo=y.x+=m,y.yo=y.y+=h}var b=c.length;c.push.apply(c,g);for(var x=0;x<_.length;x++)l.push(_[x]+b)}n.instructions&&!p.inhibitGridFit&&((p=new qt(`glyf`,n.instructions)).gZone=p.z0=p.z1=p.z2=c,p.contours=l,c.push(new Wt(0,0),new Wt(Math.round(n.advanceWidth*i),0)),t.DEBUG&&(console.log(`---EXEC COMPOSITE---`),p.step=-1),bn(p),c.length-=2)}else p=new qt(`glyf`,n.instructions),t.DEBUG&&(console.log(`---EXEC GLYPH---`),p.step=-1),yn(n,p,i,a),c=p.gZone;return c},yn=function(n,r,i,a){for(var o,s,c,l=n.points||[],u=l.length,d=r.gZone=r.z0=r.z1=r.z2=[],f=r.contours=[],p=0;p<u;p++)o=l[p],d[p]=new Wt(o.x*i,o.y*a,o.lastPointOfContour,o.onCurve);for(var m=0;m<u;m++)o=d[m],s||(s=o,f.push(m)),o.lastPointOfContour?((o.nextPointOnContour=s).prevPointOnContour=o,s=void 0):(c=d[m+1],(o.nextPointOnContour=c).prevPointOnContour=o);if(!r.inhibitGridFit){if(t.DEBUG){console.log(`PROCESSING GLYPH`,r.stack);for(var h=0;h<u;h++)console.log(h,d[h].x,d[h].y)}if(d.push(new Wt(0,0),new Wt(Math.round(n.advanceWidth*i),0)),bn(r),d.length-=2,t.DEBUG){console.log(`FINISHED GLYPH`,r.stack);for(var g=0;g<u;g++)console.log(g,d[g].x,d[g].y)}}},bn=function(n){var r=n.prog;if(r){var i,a=r.length;for(n.ip=0;n.ip<a;n.ip++){if(t.DEBUG&&n.step++,!(i=xn[r[n.ip]]))throw Error(`unknown instruction: 0x`+Number(r[n.ip]).toString(16));i(n)}}},xn=[Xt.bind(void 0,Vt),Xt.bind(void 0,Bt),Zt.bind(void 0,Vt),Zt.bind(void 0,Bt),Qt.bind(void 0,Vt),Qt.bind(void 0,Bt),$t.bind(void 0,0),$t.bind(void 0,1),en.bind(void 0,0),en.bind(void 0,1),function(n){var r=(i=n.stack).pop(),i=i.pop();t.DEBUG&&console.log(n.step,`SPVFS[]`,r,i),n.pv=n.dpv=Ut(i,r)},function(n){var r=(i=n.stack).pop(),i=i.pop();t.DEBUG&&console.log(n.step,`SPVFS[]`,r,i),n.fv=Ut(i,r)},function(n){var r=n.stack,i=n.pv;t.DEBUG&&console.log(n.step,`GPV[]`),r.push(16384*i.x),r.push(16384*i.y)},function(n){var r=n.stack,i=n.fv;t.DEBUG&&console.log(n.step,`GFV[]`),r.push(16384*i.x),r.push(16384*i.y)},function(n){n.fv=n.pv,t.DEBUG&&console.log(n.step,`SFVTPV[]`)},function(n){var r=(s=n.stack).pop(),i=s.pop(),a=s.pop(),o=s.pop(),s=s.pop(),c=n.z0,l=n.z1,u=c[r],c=c[i],d=l[a],l=l[o],n=n.z2[s],r=(t.DEBUG&&console.log(`ISECT[], `,r,i,a,o,s),u.x),i=u.y,a=c.x,o=c.y,s=d.x,u=d.y,c=l.x,d=l.y,l=(r-a)*(u-d)-(i-o)*(s-c),f=r*o-i*a,p=s*d-u*c;n.x=(f*(s-c)-p*(r-a))/l,n.y=(f*(u-d)-p*(i-o))/l},function(n){n.rp0=n.stack.pop(),t.DEBUG&&console.log(n.step,`SRP0[]`,n.rp0)},function(n){n.rp1=n.stack.pop(),t.DEBUG&&console.log(n.step,`SRP1[]`,n.rp1)},function(n){n.rp2=n.stack.pop(),t.DEBUG&&console.log(n.step,`SRP2[]`,n.rp2)},function(n){var r=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`SZP0[]`,r),n.zp0=r){case 0:n.tZone||Jt(n),n.z0=n.tZone;break;case 1:n.z0=n.gZone;break;default:throw Error(`Invalid zone pointer`)}},function(n){var r=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`SZP1[]`,r),n.zp1=r){case 0:n.tZone||Jt(n),n.z1=n.tZone;break;case 1:n.z1=n.gZone;break;default:throw Error(`Invalid zone pointer`)}},function(n){var r=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`SZP2[]`,r),n.zp2=r){case 0:n.tZone||Jt(n),n.z2=n.tZone;break;case 1:n.z2=n.gZone;break;default:throw Error(`Invalid zone pointer`)}},function(n){var r=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`SZPS[]`,r),n.zp0=n.zp1=n.zp2=r){case 0:n.tZone||Jt(n),n.z0=n.z1=n.z2=n.tZone;break;case 1:n.z0=n.z1=n.z2=n.gZone;break;default:throw Error(`Invalid zone pointer`)}},function(n){n.loop=n.stack.pop(),t.DEBUG&&console.log(n.step,`SLOOP[]`,n.loop)},function(n){t.DEBUG&&console.log(n.step,`RTG[]`),n.round=Pt},function(n){t.DEBUG&&console.log(n.step,`RTHG[]`),n.round=It},function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`SMD[]`,r),n.minDis=r/64},function(n){t.DEBUG&&console.log(n.step,`ELSE[]`),Yt(n,!1)},function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`JMPR[]`,r),n.ip+=r-1},function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`SCVTCI[]`,r),n.cvCutIn=r/64},void 0,void 0,function(n){var r=n.stack;t.DEBUG&&console.log(n.step,`DUP[]`),r.push(r[r.length-1])},tn,function(n){t.DEBUG&&console.log(n.step,`CLEAR[]`),n.stack.length=0},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`SWAP[]`),r.push(i),r.push(a)},function(n){var r=n.stack;t.DEBUG&&console.log(n.step,`DEPTH[]`),r.push(r.length)},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`CINDEX[]`,i),r.push(r[r.length-i])},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`MINDEX[]`,i),r.push(r.splice(r.length-i,1)[0])},void 0,void 0,void 0,function(n){var r=(a=n.stack).pop(),i=a.pop(),a=(t.DEBUG&&console.log(n.step,`LOOPCALL[]`,r,i),n.ip),o=n.prog;n.prog=n.funcs[r];for(var s=0;s<i;s++)bn(n),t.DEBUG&&console.log(++n.step,s+1<i?`next loopcall`:`done loopcall`,s);n.ip=a,n.prog=o},function(n){var r=n.stack.pop(),i=(t.DEBUG&&console.log(n.step,`CALL[]`,r),n.ip),a=n.prog;n.prog=n.funcs[r],bn(n),n.ip=i,n.prog=a,t.DEBUG&&console.log(++n.step,`returning from`,r)},function(n){if(n.env!==`fpgm`)throw Error(`FDEF not allowed here`);var r=n.stack,i=n.prog,a=n.ip,r=r.pop(),o=a;for(t.DEBUG&&console.log(n.step,`FDEF[]`,r);i[++a]!==45;);n.ip=a,n.funcs[r]=i.slice(o+1,a)},void 0,nn.bind(void 0,0),nn.bind(void 0,1),rn.bind(void 0,Vt),rn.bind(void 0,Bt),an.bind(void 0,0),an.bind(void 0,1),on.bind(void 0,0),on.bind(void 0,1),sn.bind(void 0,0),sn.bind(void 0,1),function(n){for(var r=n.stack,i=n.loop,a=n.fv,o=r.pop()/64,s=n.z2;i--;){var c=r.pop(),l=s[c];t.DEBUG&&console.log(n.step,(1<n.loop?`loop `+(n.loop-i)+`: `:``)+`SHPIX[]`,c,o),a.setRelative(l,l,o),a.touch(l)}n.loop=1},function(n){for(var r=n.stack,i=n.rp1,a=n.rp2,o=n.loop,s=n.z0[i],c=n.z1[a],l=n.fv,u=n.dpv,d=n.z2;o--;){var f=r.pop(),p=d[f];t.DEBUG&&console.log(n.step,(1<n.loop?`loop `+(n.loop-o)+`: `:``)+`IP[]`,f,i,`<->`,a),l.interpolate(p,s,c,u),l.touch(p)}n.loop=1},cn.bind(void 0,0),cn.bind(void 0,1),function(n){for(var r=n.stack,i=n.rp0,a=n.z0[i],o=n.loop,s=n.fv,c=n.pv,l=n.z1;o--;){var u=r.pop(),d=l[u];t.DEBUG&&console.log(n.step,(1<n.loop?`loop `+(n.loop-o)+`: `:``)+`ALIGNRP[]`,u),s.setRelative(d,a,0,c),s.touch(d)}n.loop=1},function(n){t.DEBUG&&console.log(n.step,`RTDG[]`),n.round=Ft},ln.bind(void 0,0),ln.bind(void 0,1),function(n){var r=n.prog,i=n.ip,a=n.stack,o=r[++i];t.DEBUG&&console.log(n.step,`NPUSHB[]`,o);for(var s=0;s<o;s++)a.push(r[++i]);n.ip=i},function(n){var r=n.ip,i=n.prog,a=n.stack,o=i[++r];t.DEBUG&&console.log(n.step,`NPUSHW[]`,o);for(var s=0;s<o;s++){var c=i[++r]<<8|i[++r];32768&c&&(c=-(1+(65535^c))),a.push(c)}n.ip=r},function(n){var r=n.stack,i=(i=n.store)||(n.store=[]),a=r.pop(),r=r.pop();t.DEBUG&&console.log(n.step,`WS`,a,r),i[r]=a},function(n){var r=n.stack,i=n.store,a=r.pop(),n=(t.DEBUG&&console.log(n.step,`RS`,a),i&&i[a]||0);r.push(n)},function(n){var r=(i=n.stack).pop(),i=i.pop();t.DEBUG&&console.log(n.step,`WCVTP`,r,i),n.cvt[i]=r/64},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`RCVT`,i),r.push(64*n.cvt[i])},un.bind(void 0,0),un.bind(void 0,1),void 0,dn.bind(void 0,0),dn.bind(void 0,1),function(n){t.DEBUG&&console.log(n.step,`MPPEM[]`),n.stack.push(n.ppem)},void 0,function(n){t.DEBUG&&console.log(n.step,`FLIPON[]`),n.autoFlip=!0},void 0,void 0,function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`LT[]`,i,a),r.push(a<i?1:0)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`LTEQ[]`,i,a),r.push(a<=i?1:0)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`GT[]`,i,a),r.push(i<a?1:0)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`GTEQ[]`,i,a),r.push(i<=a?1:0)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`EQ[]`,i,a),r.push(i===a?1:0)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`NEQ[]`,i,a),r.push(i===a?0:1)},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`ODD[]`,i),r.push(Math.trunc(i)%2?1:0)},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`EVEN[]`,i),r.push(Math.trunc(i)%2?0:1)},function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`IF[]`,r),r||(Yt(n,!0),t.DEBUG&&console.log(n.step,`EIF[]`))},function(n){t.DEBUG&&console.log(n.step,`EIF[]`)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`AND[]`,i,a),r.push(i&&a?1:0)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`OR[]`,i,a),r.push(i||a?1:0)},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`NOT[]`,i),r.push(i?0:1)},fn.bind(void 0,1),function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`SDB[]`,r),n.deltaBase=r},function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`SDS[]`,r),n.deltaShift=.5**r},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`ADD[]`,i,a),r.push(a+i)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`SUB[]`,i,a),r.push(a-i)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`DIV[]`,i,a),r.push(64*a/i)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`MUL[]`,i,a),r.push(a*i/64)},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`ABS[]`,i),r.push(Math.abs(i))},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`NEG[]`,i),r.push(-i)},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`FLOOR[]`,i),r.push(64*Math.floor(i/64))},function(n){var r=n.stack,i=r.pop();t.DEBUG&&console.log(n.step,`CEILING[]`,i),r.push(64*Math.ceil(i/64))},pn.bind(void 0,0),pn.bind(void 0,1),pn.bind(void 0,2),pn.bind(void 0,3),void 0,void 0,void 0,void 0,function(n){var r=(i=n.stack).pop(),i=i.pop();t.DEBUG&&console.log(n.step,`WCVTF[]`,r,i),n.cvt[i]=r*n.ppem/n.font.unitsPerEm},fn.bind(void 0,2),fn.bind(void 0,3),mn.bind(void 0,1),mn.bind(void 0,2),mn.bind(void 0,3),function(n){var r,i=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`SROUND[]`,i),n.round=zt,192&i){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw Error(`invalid SROUND value`)}switch(n.srPeriod=r,48&i){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*r;break;case 32:n.srPhase=.5*r;break;case 48:n.srPhase=.75*r;break;default:throw Error(`invalid SROUND value`)}n.srThreshold=(i&=15)==0?0:(i/8-.5)*r},function(n){var r,i=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`S45ROUND[]`,i),n.round=zt,192&i){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw Error(`invalid S45ROUND value`)}switch(n.srPeriod=r,48&i){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*r;break;case 32:n.srPhase=.5*r;break;case 48:n.srPhase=.75*r;break;default:throw Error(`invalid S45ROUND value`)}n.srThreshold=(i&=15)==0?0:(i/8-.5)*r},void 0,void 0,function(n){t.DEBUG&&console.log(n.step,`ROFF[]`),n.round=Nt},void 0,function(n){t.DEBUG&&console.log(n.step,`RUTG[]`),n.round=Lt},function(n){t.DEBUG&&console.log(n.step,`RDTG[]`),n.round=Rt},tn,tn,void 0,void 0,void 0,void 0,void 0,function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`SCANCTRL[]`,r)},hn.bind(void 0,0),hn.bind(void 0,1),function(n){var r=n.stack,i=r.pop(),a=0;t.DEBUG&&console.log(n.step,`GETINFO[]`,i),1&i&&(a=35),32&i&&(a|=4096),r.push(a)},void 0,function(n){var r=n.stack,i=r.pop(),a=r.pop(),o=r.pop();t.DEBUG&&console.log(n.step,`ROLL[]`),r.push(a),r.push(i),r.push(o)},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`MAX[]`,i,a),r.push(Math.max(a,i))},function(n){var r=n.stack,i=r.pop(),a=r.pop();t.DEBUG&&console.log(n.step,`MIN[]`,i,a),r.push(Math.min(a,i))},function(n){var r=n.stack.pop();t.DEBUG&&console.log(n.step,`SCANTYPE[]`,r)},function(n){var r=n.stack.pop(),i=n.stack.pop();switch(t.DEBUG&&console.log(n.step,`INSTCTRL[]`,r,i),r){case 1:n.inhibitGridFit=!!i;return;case 2:n.ignoreCvt=!!i;return;default:throw Error(`invalid INSTCTRL[] selector`)}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,gn.bind(void 0,1),gn.bind(void 0,2),gn.bind(void 0,3),gn.bind(void 0,4),gn.bind(void 0,5),gn.bind(void 0,6),gn.bind(void 0,7),gn.bind(void 0,8),_n.bind(void 0,1),_n.bind(void 0,2),_n.bind(void 0,3),_n.bind(void 0,4),_n.bind(void 0,5),_n.bind(void 0,6),_n.bind(void 0,7),_n.bind(void 0,8),Q.bind(void 0,0,0,0,0,0),Q.bind(void 0,0,0,0,0,1),Q.bind(void 0,0,0,0,0,2),Q.bind(void 0,0,0,0,0,3),Q.bind(void 0,0,0,0,1,0),Q.bind(void 0,0,0,0,1,1),Q.bind(void 0,0,0,0,1,2),Q.bind(void 0,0,0,0,1,3),Q.bind(void 0,0,0,1,0,0),Q.bind(void 0,0,0,1,0,1),Q.bind(void 0,0,0,1,0,2),Q.bind(void 0,0,0,1,0,3),Q.bind(void 0,0,0,1,1,0),Q.bind(void 0,0,0,1,1,1),Q.bind(void 0,0,0,1,1,2),Q.bind(void 0,0,0,1,1,3),Q.bind(void 0,0,1,0,0,0),Q.bind(void 0,0,1,0,0,1),Q.bind(void 0,0,1,0,0,2),Q.bind(void 0,0,1,0,0,3),Q.bind(void 0,0,1,0,1,0),Q.bind(void 0,0,1,0,1,1),Q.bind(void 0,0,1,0,1,2),Q.bind(void 0,0,1,0,1,3),Q.bind(void 0,0,1,1,0,0),Q.bind(void 0,0,1,1,0,1),Q.bind(void 0,0,1,1,0,2),Q.bind(void 0,0,1,1,0,3),Q.bind(void 0,0,1,1,1,0),Q.bind(void 0,0,1,1,1,1),Q.bind(void 0,0,1,1,1,2),Q.bind(void 0,0,1,1,1,3),Q.bind(void 0,1,0,0,0,0),Q.bind(void 0,1,0,0,0,1),Q.bind(void 0,1,0,0,0,2),Q.bind(void 0,1,0,0,0,3),Q.bind(void 0,1,0,0,1,0),Q.bind(void 0,1,0,0,1,1),Q.bind(void 0,1,0,0,1,2),Q.bind(void 0,1,0,0,1,3),Q.bind(void 0,1,0,1,0,0),Q.bind(void 0,1,0,1,0,1),Q.bind(void 0,1,0,1,0,2),Q.bind(void 0,1,0,1,0,3),Q.bind(void 0,1,0,1,1,0),Q.bind(void 0,1,0,1,1,1),Q.bind(void 0,1,0,1,1,2),Q.bind(void 0,1,0,1,1,3),Q.bind(void 0,1,1,0,0,0),Q.bind(void 0,1,1,0,0,1),Q.bind(void 0,1,1,0,0,2),Q.bind(void 0,1,1,0,0,3),Q.bind(void 0,1,1,0,1,0),Q.bind(void 0,1,1,0,1,1),Q.bind(void 0,1,1,0,1,2),Q.bind(void 0,1,1,0,1,3),Q.bind(void 0,1,1,1,0,0),Q.bind(void 0,1,1,1,0,1),Q.bind(void 0,1,1,1,0,2),Q.bind(void 0,1,1,1,0,3),Q.bind(void 0,1,1,1,1,0),Q.bind(void 0,1,1,1,1,1),Q.bind(void 0,1,1,1,1,2),Q.bind(void 0,1,1,1,1,3)],Sn=Array.from||function(t){return t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function $(t){(t||={}).empty||(Tt(t.familyName,`When creating a new Font object, familyName is required.`),Tt(t.styleName,`When creating a new Font object, styleName is required.`),Tt(t.unitsPerEm,`When creating a new Font object, unitsPerEm is required.`),Tt(t.ascender,`When creating a new Font object, ascender is required.`),Tt(t.descender,`When creating a new Font object, descender is required.`),Tt(t.descender<0,`Descender should be negative (e.g. -512).`),this.names={fontFamily:{en:t.familyName||` `},fontSubfamily:{en:t.styleName||` `},fullName:{en:t.fullName||t.familyName+` `+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,``)},designer:{en:t.designer||` `},designerURL:{en:t.designerURL||` `},manufacturer:{en:t.manufacturer||` `},manufacturerURL:{en:t.manufacturerURL||` `},license:{en:t.license||` `},licenseURL:{en:t.licenseURL||` `},version:{en:t.version||`Version 0.1`},description:{en:t.description||` `},copyright:{en:t.copyright||` `},trademark:{en:t.trademark||` `}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables={os2:{usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Se.GlyphSet(this,t.glyphs||[]),this.encoding=new me(this),this.position=new xt(this),this.substitution=new St(this),this.tables=this.tables||{},Object.defineProperty(this,`hinting`,{get:function(){return this._hinting||(this.outlinesFormat===`truetype`?this._hinting=new Mt(this):void 0)}})}function Cn(t,n){var r,i=JSON.stringify(t),a=256;for(r in n){var o=parseInt(r);if(o&&!(o<256)){if(JSON.stringify(n[r])===i)return o;a<=o&&(a=o+1)}}return n[a]=t,a}$.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null},$.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)},$.prototype.charToGlyph=function(t){return t=this.charToGlyphIndex(t),this.glyphs.get(t)||this.glyphs.get(0)},$.prototype.stringToGlyphs=function(t,n){n||=this.defaultRenderOptions;for(var r=Sn(t),i=[],a=0;a<r.length;a+=1){var o=r[a];i.push(this.charToGlyphIndex(o))}var s=i.length;if(n.features){var t=n.script||this.substitution.getDefaultScriptName(),c=[];n.features.liga&&(c=c.concat(this.substitution.getFeature(`liga`,t,n.language))),n.features.rlig&&(c=c.concat(this.substitution.getFeature(`rlig`,t,n.language)));for(var l=0;l<s;l+=1)for(var u=0;u<c.length;u++){for(var d=c[u],f=d.sub,p=f.length,m=0;m<p&&f[m]===i[l+m];)m++;m===p&&(i.splice(l,p,d.by),s=s-p+1)}}for(var h=Array(s),g=this.glyphs.get(0),_=0;_<s;_+=1)h[_]=this.glyphs.get(i[_])||g;return h},$.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)},$.prototype.nameToGlyph=function(t){return t=this.nameToGlyphIndex(t),this.glyphs.get(t)||this.glyphs.get(0)},$.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):``},$.prototype.getKerningValue=function(t,n){t=t.index||t,n=n.index||n;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,t,n):this.kerningPairs[t+`,`+n]||0},$.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},$.prototype.forEachGlyph=function(t,n,r,i,a,o){n=n===void 0?0:n,r=r===void 0?0:r,a||=this.defaultRenderOptions;var s,c=1/this.unitsPerEm*(i=i===void 0?72:i),l=this.stringToGlyphs(t,a);a.kerning&&(t=a.script||this.position.getDefaultScriptName(),s=this.position.getKerningTables(t,a.language));for(var u=0;u<l.length;u+=1){var d=l[u];o.call(this,d,n,r,i,a),d.advanceWidth&&(n+=d.advanceWidth*c),a.kerning&&u<l.length-1&&(n+=(s?this.position.getKerningValue(s,d.index,l[u+1].index):this.getKerningValue(d,l[u+1]))*c),a.letterSpacing?n+=a.letterSpacing*i:a.tracking&&(n+=a.tracking/1e3*i)}return n},$.prototype.getPath=function(t,n,r,i,a){var o=new j;return this.forEachGlyph(t,n,r,i,a,function(t,n,r,i){t=t.getPath(n,r,i,a,this),o.extend(t)}),o},$.prototype.getPaths=function(t,n,r,i,a){var o=[];return this.forEachGlyph(t,n,r,i,a,function(t,n,r,i){t=t.getPath(n,r,i,a,this),o.push(t)}),o},$.prototype.getAdvanceWidth=function(t,n,r){return this.forEachGlyph(t,0,0,n,r,function(){})},$.prototype.draw=function(t,n,r,i,a,o){this.getPath(n,r,i,a,o).draw(t)},$.prototype.drawPoints=function(t,n,r,i,a,o){this.forEachGlyph(n,r,i,a,o,function(n,r,i,a){n.drawPoints(t,r,i,a)})},$.prototype.drawMetrics=function(t,n,r,i,a,o){this.forEachGlyph(n,r,i,a,o,function(n,r,i,a){n.drawMetrics(t,r,i,a)})},$.prototype.getEnglishName=function(t){if(t=this.names[t],t)return t.en},$.prototype.validate=function(){var t=this;function n(n){n=t.getEnglishName(n),n&&n.trim().length}n(`fontFamily`),n(`weightName`),n(`manufacturer`),n(`copyright`),n(`version`),this.unitsPerEm},$.prototype.toTables=function(){return gt.fontToTable(this)},$.prototype.toBuffer=function(){return console.warn(`Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.`),this.toArrayBuffer()},$.prototype.toArrayBuffer=function(){for(var t=this.toTables().encode(),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t[i];return n},$.prototype.download=function(t){var r=this.getEnglishName(`fontFamily`),i=this.getEnglishName(`fontSubfamily`),o=(t||=r.replace(/\s/g,``)+`-`+i+`.otf`,this.toArrayBuffer());typeof window<`u`?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,o.byteLength,function(n){n.root.getFile(t,{create:!0},function(t){t.createWriter(function(n){var r=new DataView(o),r=new Blob([r],{type:`font/opentype`});n.write(r),n.addEventListener(`writeend`,function(){location.href=t.toURL()},!1)})})},function(t){throw Error(t.name+`: `+t.message)})):(r=n(`fs`),i=function(t){for(var n=new a(t.byteLength),r=new Uint8Array(t),i=0;i<n.length;++i)n[i]=r[i];return n}(o),r.writeFileSync(t,i))},$.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},$.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},$.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var wn={make:function(t,n){var r=new q.Table(`fvar`,[{name:`version`,type:`ULONG`,value:65536},{name:`offsetToData`,type:`USHORT`,value:0},{name:`countSizePairs`,type:`USHORT`,value:2},{name:`axisCount`,type:`USHORT`,value:t.axes.length},{name:`axisSize`,type:`USHORT`,value:20},{name:`instanceCount`,type:`USHORT`,value:t.instances.length},{name:`instanceSize`,type:`USHORT`,value:4+4*t.axes.length}]);r.offsetToData=r.sizeOf();for(var i,a,o,s=0;s<t.axes.length;s++)r.fields=r.fields.concat((i=s,a=t.axes[s],o=n,o=Cn(a.name,n),[{name:`tag_`+i,type:`TAG`,value:a.tag},{name:`minValue_`+i,type:`FIXED`,value:a.minValue<<16},{name:`defaultValue_`+i,type:`FIXED`,value:a.defaultValue<<16},{name:`maxValue_`+i,type:`FIXED`,value:a.maxValue<<16},{name:`flags_`+i,type:`USHORT`,value:0},{name:`nameID_`+i,type:`USHORT`,value:o}]));for(var c=0;c<t.instances.length;c++)r.fields=r.fields.concat(function(t,n,r,i){for(var a=[{name:`nameID_`+t,type:`USHORT`,value:Cn(n.name,i)},{name:`flags_`+t,type:`USHORT`,value:0}],o=0;o<r.length;++o){var s=r[o].tag;a.push({name:`axis_`+t+` `+s,type:`FIXED`,value:n.coordinates[s]<<16})}return a}(c,t.instances[c],t.axes,n));return r},parse:function(t,n,r){for(var i,a,o,s,c=new X.Parser(t,n),l=c.parseULong(),u=(P.argument(l===65536,`Unsupported fvar table version.`),c.parseOffset16()),d=(c.skip(`uShort`,1),c.parseUShort()),f=c.parseUShort(),p=c.parseUShort(),m=c.parseUShort(),h=[],g=0;g<d;g++)h.push((i=t,a=n+u+g*f,o=r,s={},i=new X.Parser(i,a),s.tag=i.parseTag(),s.minValue=i.parseFixed(),s.defaultValue=i.parseFixed(),s.maxValue=i.parseFixed(),i.skip(`uShort`,1),s.name=o[i.parseUShort()]||{},s));for(var _=[],v=n+u+d*f,y=0;y<p;y++)_.push(function(t,n,r,i){var a={},o=new X.Parser(t,n);a.name=i[o.parseUShort()]||{},o.skip(`uShort`,1),a.coordinates={};for(var s=0;s<r.length;++s)a.coordinates[r[s].tag]=o.parseFixed();return a}(t,v+y*m,h,r));return{axes:h,instances:_}}},Tn=Array(10);Tn[1]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();return n===1?{posFormat:1,coverage:this.parsePointer(Y.coverage),value:this.parseValueRecord()}:n===2?{posFormat:2,coverage:this.parsePointer(Y.coverage),values:this.parseValueRecordList()}:void P.assert(!1,`0x`+t.toString(16)+`: GPOS lookup type 1 format must be 1 or 2.`)},Tn[2]=function(){var t,n,r,i,a=this.offset+this.relativeOffset,o=this.parseUShort(),a=(P.assert(o===1||o===2,`0x`+a.toString(16)+`: GPOS lookup type 2 format must be 1 or 2.`),this.parsePointer(Y.coverage)),s=this.parseUShort(),c=this.parseUShort();return o===1?{posFormat:o,coverage:a,valueFormat1:s,valueFormat2:c,pairSets:this.parseList(Y.pointer(Y.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(s),value2:this.parseValueRecord(c)}})))}:o===2?(t=this.parsePointer(Y.classDef),n=this.parsePointer(Y.classDef),r=this.parseUShort(),i=this.parseUShort(),{posFormat:o,coverage:a,valueFormat1:s,valueFormat2:c,classDef1:t,classDef2:n,class1Count:r,class2Count:i,classRecords:this.parseList(r,Y.list(i,function(){return{value1:this.parseValueRecord(s),value2:this.parseValueRecord(c)}}))}):void 0},Tn[3]=function(){return{error:`GPOS Lookup 3 not supported`}},Tn[4]=function(){return{error:`GPOS Lookup 4 not supported`}},Tn[5]=function(){return{error:`GPOS Lookup 5 not supported`}},Tn[6]=function(){return{error:`GPOS Lookup 6 not supported`}},Tn[7]=function(){return{error:`GPOS Lookup 7 not supported`}},Tn[8]=function(){return{error:`GPOS Lookup 8 not supported`}},Tn[9]=function(){return{error:`GPOS Lookup 9 not supported`}};var En=Array(10),Dn={parse:function(t,n){return n=(t=new Y(t,n||=0)).parseVersion(1),P.argument(n===1||n===1.1,`Unsupported GPOS table version `+n),n===1?{version:n,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Tn)}:{version:n,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Tn),variations:t.parseFeatureVariationsList()}},make:function(t){return new q.Table(`GPOS`,[{name:`version`,type:`ULONG`,value:65536},{name:`scripts`,type:`TABLE`,value:new q.ScriptList(t.scripts)},{name:`features`,type:`TABLE`,value:new q.FeatureList(t.features)},{name:`lookups`,type:`TABLE`,value:new q.LookupList(t.lookups,En)}])}},On={parse:function(t,n){if(t=new X.Parser(t,n),(n=t.parseUShort())===0){var r=t,i={},a=(r.skip(`uShort`),r.parseUShort()),o=(P.argument(a===0,`Unsupported kern sub-table version.`),r.skip(`uShort`,2),r.parseUShort());r.skip(`uShort`,3);for(var s=0;s<o;s+=1){var c=r.parseUShort(),l=r.parseUShort(),u=r.parseShort();i[c+`,`+l]=u}return i}if(n!==1)throw Error(`Unsupported kern table version (`+n+`).`);var d=t,f={},a=(d.skip(`uShort`),1<d.parseULong()&&console.warn(`Only the first kern subtable is supported.`),d.skip(`uLong`),255&d.parseUShort());if(d.skip(`uShort`),a==0){var p=d.parseUShort();d.skip(`uShort`,3);for(var m=0;m<p;m+=1){var h=d.parseUShort(),g=d.parseUShort(),_=d.parseShort();f[h+`,`+g]=_}}return f}},kn={parse:function(t,n,r,i){for(var a=new X.Parser(t,n),o=i?a.parseUShort:a.parseULong,s=[],c=0;c<r+1;c+=1){var l=o.call(a);i&&(l*=2),s.push(l)}return s}};function An(t,r){n(`fs`).readFile(t,function(t,n){if(t)return r(t.message);r(null,wt(n))})}function jn(t,n){var r=new XMLHttpRequest;r.open(`get`,t,!0),r.responseType=`arraybuffer`,r.onload=function(){return r.response?n(null,r.response):n(`Font could not be loaded: `+r.statusText)},r.onerror=function(){n(`Font could not be loaded`)},r.send()}function Mn(t,n){for(var r=[],i=12,a=0;a<n;a+=1){var o=X.getTag(t,i),s=X.getULong(t,i+4),c=X.getULong(t,i+8),l=X.getULong(t,i+12);r.push({tag:o,checksum:s,offset:c,length:l,compression:!1}),i+=16}return r}function Nn(t,n){if(n.compression!==`WOFF`)return{data:t,offset:n.offset};var t=new Uint8Array(t.buffer,n.offset+2,n.compressedLength-2),r=new Uint8Array(n.length);if(O(t,r),r.byteLength!==n.length)throw Error(`Decompression error: `+n.tag+` decompressed length doesn't match recorded length`);return{data:new DataView(r.buffer,0),offset:0}}function Pn(t){var n,r,i,a,o,s,c,l,u,d,f,p,m,h,g=new $({empty:!0}),_=new DataView(t,0),v=[],t=X.getTag(_,0);if(t===`\0\0\0`||t===`true`||t===`typ1`)g.outlinesFormat=`truetype`,v=Mn(_,i=X.getUShort(_,4));else if(t===`OTTO`)g.outlinesFormat=`cff`,v=Mn(_,i=X.getUShort(_,4));else{if(t!==`wOFF`)throw Error(`Unsupported OpenType signature `+t);var y=X.getTag(_,4);if(y===`\0\0\0`)g.outlinesFormat=`truetype`;else{if(y!==`OTTO`)throw Error(`Unsupported OpenType flavor `+t);g.outlinesFormat=`cff`}v=function(t,n){for(var r=[],i=44,a=0;a<n;a+=1){var o=X.getTag(t,i),s=X.getULong(t,i+4),c=X.getULong(t,i+8),l=X.getULong(t,i+12),u=void 0,u=c<l&&`WOFF`;r.push({tag:o,offset:s,compression:u,compressedLength:c,length:l}),i+=20}return r}(_,i=X.getUShort(_,12))}for(var b=0;b<i;b+=1){var x=v[b],S=void 0;switch(x.tag){case`cmap`:S=Nn(_,x),g.tables.cmap=ue.parse(S.data,S.offset),g.encoding=new he(g.tables.cmap);break;case`cvt `:S=Nn(_,x),h=new X.Parser(S.data,S.offset),g.tables.cvt=h.parseShortList(x.length/2);break;case`fvar`:o=x;break;case`fpgm`:S=Nn(_,x),h=new X.Parser(S.data,S.offset),g.tables.fpgm=h.parseByteList(x.length);break;case`head`:S=Nn(_,x),g.tables.head=Be.parse(S.data,S.offset),g.unitsPerEm=g.tables.head.unitsPerEm,n=g.tables.head.indexToLocFormat;break;case`hhea`:S=Nn(_,x),g.tables.hhea=Ve.parse(S.data,S.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case`hmtx`:u=x;break;case`ltag`:S=Nn(_,x),r=Ue.parse(S.data,S.offset);break;case`maxp`:S=Nn(_,x),g.tables.maxp=We.parse(S.data,S.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case`name`:p=x;break;case`OS/2`:S=Nn(_,x),g.tables.os2=it.parse(S.data,S.offset);break;case`post`:S=Nn(_,x),g.tables.post=at.parse(S.data,S.offset),g.glyphNames=new _e(g.tables.post);break;case`prep`:S=Nn(_,x),h=new X.Parser(S.data,S.offset),g.tables.prep=h.parseByteList(x.length);break;case`glyf`:s=x;break;case`loca`:f=x;break;case`CFF `:a=x;break;case`kern`:d=x;break;case`GPOS`:c=x;break;case`GSUB`:l=x;break;case`meta`:m=x}}if(y=Nn(_,p),g.tables.name=nt.parse(y.data,y.offset,r),g.names=g.tables.name,s&&f)t=n===0,y=Nn(_,f),y=kn.parse(y.data,y.offset,g.numGlyphs,t),t=Nn(_,s),g.glyphs=jt.parse(t.data,t.offset,y,g);else{if(!a)throw Error(`Font doesn't contain TrueType or CFF outlines.`);t=Nn(_,a),ze.parse(t.data,t.offset,g)}for(var y=Nn(_,u),C=(He.parse(y.data,y.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs),g),w=C.tables.cmap.glyphIndexMap,T=Object.keys(w),E=0;E<T.length;E+=1){var D,O=T[E],k=w[O];(D=C.glyphs.get(k)).addUnicode(parseInt(O))}for(var A=0;A<C.glyphs.length;A+=1)D=C.glyphs.get(A),C.cffEncoding?C.isCIDFont?D.name=`gid`+A:D.name=C.cffEncoding.charset[A]:C.glyphNames.names&&(D.name=C.glyphNames.glyphIndexToName(A));return d?(t=Nn(_,d),g.kerningPairs=On.parse(t.data,t.offset)):g.kerningPairs={},c&&(y=Nn(_,c),g.tables.gpos=Dn.parse(y.data,y.offset),g.position.init()),l&&(t=Nn(_,l),g.tables.gsub=lt.parse(t.data,t.offset)),o&&(y=Nn(_,o),g.tables.fvar=wn.parse(y.data,y.offset,g.names)),m&&(t=Nn(_,m),g.tables.meta=ut.parse(t.data,t.offset),g.metas=g.tables.meta),g}t.Font=$,t.Glyph=ye,t.Path=j,t.BoundingBox=A,t._parse=X,t.parse=Pn,t.load=function(t,n){(typeof window>`u`?An:jn)(t,function(t,r){if(t)return n(t);var i;try{i=Pn(r)}catch(t){return n(t,null)}return n(null,i)})},t.loadSync=function(t){return Pn(wt(n(`fs`).readFileSync(t)))},Object.defineProperty(t,`__esModule`,{value:!0})};typeof i==`object`&&r!==void 0?s(i):typeof t==`function`&&t.amd?t([`exports`],s):s(o.opentype={})}).call(this,n(`buffer`).Buffer)},{buffer:4,fs:2}],258:[function(t,n,r){(function(t){function n(t,n){for(var r=0,i=t.length-1;0<=i;i--){var a=t[i];a===`.`?t.splice(i,1):a===`..`?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(n)for(;r--;)t.unshift(`..`);return t}function i(t,n){if(t.filter)return t.filter(n);for(var r=[],i=0;i<t.length;i++)n(t[i],i,t)&&r.push(t[i]);return r}r.resolve=function(){for(var r=``,a=!1,o=arguments.length-1;-1<=o&&!a;o--){var s=0<=o?arguments[o]:t.cwd();if(typeof s!=`string`)throw TypeError(`Arguments to path.resolve must be strings`);s&&(r=s+`/`+r,a=s.charAt(0)===`/`)}return(a?`/`:``)+(r=n(i(r.split(`/`),function(t){return!!t}),!a).join(`/`))||`.`},r.normalize=function(t){var o=r.isAbsolute(t),s=a(t,-1)===`/`;return(t=(t=n(i(t.split(`/`),function(t){return!!t}),!o).join(`/`))||o?t:`.`)&&s&&(t+=`/`),(o?`/`:``)+t},r.isAbsolute=function(t){return t.charAt(0)===`/`},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,n){if(typeof t!=`string`)throw TypeError(`Arguments to path.join must be strings`);return t}).join(`/`))},r.relative=function(t,n){function i(t){for(var n=0;n<t.length&&t[n]===``;n++);for(var r=t.length-1;0<=r&&t[r]===``;r--);return r<n?[]:t.slice(n,r-n+1)}t=r.resolve(t).substr(1),n=r.resolve(n).substr(1);for(var a=i(t.split(`/`)),o=i(n.split(`/`)),s=Math.min(a.length,o.length),c=s,l=0;l<s;l++)if(a[l]!==o[l]){c=l;break}for(var u=[],l=c;l<a.length;l++)u.push(`..`);return(u=u.concat(o.slice(c))).join(`/`)},r.sep=`/`,r.delimiter=`:`,r.dirname=function(t){if(typeof t!=`string`&&(t+=``),t.length===0)return`.`;for(var n=t.charCodeAt(0)===47,r=-1,i=!0,a=t.length-1;1<=a;--a)if(t.charCodeAt(a)===47){if(!i){r=a;break}}else i=!1;return r===-1?n?`/`:`.`:n&&r===1?`/`:t.slice(0,r)},r.basename=function(t,n){return t=function(t){typeof t!=`string`&&(t+=``);for(var n=0,r=-1,i=!0,a=t.length-1;0<=a;--a)if(t.charCodeAt(a)===47){if(!i){n=a+1;break}}else r===-1&&(i=!1,r=a+1);return r===-1?``:t.slice(n,r)}(t),t=n&&t.substr(-1*n.length)===n?t.substr(0,t.length-n.length):t},r.extname=function(t){typeof t!=`string`&&(t+=``);for(var n=-1,r=0,i=-1,a=!0,o=0,s=t.length-1;0<=s;--s){var c=t.charCodeAt(s);if(c===47){if(a)continue;r=s+1;break}i===-1&&(a=!1,i=s+1),c===46?n===-1?n=s:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||i===-1||o===0||o===1&&n===i-1&&n===r+1?``:t.slice(n,i)};var a=`ab`.substr(-1)===`b`?function(t,n,r){return t.substr(n,r)}:function(t,n,r){return n<0&&(n=t.length+n),t.substr(n,r)}}).call(this,t(`_process`))},{_process:259}],259:[function(t,n,r){var i,a,n=n.exports={};function o(){throw Error(`setTimeout has not been defined`)}function s(){throw Error(`clearTimeout has not been defined`)}try{i=typeof setTimeout==`function`?setTimeout:o}catch{i=o}try{a=typeof clearTimeout==`function`?clearTimeout:s}catch{a=s}function c(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return(i=setTimeout)(t,0);try{return i(t,0)}catch{try{return i.call(null,t,0)}catch{return i.call(this,t,0)}}}var l,u=[],d=!1,f=-1;function p(){d&&l&&(d=!1,l.length?u=l.concat(u):f=-1,u.length&&m())}function m(){if(!d){for(var t=c(p),n=(d=!0,u.length);n;){for(l=u,u=[];++f<n;)l&&l[f].run();f=-1,n=u.length}l=null,d=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===s||!a)&&clearTimeout)return(a=clearTimeout)(t);try{a(t)}catch{try{return a.call(null,t)}catch{return a.call(this,t)}}}(t)}}function h(t,n){this.fun=t,this.array=n}function g(){}n.nextTick=function(t){var n=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];u.push(new h(t,n)),u.length!==1||d||c(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title=`browser`,n.browser=!0,n.env={},n.argv=[],n.version=``,n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw Error(`process.binding is not supported`)},n.cwd=function(){return`/`},n.chdir=function(t){throw Error(`process.chdir is not supported`)},n.umask=function(){return 0}},{}],260:[function(t,n,r){n=function(t){var n,r=Object.prototype,i=r.hasOwnProperty,a=typeof Symbol==`function`?Symbol:{},o=a.iterator||`@@iterator`,s=a.asyncIterator||`@@asyncIterator`,c=a.toStringTag||`@@toStringTag`;function l(t,r,i,a){var o,s,c,l,r=r&&r.prototype instanceof g?r:g,r=Object.create(r.prototype),a=new T(a||[]);return r._invoke=(o=t,s=i,c=a,l=d,function(t,r){if(l===p)throw Error(`Generator is already running`);if(l===m){if(t===`throw`)throw r;return D()}for(c.method=t,c.arg=r;;){var i=c.delegate;if(i&&(i=function t(r,i){var a=r.iterator[i.method];if(a===n){if(i.delegate=null,i.method===`throw`){if(r.iterator.return&&(i.method=`return`,i.arg=n,t(r,i),i.method===`throw`))return h;i.method=`throw`,i.arg=TypeError(`The iterator does not provide a 'throw' method`)}return h}return a=u(a,r.iterator,i.arg),a.type===`throw`?(i.method=`throw`,i.arg=a.arg,i.delegate=null,h):(a=a.arg,a?a.done?(i[r.resultName]=a.value,i.next=r.nextLoc,i.method!==`return`&&(i.method=`next`,i.arg=n),i.delegate=null,h):a:(i.method=`throw`,i.arg=TypeError(`iterator result is not an object`),i.delegate=null,h))}(i,c),i)){if(i===h)continue;return i}if(c.method===`next`)c.sent=c._sent=c.arg;else if(c.method===`throw`){if(l===d)throw l=m,c.arg;c.dispatchException(c.arg)}else c.method===`return`&&c.abrupt(`return`,c.arg);if(l=p,i=u(o,s,c),i.type===`normal`){if(l=c.done?m:f,i.arg!==h)return{value:i.arg,done:c.done}}else i.type===`throw`&&(l=m,c.method=`throw`,c.arg=i.arg)}}),r}function u(t,n,r){try{return{type:`normal`,arg:t.call(n,r)}}catch(t){return{type:`throw`,arg:t}}}t.wrap=l;var d=`suspendedStart`,f=`suspendedYield`,p=`executing`,m=`completed`,h={};function g(){}function _(){}function v(){}var a={},y=(a[o]=function(){return this},Object.getPrototypeOf),y=y&&y(y(E([]))),b=(y&&y!==r&&i.call(y,o)&&(a=y),v.prototype=g.prototype=Object.create(a));function x(t){[`next`,`throw`,`return`].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function S(t){var n;this._invoke=function(r,a){function o(){return new Promise(function(n,o){(function n(r,a,o,s){var c,r=u(t[r],t,a);if(r.type!==`throw`)return(a=(c=r.arg).value)&&typeof a==`object`&&i.call(a,`__await`)?Promise.resolve(a.__await).then(function(t){n(`next`,t,o,s)},function(t){n(`throw`,t,o,s)}):Promise.resolve(a).then(function(t){c.value=t,o(c)},function(t){return n(`throw`,t,o,s)});s(r.arg)})(r,a,n,o)})}return n=n?n.then(o,o):o()}}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type=`normal`,delete n.arg,t.completion=n}function T(t){this.tryEntries=[{tryLoc:`root`}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var r,a=t[o];if(a)return a.call(t);if(typeof t.next==`function`)return t;if(!isNaN(t.length))return r=-1,(a=function a(){for(;++r<t.length;)if(i.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=n,a.done=!0,a}).next=a}return{next:D}}function D(){return{value:n,done:!0}}return(_.prototype=b.constructor=v).constructor=_,v[c]=_.displayName=`GeneratorFunction`,t.isGeneratorFunction=function(t){return t=typeof t==`function`&&t.constructor,!!t&&(t===_||(t.displayName||t.name)===`GeneratorFunction`)},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]=`GeneratorFunction`)),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(n,r,i,a){var o=new S(l(n,r,i,a));return t.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(b),b[c]=`Generator`,b[o]=function(){return this},b.toString=function(){return`[object Generator]`},t.keys=function(t){var n,r=[];for(n in t)r.push(n);return r.reverse(),function n(){for(;r.length;){var i=r.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method=`next`,this.arg=n,this.tryEntries.forEach(w),!t)for(var r in this)r.charAt(0)===`t`&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(t.type===`throw`)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(i,a){return c.type=`throw`,c.arg=t,r.next=i,a&&(r.method=`next`,r.arg=n),!!a}for(var o=this.tryEntries.length-1;0<=o;--o){var s=this.tryEntries[o],c=s.completion;if(s.tryLoc===`root`)return a(`end`);if(s.tryLoc<=this.prev){var l=i.call(s,`catchLoc`),u=i.call(s,`finallyLoc`);if(l&&u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!u)throw Error(`try statement without catch or finally`);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&i.call(a,`finallyLoc`)&&this.prev<a.finallyLoc){var o=a;break}}var s=(o=o&&(t===`break`||t===`continue`)&&o.tryLoc<=n&&n<=o.finallyLoc?null:o)?o.completion:{};return s.type=t,s.arg=n,o?(this.method=`next`,this.next=o.finallyLoc,h):this.complete(s)},complete:function(t,n){if(t.type===`throw`)throw t.arg;return t.type===`break`||t.type===`continue`?this.next=t.arg:t.type===`return`?(this.rval=this.arg=t.arg,this.method=`return`,this.next=`end`):t.type===`normal`&&n&&(this.next=n),h},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),h}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var r,i,a=this.tryEntries[n];if(a.tryLoc===t)return(r=a.completion).type===`throw`&&(i=r.arg,w(a)),i}throw Error(`illegal catch attempt`)},delegateYield:function(t,r,i){return this.delegate={iterator:E(t),resultName:r,nextLoc:i},this.method===`next`&&(this.arg=n),h}},t}(typeof n==`object`?n.exports:{});try{regeneratorRuntime=n}catch{Function(`r`,`regeneratorRuntime = r`)(n)}},{}],261:[function(t,n,r){(function(t){var n,r,i,a,o,s,c,l,u,d;function f(t){if(typeof t!=`string`&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw TypeError(`Invalid character in header field name`);return t.toLowerCase()}function p(t){return t=typeof t==`string`?t:String(t)}function m(t){var n={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return r&&(n[Symbol.iterator]=function(){return n}),n}function h(t){this.map={},t instanceof h?t.forEach(function(t,n){this.append(n,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(n){this.append(n,t[n])},this)}function g(t){if(t.bodyUsed)return Promise.reject(TypeError(`Already read`));t.bodyUsed=!0}function _(t){return new Promise(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function v(t){var n=new FileReader,r=_(n);return n.readAsArrayBuffer(t),r}function y(t){var n;return t.slice?t.slice(0):((n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),n.buffer)}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if(typeof t==`string`)this._bodyText=t;else if(i&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(a&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(n&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(o&&i&&c(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(t)&&!l(t))throw Error(`unsupported BodyInit type`);this._bodyArrayBuffer=y(t)}else this._bodyText=``;this.headers.get(`content-type`)||(typeof t==`string`?this.headers.set(`content-type`,`text/plain;charset=UTF-8`):this._bodyBlob&&this._bodyBlob.type?this.headers.set(`content-type`,this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set(`content-type`,`application/x-www-form-urlencoded;charset=UTF-8`))},i&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error(`could not read FormData body as blob`);return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,n,r=g(this);if(r)return r;if(this._bodyBlob)return r=this._bodyBlob,t=new FileReader,n=_(t),t.readAsText(r),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),r=Array(n.length),i=0;i<n.length;i++)r[i]=String.fromCharCode(n[i]);return r.join(``)}(this._bodyArrayBuffer));if(this._bodyFormData)throw Error(`could not read FormData body as text`);return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}function x(t,n){var r,i=(n||={}).body;if(t instanceof x){if(t.bodyUsed)throw TypeError(`Already read`);this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,i||t._bodyInit==null||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=n.credentials||this.credentials||`omit`,!n.headers&&this.headers||(this.headers=new h(n.headers)),this.method=(t=n.method||this.method||`GET`,r=t.toUpperCase(),-1<u.indexOf(r)?r:t),this.mode=n.mode||this.mode||null,this.referrer=null,(this.method===`GET`||this.method===`HEAD`)&&i)throw TypeError(`Body not allowed for GET or HEAD requests`);this._initBody(i)}function S(t){var n=new FormData;return t.trim().split(`&`).forEach(function(t){var r;t&&(r=(t=t.split(`=`)).shift().replace(/\+/g,` `),t=t.join(`=`).replace(/\+/g,` `),n.append(decodeURIComponent(r),decodeURIComponent(t)))}),n}function C(t,n){n||={},this.type=`default`,this.status=n.status===void 0?200:n.status,this.ok=200<=this.status&&this.status<300,this.statusText=`statusText`in n?n.statusText:`OK`,this.headers=new h(n.headers),this.url=n.url||``,this._initBody(t)}t.fetch||(n=`URLSearchParams`in t,r=`Symbol`in t&&`iterator`in Symbol,i=`FileReader`in t&&`Blob`in t&&function(){try{return new Blob,!0}catch{return!1}}(),a=`FormData`in t,(o=`ArrayBuffer`in t)&&(s=[`[object Int8Array]`,`[object Uint8Array]`,`[object Uint8ClampedArray]`,`[object Int16Array]`,`[object Uint16Array]`,`[object Int32Array]`,`[object Uint32Array]`,`[object Float32Array]`,`[object Float64Array]`],c=function(t){return t&&DataView.prototype.isPrototypeOf(t)},l=ArrayBuffer.isView||function(t){return t&&-1<s.indexOf(Object.prototype.toString.call(t))}),h.prototype.append=function(t,n){t=f(t),n=p(n);var r=this.map[t];this.map[t]=r?r+`,`+n:n},h.prototype.delete=function(t){delete this.map[f(t)]},h.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},h.prototype.set=function(t,n){this.map[f(t)]=p(n)},h.prototype.forEach=function(t,n){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(n,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach(function(n,r){t.push(r)}),m(t)},h.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),m(t)},h.prototype.entries=function(){var t=[];return this.forEach(function(n,r){t.push([r,n])}),m(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries),u=[`DELETE`,`GET`,`HEAD`,`OPTIONS`,`POST`,`PUT`],x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},C.error=function(){var t=new C(null,{status:0,statusText:``});return t.type=`error`,t},d=[301,302,303,307,308],C.redirect=function(t,n){if(d.indexOf(n)===-1)throw RangeError(`Invalid status code`);return new C(null,{status:n,headers:{location:t}})},t.Headers=h,t.Request=x,t.Response=C,t.fetch=function(t,n){return new Promise(function(r,a){var o=new x(t,n),s=new XMLHttpRequest;s.onload=function(){var t,n={status:s.status,statusText:s.statusText,headers:(n=s.getAllResponseHeaders()||``,t=new h,n.replace(/\r?\n[\t ]+/g,` `).split(/\r?\n/).forEach(function(n){var n=n.split(`:`),r=n.shift().trim();r&&(n=n.join(`:`).trim(),t.append(r,n))}),t)},i=(n.url=`responseURL`in s?s.responseURL:n.headers.get(`X-Request-URL`),`response`in s?s.response:s.responseText);r(new C(i,n))},s.onerror=function(){a(TypeError(`Network request failed`))},s.ontimeout=function(){a(TypeError(`Network request failed`))},s.open(o.method,o.url,!0),o.credentials===`include`?s.withCredentials=!0:o.credentials===`omit`&&(s.withCredentials=!1),`responseType`in s&&i&&(s.responseType=`blob`),o.headers.forEach(function(t,n){s.setRequestHeader(n,t)}),s.send(o._bodyInit===void 0?null:o._bodyInit)})},t.fetch.polyfill=!0)})(typeof self<`u`?self:this)},{}],262:[function(t,n,r){t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.split`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i,a=s(t(`../core/main`)),o=s(t(`../color/color_conversion`));function s(t){return t&&t.__esModule?t:{default:t}}var c=[{h:0,s:0,b:.8275,name:`gray`},{h:0,s:0,b:.8627,name:`gray`},{h:0,s:0,b:.7529,name:`gray`},{h:.0167,s:.1176,b:1,name:`light pink`}],l=[{h:0,s:0,b:0,name:`black`},{h:0,s:0,b:.5,name:`gray`},{h:0,s:0,b:1,name:`white`},{h:0,s:.5,b:.5,name:`dark maroon`},{h:0,s:.5,b:1,name:`salmon pink`},{h:0,s:1,b:0,name:`black`},{h:0,s:1,b:.5,name:`dark red`},{h:0,s:1,b:1,name:`red`},{h:5,s:0,b:1,name:`very light peach`},{h:5,s:.5,b:.5,name:`brown`},{h:5,s:.5,b:1,name:`peach`},{h:5,s:1,b:.5,name:`brick red`},{h:5,s:1,b:1,name:`crimson`},{h:10,s:0,b:1,name:`light peach`},{h:10,s:.5,b:.5,name:`brown`},{h:10,s:.5,b:1,name:`light orange`},{h:10,s:1,b:.5,name:`brown`},{h:10,s:1,b:1,name:`orange`},{h:15,s:0,b:1,name:`very light yellow`},{h:15,s:.5,b:.5,name:`olive green`},{h:15,s:.5,b:1,name:`light yellow`},{h:15,s:1,b:0,name:`dark olive green`},{h:15,s:1,b:.5,name:`olive green`},{h:15,s:1,b:1,name:`yellow`},{h:20,s:0,b:1,name:`very light yellow`},{h:20,s:.5,b:.5,name:`olive green`},{h:20,s:.5,b:1,name:`light yellow green`},{h:20,s:1,b:0,name:`dark olive green`},{h:20,s:1,b:.5,name:`dark yellow green`},{h:20,s:1,b:1,name:`yellow green`},{h:25,s:.5,b:.5,name:`dark yellow green`},{h:25,s:.5,b:1,name:`light green`},{h:25,s:1,b:.5,name:`dark green`},{h:25,s:1,b:1,name:`green`},{h:30,s:.5,b:1,name:`light green`},{h:30,s:1,b:.5,name:`dark green`},{h:30,s:1,b:1,name:`green`},{h:35,s:0,b:.5,name:`light green`},{h:35,s:0,b:1,name:`very light green`},{h:35,s:.5,b:.5,name:`dark green`},{h:35,s:.5,b:1,name:`light green`},{h:35,s:1,b:0,name:`very dark green`},{h:35,s:1,b:.5,name:`dark green`},{h:35,s:1,b:1,name:`green`},{h:40,s:0,b:1,name:`very light green`},{h:40,s:.5,b:.5,name:`dark green`},{h:40,s:.5,b:1,name:`light green`},{h:40,s:1,b:.5,name:`dark green`},{h:40,s:1,b:1,name:`green`},{h:45,s:.5,b:1,name:`light turquoise`},{h:45,s:1,b:.5,name:`dark turquoise`},{h:45,s:1,b:1,name:`turquoise`},{h:50,s:0,b:1,name:`light sky blue`},{h:50,s:.5,b:.5,name:`dark cyan`},{h:50,s:.5,b:1,name:`light cyan`},{h:50,s:1,b:.5,name:`dark cyan`},{h:50,s:1,b:1,name:`cyan`},{h:55,s:0,b:1,name:`light sky blue`},{h:55,s:.5,b:1,name:`light sky blue`},{h:55,s:1,b:.5,name:`dark blue`},{h:55,s:1,b:1,name:`sky blue`},{h:60,s:0,b:.5,name:`gray`},{h:60,s:0,b:1,name:`very light blue`},{h:60,s:.5,b:.5,name:`blue`},{h:60,s:.5,b:1,name:`light blue`},{h:60,s:1,b:.5,name:`navy blue`},{h:60,s:1,b:1,name:`blue`},{h:65,s:0,b:1,name:`lavender`},{h:65,s:.5,b:.5,name:`navy blue`},{h:65,s:.5,b:1,name:`light purple`},{h:65,s:1,b:.5,name:`dark navy blue`},{h:65,s:1,b:1,name:`blue`},{h:70,s:0,b:1,name:`lavender`},{h:70,s:.5,b:.5,name:`navy blue`},{h:70,s:.5,b:1,name:`lavender blue`},{h:70,s:1,b:.5,name:`dark navy blue`},{h:70,s:1,b:1,name:`blue`},{h:75,s:.5,b:1,name:`lavender`},{h:75,s:1,b:.5,name:`dark purple`},{h:75,s:1,b:1,name:`purple`},{h:80,s:.5,b:1,name:`pinkish purple`},{h:80,s:1,b:.5,name:`dark purple`},{h:80,s:1,b:1,name:`purple`},{h:85,s:0,b:1,name:`light pink`},{h:85,s:.5,b:.5,name:`purple`},{h:85,s:.5,b:1,name:`light fuchsia`},{h:85,s:1,b:.5,name:`dark fuchsia`},{h:85,s:1,b:1,name:`fuchsia`},{h:90,s:.5,b:.5,name:`dark fuchsia`},{h:90,s:.5,b:1,name:`hot pink`},{h:90,s:1,b:.5,name:`dark fuchsia`},{h:90,s:1,b:1,name:`fuchsia`},{h:95,s:0,b:1,name:`pink`},{h:95,s:.5,b:1,name:`light pink`},{h:95,s:1,b:.5,name:`dark magenta`},{h:95,s:1,b:1,name:`magenta`}];a.default.prototype._rgbColorName=function(t){var n,r,t=o.default._rgbaToHSBA(t),a=[(i=t)[0],t[1],t[2]];a[0]!==0&&(a[0]=Math.round(100*a[0]),(t=a[0].toString().split(``))[r=t.length-1]=parseInt(t[r]),t[r]<2.5?t[r]=0:2.5<=t[r]&&t[r]<7.5&&(t[r]=5),t.length===2?(t[0]=parseInt(t[0]),7.5<=t[r]&&(t[r]=0,t[0]+=1),a[0]=10*t[0]+t[1]):7.5<=t[r]?a[0]=10:a[0]=t[r]),a[2]/=255;for(var s=a.length-1;1<=s;s--)a[s]<=.25?a[s]=0:.25<a[s]&&a[s]<.75?a[s]=.5:a[s]=1;if(a[0]===0&&a[1]===0&&a[2]===1){for(var u=2;0<=u;u--)i[u]=Math.round(1e4*i[u])/1e4;for(var d=0;d<c.length;d++){if(c[d].h===i[0]&&c[d].s===i[1]&&c[d].b===i[2]){n=c[d].name;break}n=`white`}}else for(var f=0;f<l.length;f++)if(l[f].h===a[0]&&l[f].s===a[1]&&l[f].b===a[2]){n=l[f].name;break}return n},t=a.default,r.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,n,r){t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.ends-with`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.ends-with`),t(`core-js/modules/es.string.replace`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t},a=`_Description`,o=`_fallbackDesc`,s=`_fallbackTable`,c=`_Label`,l=`_labelDesc`,u=`_labelTable`;function d(t){if(t===`label`||t===`fallback`)throw Error(`description should not be LABEL or FALLBACK`);return t.endsWith(`.`)||t.endsWith(`;`)||t.endsWith(`,`)||t.endsWith(`?`)||t.endsWith(`!`)||(t+=`.`),t}i.default.prototype.describe=function(t,n){var r;i.default._validateParameters(`describe`,arguments),typeof t==`string`&&(r=this.canvas.id,t=d(t),this.dummyDOM||=document.getElementById(r).parentNode,this.descriptions||={},this.descriptions.fallback?this.descriptions.fallback.innerHTML!==t&&(this.descriptions.fallback.innerHTML=t):this._describeHTML(`fallback`,t),n===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==t&&(this.descriptions.label.innerHTML=t):this._describeHTML(`label`,t)))},i.default.prototype.describeElement=function(t,n,r){var a,o;i.default._validateParameters(`describeElement`,arguments),typeof n==`string`&&typeof t==`string`&&(a=this.canvas.id,n=d(n),o=function(t){if(t===`label`||t===`fallback`)throw Error(`element name should not be LABEL or FALLBACK`);return t.endsWith(`.`)||t.endsWith(`;`)||t.endsWith(`,`)?t=t.replace(/.$/,`:`):t.endsWith(`:`)||(t+=`:`),t}(t),t=t.replace(/[^a-zA-Z0-9]/g,``),o=`<th scope="row">${o}</th><td>${n}</td>`,this.dummyDOM||=document.getElementById(a).parentNode,this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[t]?this.descriptions.fallbackElements[t].innerHTML!==o&&(this.descriptions.fallbackElements[t].innerHTML=o):this._describeElementHTML(`fallback`,t,o),r===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[t]?this.descriptions.labelElements[t].innerHTML!==o&&(this.descriptions.labelElements[t].innerHTML=o):this._describeElementHTML(`label`,t,o)))},i.default.prototype._describeHTML=function(t,n){var r,i=this.canvas.id;t===`fallback`?(this.dummyDOM.querySelector(`#${i+a}`)?this.dummyDOM.querySelector(`#`+i+s).insertAdjacentHTML(`beforebegin`,`<p id="${i+o}"></p>`):(r=`<div id="${i}${a}" role="region" aria-label="Canvas Description"><p id="${i}${o}"></p></div>`,this.dummyDOM.querySelector(`#${i}accessibleOutput`)?this.dummyDOM.querySelector(`#${i}accessibleOutput`).insertAdjacentHTML(`beforebegin`,r):this.dummyDOM.querySelector(`#${i}`).innerHTML=r),this.descriptions.fallback=this.dummyDOM.querySelector(`#${i}${o}`),this.descriptions.fallback.innerHTML=n):t===`label`&&(this.dummyDOM.querySelector(`#${i+c}`)?this.dummyDOM.querySelector(`#${i+u}`)&&this.dummyDOM.querySelector(`#${i+u}`).insertAdjacentHTML(`beforebegin`,`<p id="${i}${l}"></p>`):(r=`<div id="${i}${c}" class="p5Label"><p id="${i}${l}"></p></div>`,this.dummyDOM.querySelector(`#${i}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${i}accessibleOutputLabel`).insertAdjacentHTML(`beforebegin`,r):this.dummyDOM.querySelector(`#`+i).insertAdjacentHTML(`afterend`,r)),this.descriptions.label=this.dummyDOM.querySelector(`#`+i+l),this.descriptions.label.innerHTML=n)},i.default.prototype._describeElementHTML=function(t,n,r){var i,d=this.canvas.id;t===`fallback`?(this.dummyDOM.querySelector(`#${d+a}`)?this.dummyDOM.querySelector(`#`+d+s)||this.dummyDOM.querySelector(`#`+d+o).insertAdjacentHTML(`afterend`,`<table id="${d}${s}"><caption>Canvas elements and their descriptions</caption></table>`):(i=`<div id="${d}${a}" role="region" aria-label="Canvas Description"><table id="${d}${s}"><caption>Canvas elements and their descriptions</caption></table></div>`,this.dummyDOM.querySelector(`#${d}accessibleOutput`)?this.dummyDOM.querySelector(`#${d}accessibleOutput`).insertAdjacentHTML(`beforebegin`,i):this.dummyDOM.querySelector(`#`+d).innerHTML=i),(i=document.createElement(`tr`)).id=d+`_fte_`+n,this.dummyDOM.querySelector(`#`+d+s).appendChild(i),this.descriptions.fallbackElements[n]=this.dummyDOM.querySelector(`#${d}_fte_${n}`),this.descriptions.fallbackElements[n].innerHTML=r):t===`label`&&(this.dummyDOM.querySelector(`#${d+c}`)?this.dummyDOM.querySelector(`#${d+u}`)||this.dummyDOM.querySelector(`#`+d+l).insertAdjacentHTML(`afterend`,`<table id="${d+u}"></table>`):(i=`<div id="${d}${c}" class="p5Label"><table id="${d}${u}"></table></div>`,this.dummyDOM.querySelector(`#${d}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${d}accessibleOutputLabel`).insertAdjacentHTML(`beforebegin`,i):this.dummyDOM.querySelector(`#`+d).insertAdjacentHTML(`afterend`,i)),(t=document.createElement(`tr`)).id=d+`_lte_`+n,this.dummyDOM.querySelector(`#`+d+u).appendChild(t),this.descriptions.labelElements[n]=this.dummyDOM.querySelector(`#${d}_lte_${n}`),this.descriptions.labelElements[n].innerHTML=r)},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,n,r){t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.string.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(t){var n,r,i,a;this.dummyDOM.querySelector(`#${t}_summary`)&&(n=this._accessibleOutputs[t],i=function(t,n,r,i){return n=`${n} canvas, ${r} by ${i} pixels, contains ${t[0]}`,n=(t[0]===1?`${n} shape: `:`${n} shapes: `).concat(t[1]),n}((r=function(t,n){var r,i=``,a=``,o=0;for(r in n){var s,c=0;for(s in n[r]){var l=`<li id="${t}shape${o}">${n[r][s].color} ${r},`;r===`line`?l+=` location = ${n[r][s].pos}, length = ${n[r][s].length} pixels`:(l+=` location = ${n[r][s].pos}`,r!==`point`&&(l+=`, area = ${n[r][s].area} %`),l+=`</li>`),i+=l,c++,o++}a=1<c?`${a} ${c} ${r}s`:`${a} ${c} ${r}`}return{numShapes:[o,a],details:i}}(t,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),a=function(t,n){var r,i,a=0,o=``,s=Array.from(Array(10),function(){return Array(10)});for(r in n)for(var c in n[r]){var l=void 0;l=r===`line`?`<a href="#${t}shape${a}">${n[r][c].color} ${r} midpoint</a>`:`<a href="#${t}shape${a}">${n[r][c].color} ${r}</a>`,n[r][c].loc.locY<s.length&&n[r][c].loc.locX<s[n[r][c].loc.locY].length&&(s[n[r][c].loc.locY][n[r][c].loc.locX]?s[n[r][c].loc.locY][n[r][c].loc.locX]=s[n[r][c].loc.locY][n[r][c].loc.locX]+`  `+l:s[n[r][c].loc.locY][n[r][c].loc.locX]=l,a++)}for(i in s){var u,d=`<tr>`;for(u in s[i])d+=`<td>`,s[i][u]!==void 0&&(d+=s[i][u]),d+=`</td>`;o=o+d+`</tr>`}return o}(t,this.ingredients.shapes),i!==n.summary.innerHTML&&(n.summary.innerHTML=i),a!==n.map.innerHTML&&(n.map.innerHTML=a),r.details!==n.shapeDetails.innerHTML&&(n.shapeDetails.innerHTML=r.details),this._accessibleOutputs[t]=n)},t=t.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.number.to-fixed`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}function o(t,n,r){var i=t[0],t=t[1],i=Math.floor(i/n*10),n=Math.floor(t/r*10);return{locX:Math.min(Math.max(i,0),9),locY:Math.min(Math.max(n,0),9)}}i.default.prototype.textOutput=function(t){i.default._validateParameters(`textOutput`,arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput(`textOutput`,`Fallback`),t===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput(`textOutput`,`Label`)))},i.default.prototype.gridOutput=function(t){i.default._validateParameters(`gridOutput`,arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput(`gridOutput`,`Fallback`),t===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput(`gridOutput`,`Label`)))},i.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._accessibleOutputs.grid||this._accessibleOutputs.text},i.default.prototype._createOutput=function(t,n){var r,i,a,o=this.canvas.id,s=(this.ingredients||={shapes:{},colors:{background:`white`,fill:`white`,stroke:`black`},pShapes:``,pBackground:``},this.dummyDOM||=document.getElementById(o).parentNode,``);n===`Fallback`?(r=o+t,this.dummyDOM.querySelector(`#${i=o+`accessibleOutput`}`)||(this.dummyDOM.querySelector(`#${o}_Description`)?this.dummyDOM.querySelector(`#${o}_Description`).insertAdjacentHTML(`afterend`,`<div id="${i}" role="region" aria-label="Canvas Outputs"></div>`):this.dummyDOM.querySelector(`#${o}`).innerHTML=`<div id="${i}" role="region" aria-label="Canvas Outputs"></div>`)):n===`Label`&&(r=o+t+(s=n),this.dummyDOM.querySelector(`#${i=o+`accessibleOutput`+n}`)||(this.dummyDOM.querySelector(`#${o}_Label`)?this.dummyDOM.querySelector(`#${o}_Label`):this.dummyDOM.querySelector(`#${o}`)).insertAdjacentHTML(`afterend`,`<div id="${i}"></div>`)),this._accessibleOutputs[r]={},t===`textOutput`?(s=`#${o}gridOutput${s}`,a=`<div id="${r}">Text Output<div id="${r}Summary" aria-label="text output summary"><p id="${r}_summary"></p><ul id="${r}_list"></ul></div><table id="${r}_shapeDetails" summary="text output shape details"></table></div>`,this.dummyDOM.querySelector(s)?this.dummyDOM.querySelector(s).insertAdjacentHTML(`beforebegin`,a):this.dummyDOM.querySelector(`#${i}`).innerHTML=a,this._accessibleOutputs[r].list=this.dummyDOM.querySelector(`#${r}_list`)):t===`gridOutput`&&(s=`#${o}textOutput${s}`,a=`<div id="${r}">Grid Output<p id="${r}_summary" aria-label="grid output summary"><table id="${r}_map" summary="grid output content"></table><ul id="${r}_shapeDetails" aria-label="grid output shape details"></ul></div>`,this.dummyDOM.querySelector(s)?this.dummyDOM.querySelector(s).insertAdjacentHTML(`afterend`,a):this.dummyDOM.querySelector(`#${i}`).innerHTML=a,this._accessibleOutputs[r].map=this.dummyDOM.querySelector(`#${r}_map`)),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector(`#${r}_shapeDetails`),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector(`#${r}_summary`)},i.default.prototype._updateAccsOutput=function(){var t=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(t+`textOutput`),this._accessibleOutputs.grid&&this._updateGridOutput(t+`gridOutput`),this._accessibleOutputs.textLabel&&this._updateTextOutput(t+`textOutputLabel`),this._accessibleOutputs.gridLabel&&this._updateGridOutput(t+`gridOutputLabel`))},i.default.prototype._accsBackground=function(t){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==t&&(this.ingredients.colors.backgroundRGBA=t,this.ingredients.colors.background=this._rgbColorName(t))},i.default.prototype._accsCanvasColors=function(t,n){t===`fill`?this.ingredients.colors.fillRGBA!==n&&(this.ingredients.colors.fillRGBA=n,this.ingredients.colors.fill=this._rgbColorName(n)):t===`stroke`&&this.ingredients.colors.strokeRGBA!==n&&(this.ingredients.colors.strokeRGBA=n,this.ingredients.colors.stroke=this._rgbColorName(n))},i.default.prototype._accsOutput=function(t,n){t===`ellipse`&&n[2]===n[3]?t=`circle`:t===`rectangle`&&n[2]===n[3]&&(t=`square`);var r,i,s={},c=!0,l=function(t,n){var r;return t=t===`rectangle`||t===`ellipse`||t===`arc`||t===`circle`||t===`square`?(r=Math.round(n[0]+n[2]/2),Math.round(n[1]+n[3]/2)):t===`triangle`?(r=(n[0]+n[2]+n[4])/3,(n[1]+n[3]+n[5])/3):t===`quadrilateral`?(r=(n[0]+n[2]+n[4]+n[6])/4,(n[1]+n[3]+n[5]+n[7])/4):t===`line`?(r=(n[0]+n[2])/2,(n[1]+n[3])/2):(r=n[0],n[1]),[r,t]}(t,n);if(t===`line`?(s.color=this.ingredients.colors.stroke,s.length=Math.round(this.dist(n[0],n[1],n[2],n[3])),r=this._getPos(n[0],[1]),i=this._getPos(n[2],[3]),s.loc=o(l,this.width,this.height),s.pos=r===i?`at ${r}`:`from ${r} to ${i}`):(t===`point`?s.color=this.ingredients.colors.stroke:(s.color=this.ingredients.colors.fill,s.area=this._getArea(t,n)),s.pos=this._getPos.apply(this,a(l)),s.loc=o(l,this.width,this.height)),this.ingredients.shapes[t]){if(this.ingredients.shapes[t]!==[s]){for(var u in this.ingredients.shapes[t])JSON.stringify(this.ingredients.shapes[t][u])===JSON.stringify(s)&&(c=!1);!0===c&&this.ingredients.shapes[t].push(s)}}else this.ingredients.shapes[t]=[s]},i.default.prototype._getPos=function(t,n){var t=new DOMPointReadOnly(t,n),n=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),t=t.matrixTransform(n),n=t.x,t=t.y,r=this.width*this._pixelDensity,i=this.height*this._pixelDensity;return n<.4*r?t<.4*i?`top left`:.6*i<t?`bottom left`:`mid left`:.6*r<n?t<.4*i?`top right`:.6*i<t?`bottom right`:`mid right`:t<.4*i?`top middle`:.6*i<t?`bottom middle`:`middle`},i.default.prototype._getArea=function(t,n){var r,i,a=0,o=(t===`arc`?(a=(r=((n[5]-n[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*n[2]*n[3]/8,n[6]!==`open`&&n[6]!==`chord`||(i=n[0],u=n[1],o=n[0]+n[2]/2*Math.cos(n[4]).toFixed(2),d=n[1]+n[3]/2*Math.sin(n[4]).toFixed(2),c=n[0]+n[2]/2*Math.cos(n[5]).toFixed(2),s=n[1]+n[3]/2*Math.sin(n[5]).toFixed(2),i=Math.abs(i*(d-s)+o*(s-u)+c*(u-d))/2,r>Math.PI?a+=i:a-=i)):t===`ellipse`||t===`circle`?a=3.14*n[2]/2*n[3]/2:t===`line`||t===`point`?a=0:t===`quadrilateral`?a=Math.abs((n[6]+n[0])*(n[7]-n[1])+(n[0]+n[2])*(n[1]-n[3])+(n[2]+n[4])*(n[3]-n[5])+(n[4]+n[6])*(n[5]-n[7]))/2:t===`rectangle`||t===`square`?a=n[2]*n[3]:t===`triangle`&&(a=Math.abs(n[0]*(n[3]-n[5])+n[2]*(n[5]-n[1])+n[4]*(n[1]-n[3]))/2),this.width*this._pixelDensity),s=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(o,0),new DOMPoint(o,s),new DOMPoint(0,s)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),u=c.map(function(t){return t.matrixTransform(l)}),d=Math.abs((u[3].x+u[0].x)*(u[3].y-u[0].y)+(u[0].x+u[1].x)*(u[0].y-u[1].y)+(u[1].x+u[2].x)*(u[1].y-u[2].y)+(u[2].x+u[3].x)*(u[2].y-u[3].y))/2;return Math.round(100*a/d)},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,n,r){t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.concat`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(t){var n,r,i,a;this.dummyDOM.querySelector(`#${t}_summary`)&&(n=this._accessibleOutputs[t],i=function(t,n,r,i){return r=`Your output is a, ${r} by ${i} pixels, ${n} canvas containing the following`,r=t===1?`${r} shape:`:`${r} ${t} shapes:`,r}((r=function(t,n){var r,i=``,a=0;for(r in n)for(var o in n[r]){var s=`<li><a href="#${t}shape${a}">${n[r][o].color} ${r}</a>`;r===`line`?s+=`, ${n[r][o].pos}, ${n[r][o].length} pixels long.</li>`:(s+=`, at ${n[r][o].pos}`,r!==`point`&&(s+=`, covering ${n[r][o].area}% of the canvas`),s+=`.</li>`),i+=s,a++}return{numShapes:a,listShapes:i}}(t,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),a=function(t,n){var r,i=``,a=0;for(r in n)for(var o in n[r]){var s=`<tr id="${t}shape${a}"><th>${n[r][o].color} ${r}</th>`;r===`line`?s+=`<td>location = ${n[r][o].pos}</td><td>length = ${n[r][o].length} pixels</td></tr>`:(s+=`<td>location = ${n[r][o].pos}</td>`,r!==`point`&&(s+=`<td> area = ${n[r][o].area}%</td>`),s+=`</tr>`),i+=s,a++}return i}(t,this.ingredients.shapes),i!==n.summary.innerHTML&&(n.summary.innerHTML=i),r.listShapes!==n.list.innerHTML&&(n.list.innerHTML=r.listShapes),a!==n.shapeDetails.innerHTML&&(n.shapeDetails.innerHTML=a),this._accessibleOutputs[t]=n)},t=t.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,n,r){var i=(i=t(`./core/main`))&&i.__esModule?i:{default:i};t(`./core/constants`),t(`./core/environment`),t(`./core/friendly_errors/stacktrace`),t(`./core/friendly_errors/validate_params`),t(`./core/friendly_errors/file_errors`),t(`./core/friendly_errors/fes_core`),t(`./core/friendly_errors/sketch_reader`),t(`./core/helpers`),t(`./core/legacy`),t(`./core/preload`),t(`./core/p5.Element`),t(`./core/p5.Graphics`),t(`./core/p5.Renderer`),t(`./core/p5.Renderer2D`),t(`./core/rendering`),t(`./core/shim`),t(`./core/structure`),t(`./core/transform`),t(`./core/shape/2d_primitives`),t(`./core/shape/attributes`),t(`./core/shape/curves`),t(`./core/shape/vertex`),t(`./accessibility/outputs`),t(`./accessibility/textOutput`),t(`./accessibility/gridOutput`),t(`./accessibility/color_namer`),t(`./color/color_conversion`),t(`./color/creating_reading`),t(`./color/p5.Color`),t(`./color/setting`),t(`./data/p5.TypedDict`),t(`./data/local_storage.js`),t(`./dom/dom`),t(`./accessibility/describe`),t(`./events/acceleration`),t(`./events/keyboard`),t(`./events/mouse`),t(`./events/touch`),t(`./image/filters`),t(`./image/image`),t(`./image/loading_displaying`),t(`./image/p5.Image`),t(`./image/pixels`),t(`./io/files`),t(`./io/p5.Table`),t(`./io/p5.TableRow`),t(`./io/p5.XML`),t(`./math/calculation`),t(`./math/math`),t(`./math/noise`),t(`./math/p5.Vector`),t(`./math/random`),t(`./math/trigonometry`),t(`./typography/attributes`),t(`./typography/loading_displaying`),t(`./typography/p5.Font`),t(`./utilities/array_functions`),t(`./utilities/conversion`),t(`./utilities/string_functions`),t(`./utilities/time_date`),t(`./webgl/3d_primitives`),t(`./webgl/interaction`),t(`./webgl/light`),t(`./webgl/loading`),t(`./webgl/material`),t(`./webgl/p5.Camera`),t(`./webgl/p5.DataArray`),t(`./webgl/p5.Geometry`),t(`./webgl/p5.Matrix`),t(`./webgl/p5.Quat`),t(`./webgl/p5.RendererGL.Immediate`),t(`./webgl/p5.RendererGL`),t(`./webgl/p5.RendererGL.Retained`),t(`./webgl/p5.Framebuffer`),t(`./webgl/p5.Shader`),t(`./webgl/p5.RenderBuffer`),t(`./webgl/p5.Texture`),t(`./webgl/text`),t(`./core/init`),n.exports=i.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(t){var n=t[0],r=t[1],i=t[2],a=(2-r)*i/2;return a!=0&&(a==1?r=0:a<.5?r/=2-r:r=r*i/(2-2*a)),[n,r,a,t[3]]},_hsbaToRGBA:function(t){var n,r,i,a,o,s=6*t[0],c=t[1],l=t[2];return c===0?[l,l,l,t[3]]:(r=l*(1-c),i=l*(1-c*(s-(n=Math.floor(s)))),c=l*(1-c*(1+n-s)),s=n===1?(a=i,o=l,r):n===2?(a=r,o=l,c):n===3?(a=r,o=i,l):n===4?(a=c,o=r,l):n===5?(a=l,o=r,i):(a=l,o=c,r),[a,o,s,t[3]])},_hslaToHSBA:function(t){var n=t[0],r=t[1],i=t[2],a=i<.5?(1+r)*i:i+r-i*r;return[n,r=2*(a-i)/a,a,t[3]]},_hslaToRGBA:function(t){var n,r=6*t[0],i=t[1],a=t[2];return i===0?[a,a,a,t[3]]:[(n=function(t,n,r){return t<0?t+=6:6<=t&&(t-=6),t<1?n+(r-n)*t:t<3?r:t<4?n+(r-n)*(4-t):n})(2+r,i=2*a-(a=a<.5?(1+i)*a:a+i-a*i),a),n(r,i,a),n(r-2,i,a),t[3]]},_rgbaToHSBA:function(t){var n,r,i=t[0],a=t[1],o=t[2],s=Math.max(i,a,o),c=s-Math.min(i,a,o);return c==0?r=n=0:(r=c/s,i===s?n=(a-o)/c:a===s?n=2+(o-i)/c:o===s&&(n=4+(i-a)/c),n<0?n+=6:6<=n&&(n-=6)),[n/6,r,s,t[3]]},_rgbaToHSLA:function(t){var n,r,i=t[0],a=t[1],o=t[2],s=Math.max(i,a,o),c=Math.min(i,a,o),l=s+c,c=s-c;return c==0?r=n=0:(r=l<1?c/l:c/(2-l),i===s?n=(a-o)/c:a===s?n=2+(o-i)/c:o===s&&(n=4+(i-a)/c),n<0?n+=6:6<=n&&(n-=6)),[n/6,r,l/2,t[3]]}},t=t.default.ColorConversion,r.default=t},{"../core/main":283}],269:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.map`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(l=t(`../core/main`))&&l.__esModule?l:{default:l},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}t(`./p5.Color`),t(`../core/friendly_errors/validate_params`),t(`../core/friendly_errors/file_errors`),t(`../core/friendly_errors/fes_core`),o.default.prototype.alpha=function(t){return o.default._validateParameters(`alpha`,arguments),this.color(t)._getAlpha()},o.default.prototype.blue=function(t){return o.default._validateParameters(`blue`,arguments),this.color(t)._getBlue()},o.default.prototype.brightness=function(t){return o.default._validateParameters(`brightness`,arguments),this.color(t)._getBrightness()},o.default.prototype.color=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o.default._validateParameters(`color`,r),r[0]instanceof o.default.Color?r[0]:(t=Array.isArray(r[0])?r[0]:r,new o.default.Color(this,t))},o.default.prototype.green=function(t){return o.default._validateParameters(`green`,arguments),this.color(t)._getGreen()},o.default.prototype.hue=function(t){return o.default._validateParameters(`hue`,arguments),this.color(t)._getHue()},o.default.prototype.lerpColor=function(t,n,r){o.default._validateParameters(`lerpColor`,arguments),t instanceof o.default.Color||(t=color(t)),n instanceof o.default.Color||(n=color(n));var i,a,c,l=this._colorMode,u=this._colorMaxes;if(l===s.RGB)a=t.levels.map(function(t){return t/255}),c=n.levels.map(function(t){return t/255});else if(l===s.HSB)t._getBrightness(),n._getBrightness(),a=t.hsba,c=n.hsba;else{if(l!==s.HSL)throw Error(`${l} cannot be used for interpolation.`);t._getLightness(),n._getLightness(),a=t.hsla,c=n.hsla}return r=Math.max(Math.min(r,1),0),this.lerp===void 0&&(this.lerp=function(t,n,r){return r*(n-t)+t}),l===s.RGB?i=this.lerp(a[0],c[0],r):(.5<Math.abs(a[0]-c[0])&&(a[0]>c[0]?c[0]+=1:a[0]+=1),1<=(i=this.lerp(a[0],c[0],r))&&--i),t=this.lerp(a[1],c[1],r),n=this.lerp(a[2],c[2],r),a=this.lerp(a[3],c[3],r),i*=u[l][0],t*=u[l][1],n*=u[l][2],a*=u[l][3],this.color(i,t,n,a)},o.default.prototype.paletteLerp=function(t,n){var r=t[0];if(n<r[1])return this.color(r[0]);for(var i=1;i<t.length;i++){var a,o=t[i];if(n<o[1])return a=t[i-1],this.lerpColor(this.color(a[0]),this.color(o[0]),(n-a[1])/(o[1]-a[1]))}return this.color(t[t.length-1][0])},o.default.prototype.lightness=function(t){return o.default._validateParameters(`lightness`,arguments),this.color(t)._getLightness()},o.default.prototype.red=function(t){return o.default._validateParameters(`red`,arguments),this.color(t)._getRed()},o.default.prototype.saturation=function(t){return o.default._validateParameters(`saturation`,arguments),this.color(t)._getSaturation()};var l=o.default;r.default=l},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.trim`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=u(t(`../core/main`)),s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=l();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`)),c=u(t(`./color_conversion`));function l(){var t;return typeof WeakMap==`function`?(t=new WeakMap,l=function(){return t},t):null}function u(t){return t&&t.__esModule?t:{default:t}}function d(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f={aliceblue:`#f0f8ff`,antiquewhite:`#faebd7`,aqua:`#00ffff`,aquamarine:`#7fffd4`,azure:`#f0ffff`,beige:`#f5f5dc`,bisque:`#ffe4c4`,black:`#000000`,blanchedalmond:`#ffebcd`,blue:`#0000ff`,blueviolet:`#8a2be2`,brown:`#a52a2a`,burlywood:`#deb887`,cadetblue:`#5f9ea0`,chartreuse:`#7fff00`,chocolate:`#d2691e`,coral:`#ff7f50`,cornflowerblue:`#6495ed`,cornsilk:`#fff8dc`,crimson:`#dc143c`,cyan:`#00ffff`,darkblue:`#00008b`,darkcyan:`#008b8b`,darkgoldenrod:`#b8860b`,darkgray:`#a9a9a9`,darkgreen:`#006400`,darkgrey:`#a9a9a9`,darkkhaki:`#bdb76b`,darkmagenta:`#8b008b`,darkolivegreen:`#556b2f`,darkorange:`#ff8c00`,darkorchid:`#9932cc`,darkred:`#8b0000`,darksalmon:`#e9967a`,darkseagreen:`#8fbc8f`,darkslateblue:`#483d8b`,darkslategray:`#2f4f4f`,darkslategrey:`#2f4f4f`,darkturquoise:`#00ced1`,darkviolet:`#9400d3`,deeppink:`#ff1493`,deepskyblue:`#00bfff`,dimgray:`#696969`,dimgrey:`#696969`,dodgerblue:`#1e90ff`,firebrick:`#b22222`,floralwhite:`#fffaf0`,forestgreen:`#228b22`,fuchsia:`#ff00ff`,gainsboro:`#dcdcdc`,ghostwhite:`#f8f8ff`,gold:`#ffd700`,goldenrod:`#daa520`,gray:`#808080`,green:`#008000`,greenyellow:`#adff2f`,grey:`#808080`,honeydew:`#f0fff0`,hotpink:`#ff69b4`,indianred:`#cd5c5c`,indigo:`#4b0082`,ivory:`#fffff0`,khaki:`#f0e68c`,lavender:`#e6e6fa`,lavenderblush:`#fff0f5`,lawngreen:`#7cfc00`,lemonchiffon:`#fffacd`,lightblue:`#add8e6`,lightcoral:`#f08080`,lightcyan:`#e0ffff`,lightgoldenrodyellow:`#fafad2`,lightgray:`#d3d3d3`,lightgreen:`#90ee90`,lightgrey:`#d3d3d3`,lightpink:`#ffb6c1`,lightsalmon:`#ffa07a`,lightseagreen:`#20b2aa`,lightskyblue:`#87cefa`,lightslategray:`#778899`,lightslategrey:`#778899`,lightsteelblue:`#b0c4de`,lightyellow:`#ffffe0`,lime:`#00ff00`,limegreen:`#32cd32`,linen:`#faf0e6`,magenta:`#ff00ff`,maroon:`#800000`,mediumaquamarine:`#66cdaa`,mediumblue:`#0000cd`,mediumorchid:`#ba55d3`,mediumpurple:`#9370db`,mediumseagreen:`#3cb371`,mediumslateblue:`#7b68ee`,mediumspringgreen:`#00fa9a`,mediumturquoise:`#48d1cc`,mediumvioletred:`#c71585`,midnightblue:`#191970`,mintcream:`#f5fffa`,mistyrose:`#ffe4e1`,moccasin:`#ffe4b5`,navajowhite:`#ffdead`,navy:`#000080`,oldlace:`#fdf5e6`,olive:`#808000`,olivedrab:`#6b8e23`,orange:`#ffa500`,orangered:`#ff4500`,orchid:`#da70d6`,palegoldenrod:`#eee8aa`,palegreen:`#98fb98`,paleturquoise:`#afeeee`,palevioletred:`#db7093`,papayawhip:`#ffefd5`,peachpuff:`#ffdab9`,peru:`#cd853f`,pink:`#ffc0cb`,plum:`#dda0dd`,powderblue:`#b0e0e6`,purple:`#800080`,rebeccapurple:`#663399`,red:`#ff0000`,rosybrown:`#bc8f8f`,royalblue:`#4169e1`,saddlebrown:`#8b4513`,salmon:`#fa8072`,sandybrown:`#f4a460`,seagreen:`#2e8b57`,seashell:`#fff5ee`,sienna:`#a0522d`,silver:`#c0c0c0`,skyblue:`#87ceeb`,slateblue:`#6a5acd`,slategray:`#708090`,slategrey:`#708090`,snow:`#fffafa`,springgreen:`#00ff7f`,steelblue:`#4682b4`,tan:`#d2b48c`,teal:`#008080`,thistle:`#d8bfd8`,tomato:`#ff6347`,turquoise:`#40e0d0`,violet:`#ee82ee`,wheat:`#f5deb3`,white:`#ffffff`,whitesmoke:`#f5f5f5`,yellow:`#ffff00`,yellowgreen:`#9acd32`},t=/\s*/,p=/(\d{1,3})/,m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=RegExp(`${m.source}%`),g={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp([`^rgb\\(`,p.source,`,`,p.source,`,`,p.source,`\\)$`].join(t.source),`i`),RGB_PERCENT:new RegExp([`^rgb\\(`,h.source,`,`,h.source,`,`,h.source,`\\)$`].join(t.source),`i`),RGBA:new RegExp([`^rgba\\(`,p.source,`,`,p.source,`,`,p.source,`,`,m.source,`\\)$`].join(t.source),`i`),RGBA_PERCENT:new RegExp([`^rgba\\(`,h.source,`,`,h.source,`,`,h.source,`,`,m.source,`\\)$`].join(t.source),`i`),HSL:new RegExp([`^hsl\\(`,p.source,`,`,h.source,`,`,h.source,`\\)$`].join(t.source),`i`),HSLA:new RegExp([`^hsla\\(`,p.source,`,`,h.source,`,`,h.source,`,`,m.source,`\\)$`].join(t.source),`i`),HSB:new RegExp([`^hsb\\(`,p.source,`,`,h.source,`,`,h.source,`\\)$`].join(t.source),`i`),HSBA:new RegExp([`^hsba\\(`,p.source,`,`,h.source,`,`,h.source,`,`,m.source,`\\)$`].join(t.source),`i`)},p=(o.default.Color=function(){function t(n,r){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);if(this._storeModeAndMaxes(n._colorMode,n._colorMaxes),![s.RGB,s.HSL,s.HSB].includes(this.mode))throw Error(`${this.mode} is an invalid colorMode.`);this._array=t._parseInputs.apply(this,r),this._calculateLevels()}var n,r,i;return n=t,i=[{key:`_parseInputs`,value:function(n,r,i,a){var o,l=arguments.length,u=this.mode,d=this.maxes[u],p=[];if(3<=l){for(p[0]=n/d[0],p[1]=r/d[1],p[2]=i/d[2],p[3]=typeof a==`number`?a/d[3]:1,o=p.length-1;0<=o;--o){var m=p[o];m<0?p[o]=0:1<m&&(p[o]=1)}return u===s.HSL?c.default._hslaToRGBA(p):u===s.HSB?c.default._hsbaToRGBA(p):p}if(l===1&&typeof n==`string`){if(i=n.trim().toLowerCase(),f[i])return t._parseInputs.call(this,f[i]);if(g.HEX3.test(i))return(p=g.HEX3.exec(i).slice(1).map(function(t){return parseInt(t+t,16)/255}))[3]=1,p;if(g.HEX6.test(i))return(p=g.HEX6.exec(i).slice(1).map(function(t){return parseInt(t,16)/255}))[3]=1,p;if(g.HEX4.test(i))return p=g.HEX4.exec(i).slice(1).map(function(t){return parseInt(t+t,16)/255});if(g.HEX8.test(i))return p=g.HEX8.exec(i).slice(1).map(function(t){return parseInt(t,16)/255});if(g.RGB.test(i))return(p=g.RGB.exec(i).slice(1).map(function(t){return t/255}))[3]=1,p;if(g.RGB_PERCENT.test(i))return(p=g.RGB_PERCENT.exec(i).slice(1).map(function(t){return parseFloat(t)/100}))[3]=1,p;if(g.RGBA.test(i))return p=g.RGBA.exec(i).slice(1).map(function(t,n){return n===3?parseFloat(t):t/255});if(g.RGBA_PERCENT.test(i))return p=g.RGBA_PERCENT.exec(i).slice(1).map(function(t,n){return n===3?parseFloat(t):parseFloat(t)/100});if(g.HSL.test(i)?(p=g.HSL.exec(i).slice(1).map(function(t,n){return n===0?parseInt(t,10)/360:parseInt(t,10)/100}))[3]=1:g.HSLA.test(i)&&(p=g.HSLA.exec(i).slice(1).map(function(t,n){return n===0?parseInt(t,10)/360:n===3?parseFloat(t):parseInt(t,10)/100})),(p=p.map(function(t){return Math.max(Math.min(t,1),0)})).length)return c.default._hslaToRGBA(p);if(g.HSB.test(i)?(p=g.HSB.exec(i).slice(1).map(function(t,n){return n===0?parseInt(t,10)/360:parseInt(t,10)/100}))[3]=1:g.HSBA.test(i)&&(p=g.HSBA.exec(i).slice(1).map(function(t,n){return n===0?parseInt(t,10)/360:n===3?parseFloat(t):parseInt(t,10)/100})),p.length){for(o=p.length-1;0<=o;--o)p[o]=Math.max(Math.min(p[o],1),0);return c.default._hsbaToRGBA(p)}p=[1,1,1,1]}else{if(l!==1&&l!==2||typeof n!=`number`)throw Error(`${arguments}is not a valid color representation.`);p[0]=n/d[2],p[1]=n/d[2],p[2]=n/d[2],p[3]=typeof r==`number`?r/d[3]:1,p=p.map(function(t){return Math.max(Math.min(t,1),0)})}return p}}],(r=[{key:`toString`,value:function(t){var n=this.levels,r=this._array,i=r[3];switch(t){case`#rrggbb`:return`#${n[0]<16?`0${n[0].toString(16)}`:n[0].toString(16)}${n[1]<16?`0${n[1].toString(16)}`:n[1].toString(16)}${n[2]<16?`0${n[2].toString(16)}`:n[2].toString(16)}`;case`#rrggbbaa`:return`#${n[0]<16?`0${n[0].toString(16)}`:n[0].toString(16)}${n[1]<16?`0${n[1].toString(16)}`:n[1].toString(16)}${n[2]<16?`0${n[2].toString(16)}`:n[2].toString(16)}${n[3]<16?`0${n[3].toString(16)}`:n[3].toString(16)}`;case`#rgb`:return`#${Math.round(15*r[0]).toString(16)}${Math.round(15*r[1]).toString(16)}${Math.round(15*r[2]).toString(16)}`;case`#rgba`:return`#${Math.round(15*r[0]).toString(16)}${Math.round(15*r[1]).toString(16)}${Math.round(15*r[2]).toString(16)}${Math.round(15*r[3]).toString(16)}`;case`rgb`:return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case`rgb%`:return`rgb(${(100*r[0]).toPrecision(3)}%, ${(100*r[1]).toPrecision(3)}%, ${(100*r[2]).toPrecision(3)}%)`;case`rgba%`:return`rgba(${(100*r[0]).toPrecision(3)}%, ${(100*r[1]).toPrecision(3)}%, ${(100*r[2]).toPrecision(3)}%, ${(100*r[3]).toPrecision(3)}%)`;case`hsb`:case`hsv`:return this.hsba||=c.default._rgbaToHSBA(this._array),`hsb(${this.hsba[0]*this.maxes[s.HSB][0]}, ${this.hsba[1]*this.maxes[s.HSB][1]}, ${this.hsba[2]*this.maxes[s.HSB][2]})`;case`hsb%`:case`hsv%`:return this.hsba||=c.default._rgbaToHSBA(this._array),`hsb(${(100*this.hsba[0]).toPrecision(3)}%, ${(100*this.hsba[1]).toPrecision(3)}%, ${(100*this.hsba[2]).toPrecision(3)}%)`;case`hsba`:case`hsva`:return this.hsba||=c.default._rgbaToHSBA(this._array),`hsba(${this.hsba[0]*this.maxes[s.HSB][0]}, ${this.hsba[1]*this.maxes[s.HSB][1]}, ${this.hsba[2]*this.maxes[s.HSB][2]}, ${i})`;case`hsba%`:case`hsva%`:return this.hsba||=c.default._rgbaToHSBA(this._array),`hsba(${(100*this.hsba[0]).toPrecision(3)}%, ${(100*this.hsba[1]).toPrecision(3)}%, ${(100*this.hsba[2]).toPrecision(3)}%, ${(100*i).toPrecision(3)}%)`;case`hsl`:return this.hsla||=c.default._rgbaToHSLA(this._array),`hsl(${this.hsla[0]*this.maxes[s.HSL][0]}, ${this.hsla[1]*this.maxes[s.HSL][1]}, ${this.hsla[2]*this.maxes[s.HSL][2]})`;case`hsl%`:return this.hsla||=c.default._rgbaToHSLA(this._array),`hsl(${(100*this.hsla[0]).toPrecision(3)}%, ${(100*this.hsla[1]).toPrecision(3)}%, ${(100*this.hsla[2]).toPrecision(3)}%)`;case`hsla`:return this.hsla||=c.default._rgbaToHSLA(this._array),`hsla(${this.hsla[0]*this.maxes[s.HSL][0]}, ${this.hsla[1]*this.maxes[s.HSL][1]}, ${this.hsla[2]*this.maxes[s.HSL][2]}, ${i})`;case`hsla%`:return this.hsla||=c.default._rgbaToHSLA(this._array),`hsl(${(100*this.hsla[0]).toPrecision(3)}%, ${(100*this.hsla[1]).toPrecision(3)}%, ${(100*this.hsla[2]).toPrecision(3)}%, ${(100*i).toPrecision(3)}%)`;default:return`rgba(${n[0]},${n[1]},${n[2]},${i})`}}},{key:`setRed`,value:function(t){this._array[0]=t/this.maxes[s.RGB][0],this._calculateLevels()}},{key:`setGreen`,value:function(t){this._array[1]=t/this.maxes[s.RGB][1],this._calculateLevels()}},{key:`setBlue`,value:function(t){this._array[2]=t/this.maxes[s.RGB][2],this._calculateLevels()}},{key:`setAlpha`,value:function(t){this._array[3]=t/this.maxes[this.mode][3],this._calculateLevels()}},{key:`_calculateLevels`,value:function(){for(var t=this._array,n=this.levels=Array(t.length),r=t.length-1;0<=r;--r)n[r]=Math.round(255*t[r]);this.hsla=null,this.hsba=null}},{key:`_getAlpha`,value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:`_storeModeAndMaxes`,value:function(t,n){this.mode=t,this.maxes=n}},{key:`_getMode`,value:function(){return this.mode}},{key:`_getMaxes`,value:function(){return this.maxes}},{key:`_getBlue`,value:function(){return this._array[2]*this.maxes[s.RGB][2]}},{key:`_getBrightness`,value:function(){return this.hsba||=c.default._rgbaToHSBA(this._array),this.hsba[2]*this.maxes[s.HSB][2]}},{key:`_getGreen`,value:function(){return this._array[1]*this.maxes[s.RGB][1]}},{key:`_getHue`,value:function(){return this.mode===s.HSB?(this.hsba||=c.default._rgbaToHSBA(this._array),this.hsba[0]*this.maxes[s.HSB][0]):(this.hsla||=c.default._rgbaToHSLA(this._array),this.hsla[0]*this.maxes[s.HSL][0])}},{key:`_getLightness`,value:function(){return this.hsla||=c.default._rgbaToHSLA(this._array),this.hsla[2]*this.maxes[s.HSL][2]}},{key:`_getRed`,value:function(){return this._array[0]*this.maxes[s.RGB][0]}},{key:`_getSaturation`,value:function(){return this.mode===s.HSB?(this.hsba||=c.default._rgbaToHSBA(this._array),this.hsba[1]*this.maxes[s.HSB][1]):(this.hsla||=c.default._rgbaToHSLA(this._array),this.hsla[1]*this.maxes[s.HSL][1])}}])&&d(n.prototype,r),i&&d(n,i),t}(),o.default.Color);r.default=p},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.fill`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(l=t(`../core/main`))&&l.__esModule?l:{default:l},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}t(`./p5.Color`),o.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},o.default.prototype.endClip=function(){this._renderer.endClip()},o.default.prototype.clip=function(t,n){this._renderer.beginClip(n),t(),this._renderer.endClip(n)},o.default.prototype.background=function(){var t;return(t=this._renderer).background.apply(t,arguments),this},o.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},o.default.prototype.colorMode=function(t,n,r,i,a){return o.default._validateParameters(`colorMode`,arguments),t!==s.RGB&&t!==s.HSB&&t!==s.HSL||(this._colorMode=t,t=this._colorMaxes[t],arguments.length===2?(t[0]=n,t[1]=n,t[2]=n,t[3]=n):arguments.length===4?(t[0]=n,t[1]=r,t[2]=i):arguments.length===5&&(t[0]=n,t[1]=r,t[2]=i,t[3]=a)),this},o.default.prototype.fill=function(){var t;return this._renderer._setProperty(`_fillSet`,!0),this._renderer._setProperty(`_doFill`,!0),(t=this._renderer).fill.apply(t,arguments),this},o.default.prototype.noFill=function(){return this._renderer._setProperty(`_doFill`,!1),this},o.default.prototype.noStroke=function(){return this._renderer._setProperty(`_doStroke`,!1),this},o.default.prototype.stroke=function(){var t;return this._renderer._setProperty(`_strokeSet`,!0),this._renderer._setProperty(`_doStroke`,!0),(t=this._renderer).stroke.apply(t,arguments),this},o.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},o.default.prototype.noErase=function(){return this._renderer.noErase(),this};var l=o.default;r.default=l},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.QUADRATIC=r.LINEAR=r._CTX_MIDDLE=r._DEFAULT_LEADMULT=r._DEFAULT_TEXT_FILL=r.WORD=r.CHAR=r.BOLDITALIC=r.BOLD=r.ITALIC=r.NORMAL=r.BLUR=r.ERODE=r.DILATE=r.POSTERIZE=r.INVERT=r.OPAQUE=r.GRAY=r.THRESHOLD=r.BURN=r.DODGE=r.SOFT_LIGHT=r.HARD_LIGHT=r.OVERLAY=r.REPLACE=r.SCREEN=r.MULTIPLY=r.EXCLUSION=r.SUBTRACT=r.DIFFERENCE=r.LIGHTEST=r.DARKEST=r.ADD=r.REMOVE=r.BLEND=r.UP_ARROW=r.TAB=r.SHIFT=r.RIGHT_ARROW=r.RETURN=r.OPTION=r.LEFT_ARROW=r.ESCAPE=r.ENTER=r.DOWN_ARROW=r.DELETE=r.CONTROL=r.BACKSPACE=r.ALT=r.AUTO=r.HSL=r.HSB=r.RGB=r.MITER=r.BEVEL=r.ROUND=r.SQUARE=r.PROJECT=r.PIE=r.CHORD=r.OPEN=r.CLOSE=r.TESS=r.QUAD_STRIP=r.QUADS=r.TRIANGLE_STRIP=r.TRIANGLE_FAN=r.TRIANGLES=r.LINE_LOOP=r.LINE_STRIP=r.LINES=r.POINTS=r.BASELINE=r.BOTTOM=r.TOP=r.CENTER=r.LEFT=r.RIGHT=r.RADIUS=r.CORNERS=r.CORNER=r.RAD_TO_DEG=r.DEG_TO_RAD=r.RADIANS=r.DEGREES=r.TWO_PI=r.TAU=r.QUARTER_PI=r.PI=r.HALF_PI=r.WAIT=r.TEXT=r.MOVE=r.HAND=r.CROSS=r.ARROW=r.WEBGL2=r.WEBGL=r.P2D=r.VERSION=void 0,r.RGBA=r.HALF_FLOAT=r.FLOAT=r.UNSIGNED_INT=r.UNSIGNED_BYTE=r.COVER=r.CONTAIN=r.FALLBACK=r.LABEL=r.AXES=r.GRID=r._DEFAULT_FILL=r._DEFAULT_STROKE=r.PORTRAIT=r.LANDSCAPE=r.SMOOTH=r.FLAT=r.MIRROR=r.CLAMP=r.REPEAT=r.NEAREST=r.IMAGE=r.IMMEDIATE=r.TEXTURE=r.FILL=r.STROKE=r.CURVE=r.BEZIER=void 0;var i=Math.PI,a=(r.VERSION=`1.11.10`,r.P2D=`p2d`,r.WEBGL=`webgl`,r.WEBGL2=`webgl2`,r.ARROW=`default`,r.CROSS=`crosshair`,r.HAND=`pointer`,r.MOVE=`move`,r.TEXT=`text`,r.WAIT=`wait`,i/2),a=(r.HALF_PI=a,i),a=(r.PI=a,i/4),a=(r.QUARTER_PI=a,2*i),a=(r.TAU=a,2*i),a=(r.TWO_PI=a,r.DEGREES=`degrees`,r.RADIANS=`radians`,i/180),a=(r.DEG_TO_RAD=a,180/i);r.RAD_TO_DEG=a,r.CORNER=`corner`,r.CORNERS=`corners`,r.RADIUS=`radius`,r.RIGHT=`right`,r.LEFT=`left`,r.CENTER=`center`,r.TOP=`top`,r.BOTTOM=`bottom`,r.BASELINE=`alphabetic`,r.POINTS=0,r.LINES=1,r.LINE_STRIP=3,r.LINE_LOOP=2,r.TRIANGLES=4,r.TRIANGLE_FAN=6,r.TRIANGLE_STRIP=5,r.QUADS=`quads`,r.QUAD_STRIP=`quad_strip`,r.TESS=`tess`,r.CLOSE=`close`,r.OPEN=`open`,r.CHORD=`chord`,r.PIE=`pie`,r.PROJECT=`square`,r.SQUARE=`butt`,r.ROUND=`round`,r.BEVEL=`bevel`,r.MITER=`miter`,r.RGB=`rgb`,r.HSB=`hsb`,r.HSL=`hsl`,r.AUTO=`auto`,r.ALT=18,r.BACKSPACE=8,r.CONTROL=17,r.DELETE=46,r.DOWN_ARROW=40,r.ENTER=13,r.ESCAPE=27,r.LEFT_ARROW=37,r.OPTION=18,r.RETURN=13,r.RIGHT_ARROW=39,r.SHIFT=16,r.TAB=9,r.UP_ARROW=38,r.BLEND=`source-over`,r.REMOVE=`destination-out`,r.ADD=`lighter`,r.DARKEST=`darken`,r.LIGHTEST=`lighten`,r.DIFFERENCE=`difference`,r.SUBTRACT=`subtract`,r.EXCLUSION=`exclusion`,r.MULTIPLY=`multiply`,r.SCREEN=`screen`,r.REPLACE=`copy`,r.OVERLAY=`overlay`,r.HARD_LIGHT=`hard-light`,r.SOFT_LIGHT=`soft-light`,r.DODGE=`color-dodge`,r.BURN=`color-burn`,r.THRESHOLD=`threshold`,r.GRAY=`gray`,r.OPAQUE=`opaque`,r.INVERT=`invert`,r.POSTERIZE=`posterize`,r.DILATE=`dilate`,r.ERODE=`erode`,r.BLUR=`blur`,r.NORMAL=`normal`,r.ITALIC=`italic`,r.BOLD=`bold`,r.BOLDITALIC=`bold italic`,r.CHAR=`CHAR`,r.WORD=`WORD`,r._DEFAULT_TEXT_FILL=`#000000`,r._DEFAULT_LEADMULT=1.25,r._CTX_MIDDLE=`middle`,r.LINEAR=`linear`,r.QUADRATIC=`quadratic`,r.BEZIER=`bezier`,r.CURVE=`curve`,r.STROKE=`stroke`,r.FILL=`fill`,r.TEXTURE=`texture`,r.IMMEDIATE=`immediate`,r.IMAGE=`image`,r.NEAREST=`nearest`,r.REPEAT=`repeat`,r.CLAMP=`clamp`,r.MIRROR=`mirror`,r.FLAT=`flat`,r.SMOOTH=`smooth`,r.LANDSCAPE=`landscape`,r.PORTRAIT=`portrait`,r._DEFAULT_STROKE=`#000000`,r._DEFAULT_FILL=`#FFFFFF`,r.GRID=`grid`,r.AXES=`axes`,r.LABEL=`label`,r.FALLBACK=`fallback`,r.CONTAIN=`contain`,r.COVER=`cover`,r.UNSIGNED_BYTE=`unsigned-byte`,r.UNSIGNED_INT=`unsigned-int`,r.FLOAT=`float`,r.HALF_FLOAT=`half-float`,r.RGBA=`rgba`},{}],273:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.search`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.search`),t(`core-js/modules/es.string.split`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(s=t(`./main`))&&s.__esModule?s:{default:s},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`./constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}var l=[s.ARROW,s.CROSS,s.HAND,s.MOVE,s.TEXT,s.WAIT],u=(o.default.prototype._frameRate=0,o.default.prototype._lastFrameTime=window.performance.now(),o.default.prototype._targetFrameRate=60,window.print),d=!1;function f(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function p(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}o.default.prototype.print=function(){var t;arguments.length?(t=console).log.apply(t,arguments):d||(u(),window.confirm(`You just tried to print the webpage. Do you want to prevent this from running again?`)&&(d=!0))},o.default.prototype.frameCount=0,o.default.prototype.deltaTime=0,o.default.prototype.focused=document.hasFocus(),o.default.prototype.cursor=function(t,n,r){var i,a=`auto`,o=this._curElement.elt;l.includes(t)?a=t:typeof t==`string`&&(i=``,n&&r&&typeof n==`number`&&typeof r==`number`&&(i=`${n} ${r}`),a=t.substring(0,7)===`http://`||t.substring(0,8)===`https://`||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?`url(${t}) ${i}, auto`:t),o.style.cursor=a},o.default.prototype.frameRate=function(t){return o.default._validateParameters(`frameRate`,arguments),typeof t!=`number`||t<0?this._frameRate:(this._setProperty(`_targetFrameRate`,t),t===0&&this._setProperty(`_frameRate`,t),this)},o.default.prototype.getFrameRate=function(){return this.frameRate()},o.default.prototype.setFrameRate=function(t){return this.frameRate(t)},o.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},o.default.prototype.noCursor=function(){this._curElement.elt.style.cursor=`none`},o.default.prototype.webglVersion=s.P2D,o.default.prototype.displayWidth=screen.width,o.default.prototype.displayHeight=screen.height,o.default.prototype.windowWidth=0,o.default.prototype.windowHeight=0,o.default.prototype._onresize=function(t){this._setProperty(`windowWidth`,f()),this._setProperty(`windowHeight`,p());var n=this._isGlobal?window:this;typeof n.windowResized!=`function`||(n=n.windowResized(t))===void 0||n||t.preventDefault()},o.default.prototype._updateWindowSize=function(){this._setProperty(`windowWidth`,f()),this._setProperty(`windowHeight`,p())},o.default.prototype.width=0,o.default.prototype.height=0,o.default.prototype.fullscreen=function(t){if(o.default._validateParameters(`fullscreen`,arguments),t===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(t){if(t=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw Error(`Fullscreen not enabled in this browser.`);t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},o.default.prototype.pixelDensity=function(t){var n;return o.default._validateParameters(`pixelDensity`,arguments),typeof t==`number`?(t!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=t),(n=this).resizeCanvas(this.width,this.height,!0)):n=this._pixelDensity,n},o.default.prototype.displayDensity=function(){return window.devicePixelRatio},o.default.prototype.getURL=function(){return location.href},o.default.prototype.getURLPath=function(){return location.pathname.split(`/`).filter(function(t){return t!==``})},o.default.prototype.getURLParams=function(){for(var t,n=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};(t=n.exec(location.search))!=null;)t.index===n.lastIndex&&n.lastIndex++,r[t[1]]=t[2];return r},t=o.default,r.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-own-property-names`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.starts-with`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-own-property-names`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.starts-with`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(l=t(`../main`))&&l.__esModule?l:{default:l};t(`../internationalization`);function a(t,n){n||=console.log.bind(console),o||s(),o.some(function(r){var i;if(t.message&&t.message.match(`\\W?${r.name}\\W`)!==null)return i=r.type===`function`?`${r.name}()`:r.name,n(`Did you just try to use p5.js's ${i} ${r.type}? If so, you may want to move it into your sketch's setup() function.

For more details, see: ${c}`),!0})}var o=null,s=null,c=(i.default._friendlyError=i.default._checkForUserDefinedFunctions=i.default._fesErrorMonitor=function(){},o=null,`https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup`),s=function(){function n(t){return Object.getOwnPropertyNames(t).filter(function(t){return t[0]!==`_`&&!(t in r)&&(r[t]=!0)}).map(function(n){var r=typeof t[n]==`function`?`function`:n===n.toUpperCase()?`constant`:`variable`;return{name:n,type:r}})}var r={};(o=[].concat(n(i.default.prototype),n(t(`../constants`)))).sort(function(t,n){return n.name.length-t.name.length})},l=(i.default.prototype._helpForMisusedAtTopLevelCode=a,document.readyState!==`complete`&&(window.addEventListener(`error`,a,!1),window.addEventListener(`load`,function(){window.removeEventListener(`error`,a,!1)})),i.default);r.default=l},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(i=t(`../main`))&&i.__esModule?i:{default:i};t(`../internationalization`),i.default._friendlyFileLoadError=function(){},t=i.default,r.default=t},{"../internationalization":281,"../main":283}],276:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/web.dom-collections.for-each`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=l(t(`../main`));t(`../internationalization`),c(t(`../constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}function c(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i,o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&((i=c?Object.getOwnPropertyDescriptor(t,r):null)&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=t[r]);return o.default=t,n&&n.set(t,o),o}function l(t){return t&&t.__esModule?t:{default:t}}o.default._fesCodeReader=function(){},r.default=o.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,n,r){t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../main`))&&t.__esModule?t:{default:t};function i(){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(t){return t.stacktrace!==void 0||t[`opera#sourceloc`]!==void 0?this.parseOpera(t):t.stack&&t.stack.match(n)?this.parseV8OrIE(t):t.stack?this.parseFFOrSafari(t):void 0},extractLocation:function(t){return t.indexOf(`:`)===-1?[t]:[(t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,``)))[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split(`
`).filter(function(t){return!!t.match(n)},this).map(function(t){var n=(t=-1<t.indexOf(`(eval `)?t.replace(/eval code/g,`eval`).replace(/(\(eval at [^()]*)|(\),.*$)/g,``):t).replace(/^\s+/,``).replace(/\(eval code/g,`(`),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(n=r?n.replace(r[0],``):n).split(/\s+/).slice(1),r=this.extractLocation(r?r[1]:n.pop());return{functionName:n.join(` `)||void 0,fileName:-1<[`eval`,`<anonymous>`].indexOf(r[0])?void 0:r[0],lineNumber:r[1],columnNumber:r[2],source:t}},this)},parseFFOrSafari:function(t){return t.stack.split(`
`).filter(function(t){return!t.match(r)},this).map(function(t){var n,r;return(t=-1<t.indexOf(` > eval`)?t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,`:$1`):t).indexOf(`@`)===-1&&t.indexOf(`:`)===-1?{functionName:t}:{functionName:(r=t.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(t.replace(n,``)))[0],lineNumber:r[1],columnNumber:r[2],source:t}},this)},parseOpera:function(t){return!t.stacktrace||-1<t.message.indexOf(`
`)&&t.message.split(`
`).length>t.stacktrace.split(`
`).length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split(`
`),i=[],a=2,o=r.length;a<o;a+=2){var s=n.exec(r[a]);s&&i.push({fileName:s[2],lineNumber:s[1],source:r[a]})}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split(`
`),i=[],a=0,o=r.length;a<o;a+=2){var s=n.exec(r[a]);s&&i.push({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[a]})}return i},parseOpera11:function(n){return n.stack.split(`
`).filter(function(n){return!!n.match(t)&&!n.match(/^Error created at/)},this).map(function(t){var n,r=t.split(`@`),i=this.extractLocation(r.pop()),r=r.shift()||``;return{functionName:r.replace(/<anonymous function(: (\w+))?>/,`$2`).replace(/\([^)]*\)/g,``)||void 0,args:(n=r.match(/\(([^)]*)\)/)?r.replace(/^[^(]+\(([^)]*)\)$/,`$1`):n)===void 0||n===`[arguments not available]`?void 0:n.split(`,`),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t}},this)}}}t.default._getErrorStackParser=function(){return new i},t=t.default,r.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.map`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=(a=t(`../main`))&&a.__esModule?a:{default:a};(function(t){if(!(t&&t.__esModule)&&!(t===null||s(t)!==`object`&&typeof t!=`function`)){var n=o();if(n&&n.has(t))return n.get(t);var r,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var c;Object.prototype.hasOwnProperty.call(t,r)&&((c=a?Object.getOwnPropertyDescriptor(t,r):null)&&(c.get||c.set)?Object.defineProperty(i,r,c):i[r]=t[r])}i.default=t,n&&n.set(t,i)}})(t(`../constants`)),t(`../internationalization`);function o(){var t;return typeof WeakMap==`function`?(t=new WeakMap,o=function(){return t},t):null}function s(t){return(s=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}a.default._validateParameters=a.default._clearValidateParamsCache=function(){},t=a.default,r.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var c;Object.prototype.hasOwnProperty.call(t,r)&&((c=o?Object.getOwnPropertyDescriptor(t,r):null)&&(c.get||c.set)?Object.defineProperty(i,r,c):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`./constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}r.default={modeAdjust:function(t,n,r,i,a){var s;return a===o.CORNER?s={x:t,y:n,w:Math.abs(r),h:Math.abs(i)}:a===o.CORNERS?s={x:Math.min(t,r),y:Math.min(n,i),w:Math.abs(r-t),h:Math.abs(i-n)}:a===o.RADIUS?s={x:t-(r=Math.abs(r)),y:n-(i=Math.abs(i)),w:2*r,h:2*i}:a===o.CENTER&&(s={x:t-.5*(r=Math.abs(r)),y:n-.5*(i=Math.abs(i)),w:r,h:i}),s}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,n,r){t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`);var i=(a=t(`../core/main`))&&a.__esModule?a:{default:a};t(`./internationalization`);var a=Promise.resolve();Promise.all([new Promise(function(t,n){document.readyState===`complete`?t():window.addEventListener(`load`,t,!1)}),a]).then(function(){var t;window._setupDone===void 0?window.mocha||(t=new Event(`p5Ready`),window.dispatchEvent(t),(window.setup&&typeof window.setup==`function`||window.draw&&typeof window.draw==`function`)&&!i.default.instance&&new i.default):console.warn(`p5.js seems to have been imported multiple times. Please remove the duplicate import`)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,n,r){t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.setTranslatorLanguage=r.currentTranslatorLanguage=r.availableTranslatorLanguages=r.initialize=r.translator=void 0;var i,a,o=c(t(`i18next`)),s=c(t(`i18next-browser-languagedetector`));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(n,r){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.init(n,r)}var n,r,o;return n=t,(r=[{key:`fetchWithTimeout`,value:function(t,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(t,n),new Promise(function(t,n){return setTimeout(function(){return n(Error(`timeout`))},r)})])}},{key:`init`,value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=t,this.options=n}},{key:`read`,value:function(t,n,r){var o=this.options.loadPath;t===this.options.fallback?r(null,i[t][n]):a.includes(t)?(o=this.services.interpolator.interpolate(o,{lng:t,ns:n}),this.loadUrl(o,r)):r(`Not found`,!1)}},{key:`loadUrl`,value:function(t,n){this.fetchWithTimeout(t).then(function(n){if(n.ok)return n.json();throw Error(`failed loading ${t}`)},function(){throw Error(`failed loading ${t}`)}).then(function(t){return n(null,t)}).catch(n)}}])&&l(n.prototype,r),o&&l(n,o),t}();u.type=`backend`,r.translator=function(t,n){console.debug(`p5.js translator called before translations were loaded`),o.default.t(t,n)},r.initialize=function(){return o.default.use(s.default).use(u).init({fallbackLng:`en`,nestingPrefix:`$tr(`,nestingSuffix:`)`,defaultNS:`translation`,returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:[`querystring`,`navigator`,`htmlTag`,`path`,`subdomain`],caches:[]},backend:{fallback:`en`,loadPath:`https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json`},partialBundledLanguages:!0,resources:i}).then(function(t){r.translator=t},function(t){return console.debug(`Translations failed to load (${t})`)})},r.availableTranslatorLanguages=function(){return o.default.languages},r.currentTranslatorLanguage=function(t){return o.default.language},r.setTranslatorLanguage=function(t){return o.default.changeLanguage(t||void 0,function(t){return console.debug(`Translations failed to load (${t})`)})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`./main`))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw Error(`pushStyle() not used, see push()`)},t.default.prototype.popStyle=function(){throw Error(`popStyle() not used, see pop()`)},t.default.prototype.popMatrix=function(){throw Error(`popMatrix() not used, see pop()`)},t.default.prototype.pushMatrix=function(){throw Error(`pushMatrix() not used, see push()`)},t=t.default,r.default=t},{"./main":283}],283:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-own-property-names`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.object.get-own-property-names`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t(`./shim`);var o=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var c;Object.prototype.hasOwnProperty.call(t,r)&&((c=o?Object.getOwnPropertyDescriptor(t,r):null)&&(c.get||c.set)?Object.defineProperty(i,r,c):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`./constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}function c(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l,u=function(){function t(n,r){var i=this;if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this._isGlobal=!n,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId=`p5_loading`,this._registeredMethods={};var r=Object.getOwnPropertyNames(t.prototype._registeredMethods),a=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;this._registeredMethods[u]=t.prototype._registeredMethods[u].slice()}}catch(t){o=!0,s=t}finally{try{a||l.return==null||l.return()}finally{if(o)throw s}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),t.prototype.callRegisteredHooksFor=function(n){var r=this||t.prototype,i=this._isGlobal?window:this;if(r._registeredMethods.hasOwnProperty(n)){var r=r._registeredMethods[n],a=!0,n=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;typeof l==`function`&&l.call(i)}}catch(t){n=!0,o=t}finally{try{a||c.return==null||c.return()}finally{if(n)throw o}}}},this._start=function(){i._userNode&&typeof i._userNode==`string`&&(i._userNode=document.getElementById(i._userNode));var n=i._isGlobal?window:i;if(n.preload){i.callRegisteredHooksFor(`beforePreload`);var r,a=document.getElementById(i._loadingScreenId),o=(a||((a=document.createElement(`div`)).innerHTML=`Loading...`,a.style.position=`absolute`,a.id=i._loadingScreenId,(i._userNode||document.body).appendChild(a)),i._preloadMethods);for(r in o){o[r]=o[r]||t;var s=o[r];s!==t.prototype&&s!==t||(i._isGlobal&&(window[r]=i._wrapPreload(i,r)),s=i),i._registeredPreloadMethods[r]=s[r],s[r]=i._wrapPreload(s,r)}n.preload(),i._runIfPreloadsAreDone()}else i._setup(),i._recording||i._draw()},this._runIfPreloadsAreDone=function(){var t,n=this._isGlobal?window:this;n._preloadCount===0&&((t=document.getElementById(n._loadingScreenId))&&t.parentNode.removeChild(t),this.callRegisteredHooksFor(`afterPreload`),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),n._setup(),this._recording||n._draw()))},this._decrementPreload=function(){var t=this._isGlobal?window:this;t._preloadDone||typeof t.preload!=`function`||(t._setProperty(`_preloadCount`,t._preloadCount-1),t._runIfPreloadsAreDone())},this._wrapPreload=function(t,n){var r=this;return function(){r._incrementPreload();var i=[...arguments];return r._registeredPreloadMethods[n].apply(t,i)}},this._incrementPreload=function(){var t=this._isGlobal?window:this;t._preloadDone||t._setProperty(`_preloadCount`,t._preloadCount+1)},this._setup=function(){i.callRegisteredHooksFor(`beforeSetup`),i.createCanvas(i._defaultCanvasSize.width,i._defaultCanvasSize.height,`p2d`);var t=i._isGlobal?window:i;if(typeof t.preload==`function`)for(var n in i._preloadMethods)t[n]=i._preloadMethods[n][n],t[n]&&i&&(t[n]=t[n].bind(i));i._millisStart=window.performance.now(),t._preloadDone=!0,typeof t.setup==`function`&&t.setup();var r=document.getElementsByTagName(`canvas`),a=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;u.dataset.hidden===`true`&&(u.style.visibility=``,delete u.dataset.hidden)}}catch(t){o=!0,s=t}finally{try{a||l.return==null||l.return()}finally{if(o)throw s}}i._lastTargetFrameTime=window.performance.now(),i._lastRealFrameTime=window.performance.now(),i._setupDone=!0,(i._accessibleOutputs.grid||i._accessibleOutputs.text)&&i._updateAccsOutput(),i.callRegisteredHooksFor(`afterSetup`)},this._draw=function(t){var t=t||window.performance.now(),n=t-i._lastTargetFrameTime,r=1e3/i._targetFrameRate;(!i._loop||r-5<=n)&&(i.deltaTime=t-i._lastRealFrameTime,i._setProperty(`deltaTime`,i.deltaTime),i._frameRate=1e3/i.deltaTime,i.redraw(),i._lastTargetFrameTime=Math.max(i._lastTargetFrameTime+r,t),i._lastRealFrameTime=t,i._updateMouseCoords!==void 0&&(i._updateMouseCoords(),i._setProperty(`movedX`,0),i._setProperty(`movedY`,0))),i._loop&&(i._requestAnimId=window.requestAnimationFrame(i._draw))},this._setProperty=function(t,n){i[t]=n,i._isGlobal&&(window[t]=n)},this.remove=function(){i._startListener&&window.removeEventListener(`load`,i._startListener,!1);var n=document.getElementById(i._loadingScreenId);if(n&&(n.parentNode.removeChild(n),i._incrementPreload()),i._curElement){for(var r in i._loop=!1,i._requestAnimId&&window.cancelAnimationFrame(i._requestAnimId),i._events)window.removeEventListener(r,i._events[r]);var a=!0,n=!1,o=void 0;try{for(var s,c=i._elements[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l,u=s.value;for(l in u.elt&&u.elt.parentNode&&u.elt.parentNode.removeChild(u.elt),u._events)u.elt.removeEventListener(l,u._events[l])}}catch(t){n=!0,o=t}finally{try{a||c.return==null||c.return()}finally{if(n)throw o}}var d=i;i._registeredMethods.remove.forEach(function(t){t!==void 0&&t.call(d)})}if(i._isGlobal){for(var f in t.prototype)try{delete window[f]}catch{window[f]=void 0}for(var p in i)if(i.hasOwnProperty(p))try{delete window[p]}catch{window[p]=void 0}t.instance=null}};var d,f,p=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var m in t.instance=this,t.prototype)typeof t.prototype[m]==`function`?(d=m.substring(2),this._events.hasOwnProperty(d)||(Math.hasOwnProperty(m)&&Math[m]===t.prototype[m]?p(m,t.prototype[m]):p(m,t.prototype[m].bind(this)))):p(m,t.prototype[m]);for(var h in this)this.hasOwnProperty(h)&&p(h,this[h])}else n(this),t._checkForUserDefinedFunctions(this);for(f in this._updateWindowSize(),this.callRegisteredHooksFor(`init`),this._setupPromisePreloads(),this._events){var g=this[`_on${f}`];g&&(g=g.bind(this),window.addEventListener(f,g,{passive:!1}),this._events[f]=g)}function _(){i._setProperty(`focused`,!0)}function v(){i._setProperty(`focused`,!1)}window.addEventListener(`focus`,_),window.addEventListener(`blur`,v),this.registerMethod(`remove`,function(){window.removeEventListener(`focus`,_),window.removeEventListener(`blur`,v)}),document.readyState===`complete`?this._start():(this._startListener=this._start.bind(this),window.addEventListener(`load`,this._startListener,!1))}var n,r,i;return n=t,(r=[{key:`_initializeInstanceVariables`,value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=o.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:`registerPreloadMethod`,value:function(n,r){t.prototype._preloadMethods.hasOwnProperty(n)||(t.prototype._preloadMethods[n]=r)}},{key:`registerMethod`,value:function(n,r){var i=this||t.prototype;i._registeredMethods.hasOwnProperty(n)||(i._registeredMethods[n]=[]),i._registeredMethods[n].push(r)}},{key:`unregisterMethod`,value:function(n,r){var i=this||t.prototype;if(i._registeredMethods.hasOwnProperty(n)){for(var a=i._registeredMethods[n],o=[],s=0;s<a.length;s++)a[s]===r&&o.push(s);for(var c=o.length-1;0<=c;c--)a.splice(o[c],1)}}},{key:`_createFriendlyGlobalFunctionBinder`,value:function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=n.globalObject||window;return n.log||console.log.bind(console),function(n,i){t.disableFriendlyErrors,r[n]=i}}}])&&c(n.prototype,r),i&&c(n,i),t}();for(l in u.instance=null,u.disableFriendlyErrors=!1,o)u.prototype[l]=o[l];u.VERSION=o.VERSION,u.prototype._preloadMethods={loadJSON:u.prototype,loadImage:u.prototype,loadStrings:u.prototype,loadXML:u.prototype,loadBytes:u.prototype,loadTable:u.prototype,loadFont:u.prototype,loadModel:u.prototype,loadShader:u.prototype},u.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},u.prototype._registeredPreloadMethods={},r.default=u},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`./main`))&&t.__esModule?t:{default:t};function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i.default.Element=function(){function t(n,r){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.elt=n,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var n,r,o;return n=t,o=[{key:`_adjustListener`,value:function(t,n,r){return!1===n?i.default.Element._detachListener(t,r):i.default.Element._attachListener(t,n,r),this}},{key:`_attachListener`,value:function(t,n,r){r._events[t]&&i.default.Element._detachListener(t,r),n=n.bind(r),r.elt.addEventListener(t,n,!1),r._events[t]=n}},{key:`_detachListener`,value:function(t,n){var r=n._events[t];n.elt.removeEventListener(t,r,!1),n._events[t]=null}}],(r=[{key:`parent`,value:function(t){return t===void 0?this.elt.parentNode:(typeof t==`string`?(t[0]===`#`&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof i.default.Element&&(t=t.elt),t.appendChild(this.elt),this)}},{key:`id`,value:function(t){return t===void 0?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:`class`,value:function(t){return t===void 0?this.elt.className:(this.elt.className=t,this)}},{key:`mousePressed`,value:function(t){return i.default.Element._adjustListener(`mousedown`,function(n){return this._pInst._setProperty(`mouseIsPressed`,!0),this._pInst._setMouseButton(n),t.call(this,n)},this),this}},{key:`doubleClicked`,value:function(t){return i.default.Element._adjustListener(`dblclick`,t,this),this}},{key:`mouseWheel`,value:function(t){return i.default.Element._adjustListener(`wheel`,t,this),this}},{key:`mouseReleased`,value:function(t){return i.default.Element._adjustListener(`mouseup`,t,this),this}},{key:`mouseClicked`,value:function(t){return i.default.Element._adjustListener(`click`,t,this),this}},{key:`mouseMoved`,value:function(t){return i.default.Element._adjustListener(`mousemove`,t,this),this}},{key:`mouseOver`,value:function(t){return i.default.Element._adjustListener(`mouseover`,t,this),this}},{key:`mouseOut`,value:function(t){return i.default.Element._adjustListener(`mouseout`,t,this),this}},{key:`touchStarted`,value:function(t){return i.default.Element._adjustListener(`touchstart`,t,this),this}},{key:`touchMoved`,value:function(t){return i.default.Element._adjustListener(`touchmove`,t,this),this}},{key:`touchEnded`,value:function(t){return i.default.Element._adjustListener(`touchend`,t,this),this}},{key:`dragOver`,value:function(t){return i.default.Element._adjustListener(`dragover`,t,this),this}},{key:`dragLeave`,value:function(t){return i.default.Element._adjustListener(`dragleave`,t,this),this}},{key:`_setProperty`,value:function(t,n){this[t]=n}}])&&a(n.prototype,r),o&&a(n,o),t}(),t=i.default.Element,r.default=t},{"./main":283}],285:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.object.get-prototype-of`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(h=t(`./main`))&&h.__esModule?h:{default:h},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`./constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function d(t){return function(){var n,r=m(t);return f(this,function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=m(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}function f(t,n){return!n||a(n)!==`object`&&typeof n!=`function`?p(t):n}function p(t){if(t===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}o.default.Graphics=function(t){var n=a;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&u(n,t);var r,i=d(a);function a(t,n,r,c,l){var u;if(!(this instanceof a))throw TypeError(`Cannot call a class as a function`);m=l||document.createElement(`canvas`),(u=i.call(this,m,c)).canvas=m;var d,m=r||s.P2D,r=c._userNode||document.body;for(d in l||r.appendChild(u.canvas),o.default.prototype)u[d]||(typeof o.default.prototype[d]==`function`?u[d]=o.default.prototype[d].bind(p(u)):u[d]=o.default.prototype[d]);return o.default.prototype._initializeInstanceVariables.apply(p(u)),u.width=t,u.height=n,u._pixelDensity=c._pixelDensity,m===s.WEBGL?(u._renderer=new o.default.RendererGL(u.canvas,p(u),!1),t=(l=u._renderer._adjustDimensions(t,n)).adjustedWidth,n=l.adjustedHeight):u._renderer=new o.default.Renderer2D(u.canvas,p(u),!1),c._elements.push(p(u)),Object.defineProperty(p(u),`deltaTime`,{get:function(){return this._pInst.deltaTime}}),u._renderer.resize(t,n),u._renderer._applyDefaults(),f(u,p(u))}return n=a,(t=[{key:`reset`,value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:`remove`,value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var t,n=this._pInst._elements.indexOf(this);for(t in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(t,this._events[t]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:`createFramebuffer`,value:function(t){return new o.default.Framebuffer(this,t)}}])&&l(n.prototype,t),r&&l(n,r),a}(o.default.Element);var h=o.default.Graphics;r.default=h},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=(m=t(`./main`))&&m.__esModule?m:{default:m},o=function(t){if(t&&t.__esModule)return t;if(t===null||c(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=a?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}function c(t){return(c=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}function l(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function d(t){return function(){var n,r,i=p(t);return n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=p(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this,!(r=n)||c(r)!==`object`&&typeof r!=`function`?f(i):r}}function f(t){if(t===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){var n=s;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&u(n,t);var r,i=d(s);function s(t,n,r){var a;if(this instanceof s)return(a=i.call(this,t,n)).canvas=t,a._pixelsState=n,r?(a._isMainCanvas=!0,a._pInst._setProperty(`_curElement`,f(a)),a._pInst._setProperty(`canvas`,a.canvas),a._pInst._setProperty(`width`,a.width),a._pInst._setProperty(`height`,a.height)):(a.canvas.style.display=`none`,a._styles=[]),a._clipping=!1,a._clipInvert=!1,a._textSize=12,a._textLeading=15,a._textFont=`sans-serif`,a._textStyle=o.NORMAL,a._textAscent=null,a._textDescent=null,a._textAlign=o.LEFT,a._textBaseline=o.BASELINE,a._textWrap=o.WORD,a._rectMode=o.CORNER,a._ellipseMode=o.CENTER,a._curveTightness=0,a._imageMode=o.CORNER,a._tint=null,a._doStroke=!0,a._doFill=!0,a._strokeSet=!1,a._fillSet=!1,a._leadingSet=!1,a._pushPopDepth=0,a;throw TypeError(`Cannot call a class as a function`)}return n=s,(t=[{key:`push`,value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:`pop`,value:function(t){this._pushPopDepth--,t.properties&&Object.assign(this,t.properties)}},{key:`beginClip`,value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw Error(`It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?`);this._clipping=!0,this._clipInvert=t.invert}},{key:`endClip`,value:function(){if(!this._clipping)throw Error(`It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?`);this._clipping=!1}},{key:`resize`,value:function(t,n){this.width=t,this.height=n,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=n*this._pInst._pixelDensity,this.elt.style.width=`${t}px`,this.elt.style.height=`${n}px`,this._isMainCanvas&&(this._pInst._setProperty(`width`,this.width),this._pInst._setProperty(`height`,this.height))}},{key:`get`,value:function(t,n,r,i){var o=this._pixelsState,s=o._pixelDensity,c=this.canvas;if(t===void 0&&n===void 0)t=n=0,r=o.width,i=o.height;else if(t*=s,n*=s,r===void 0&&i===void 0)return t<0||n<0||t>=c.width||n>=c.height?[0,0,0,0]:this._getPixel(t,n);return o=new a.default.Image(r*s,i*s),o.pixelDensity(s),o.canvas.getContext(`2d`).drawImage(c,t,n,r*s,i*s,0,0,r*s,i*s),o}},{key:`textLeading`,value:function(t){return typeof t==`number`?(this._setProperty(`_leadingSet`,!0),this._setProperty(`_textLeading`,t),this._pInst):this._textLeading}},{key:`textStyle`,value:function(t){return t?(t!==o.NORMAL&&t!==o.ITALIC&&t!==o.BOLD&&t!==o.BOLDITALIC||this._setProperty(`_textStyle`,t),this._applyTextProperties()):this._textStyle}},{key:`textAscent`,value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:`textDescent`,value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:`textAlign`,value:function(t,n){return t===void 0?{horizontal:this._textAlign,vertical:this._textBaseline}:(this._setProperty(`_textAlign`,t),n!==void 0&&this._setProperty(`_textBaseline`,n),this._applyTextProperties())}},{key:`textWrap`,value:function(t){return this._setProperty(`_textWrap`,t),this._textWrap}},{key:`text`,value:function(t,n,r,i,a){var s,c,l,u,d=this._pInst,f=this._textWrap,p=Number.MAX_VALUE,m=r;if((this._doFill||this._doStroke)&&t!==void 0){if(s=(t=(t=typeof t==`string`?t:t.toString()).replace(/(\t)/g,`  `)).split(`
`),i!==void 0){switch(this._rectMode===o.CENTER&&(n-=i/2),this._textAlign){case o.CENTER:n+=i/2;break;case o.RIGHT:n+=i}if(a!==void 0){this._rectMode===o.CENTER&&(r-=a/2,m-=a/2);var t=r,h=d.textAscent();switch(this._textBaseline){case o.BOTTOM:u=r+a,r=Math.max(u,r),m+=h;break;case o.CENTER:u=r+a/2,r=Math.max(u,r),m+=h/2}p=r+a-h,this._textBaseline===o.CENTER&&(p=t+a-h/2)}else this._textBaseline!==o.BOTTOM&&this._textBaseline!==o.CENTER||(m=r-(t=d.textSize()*this._textLeading)/2,p=r+t/2);if(f===o.WORD){for(var g=[],_=0;_<s.length;_++){for(var v=``,y=s[_].split(` `),b=0;b<y.length;b++)c=`${v+y[b]} `,v=i<(l=this.textWidth(c))&&0<v.length?(g.push(v),`${y[b]} `):c;g.push(v)}var x=0;this._textBaseline===o.CENTER?x=(g.length-1)*d.textLeading()/2:this._textBaseline===o.BOTTOM&&(x=(g.length-1)*d.textLeading());for(var S=0;S<s.length;S++){v=``,y=s[S].split(` `);for(var C=0;C<y.length;C++)c=`${v+y[C]} `,i<(l=this.textWidth(c))&&0<v.length?(this._renderText(d,v.trim(),n,r-x,p,m),v=`${y[C]} `,r+=d.textLeading()):v=c;this._renderText(d,v.trim(),n,r-x,p,m),r+=d.textLeading()}}else{for(var w=[],T=0;T<s.length;T++)for(var E=s[T].split(v=``),D=0;D<E.length;D++)c=`${v+E[D]}`,(l=this.textWidth(c))<=i?v+=E[D]:i<l&&0<v.length&&(w.push(v),v=`${E[D]}`);w.push(v);var O=0;this._textBaseline===o.CENTER?O=(w.length-1)*d.textLeading()/2:this._textBaseline===o.BOTTOM&&(O=(w.length-1)*d.textLeading());for(var k=0;k<s.length;k++){E=s[k].split(v=``);for(var A=0;A<E.length;A++)c=`${v+E[A]}`,(l=this.textWidth(c))<=i?v+=E[A]:i<l&&0<v.length&&(this._renderText(d,v.trim(),n,r-O,p,m),r+=d.textLeading(),v=`${E[A]}`)}this._renderText(d,v.trim(),n,r-O,p,m),r+=d.textLeading()}}else{var j=0;this._textBaseline===o.CENTER?j=(s.length-1)*d.textLeading()/2:this._textBaseline===o.BOTTOM&&(j=(s.length-1)*d.textLeading());for(var M=0;M<s.length;M++)this._renderText(d,s[M],n,r-j,p,m-j),r+=d.textLeading()}return d}}},{key:`_applyDefaults`,value:function(){return this}},{key:`_isOpenType`,value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return c(t)===`object`&&t.font&&t.font.supported}},{key:`_updateTextMetrics`,value:function(){var t,n,r,i,a,o;return this._isOpenType()?(this._setProperty(`_textAscent`,this._textFont._textAscent()),this._setProperty(`_textDescent`,this._textFont._textDescent())):((t=document.createElement(`span`)).style.fontFamily=this._textFont,t.style.fontSize=`${this._textSize}px`,t.innerHTML=`ABCjgq|`,(o=document.createElement(`div`)).style.display=`inline-block`,o.style.width=`1px`,o.style.height=`0px`,i=((n=document.createElement(`div`)).appendChild(t),n.appendChild(o),n.style.height=`0px`,n.style.overflow=`hidden`,document.body.appendChild(n),o.style.verticalAlign=`baseline`,h(o)),a=h(t),r=i[1]-a[1],i=(o.style.verticalAlign=`bottom`,h(o)),a=h(t),o=i[1]-a[1]-r,document.body.removeChild(n),this._setProperty(`_textAscent`,r),this._setProperty(`_textDescent`,o)),this}}])&&l(n.prototype,t),r&&l(n,r),s}(a.default.Element);function h(t){var n=0,r=0;if(t.offsetParent)for(;n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;);else n+=t.offsetLeft,r+=t.offsetTop;return[n,r]}m.prototype.textSize=function(t){return typeof t==`number`?(this._setProperty(`_textSize`,t),this._leadingSet||this._setProperty(`_textLeading`,t*o._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},a.default.Renderer=m,t=a.default.Renderer,r.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.reflect.get`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(h=t(`./main`))&&h.__esModule?h:{default:h},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`./constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,n,r){return(u=typeof Reflect<`u`&&Reflect.get?Reflect.get:function(t,n,r){var t=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&(t=p(t))!==null;);return t}(t,n);if(t)return(t=Object.getOwnPropertyDescriptor(t,n)).get?t.get.call(r):t.value})(t,n,r||t)}function d(t,n){return(d=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t){return function(){var n,r=p(t),r=(n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),this);if(!n||a(n)!==`object`&&typeof n!=`function`){if(r!==void 0)return r;throw ReferenceError(`this hasn't been initialised - super() hasn't been called`)}return n}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t(`./p5.Renderer`);var m=`rgba(0,0,0,0)`,h=function(t){var n=a;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&d(n,t);var r,i=f(a);function a(t,n,r){if(this instanceof a)return(t=i.call(this,t,n,r)).drawingContext=t.canvas.getContext(`2d`),t._pInst._setProperty(`drawingContext`,t.drawingContext),t;throw TypeError(`Cannot call a class as a function`)}return n=a,(t=[{key:`getFilterGraphicsLayer`,value:function(){var t;return this.filterGraphicsLayer||=(t=(this._pInst instanceof o.default.Graphics?this._pInst:this)._pInst,new o.default.Graphics(this.width,this.height,s.WEBGL,t)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:`_applyDefaults`,value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=s.BLEND,this._setFill(s._DEFAULT_FILL),this._setStroke(s._DEFAULT_STROKE),this.drawingContext.lineCap=s.ROUND,this.drawingContext.font=`normal 12px sans-serif`}},{key:`resize`,value:function(t,n){u(p(a.prototype),`resize`,this).call(this,t,n),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:`background`,value:function(){var t,n;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof o.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(t=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(t,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(t=this._getFill(),n=(n=this._pInst).color.apply(n,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(n.levels),n=n.toString(),this._setFill(n),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(t),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:`clear`,value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:`fill`,value:function(){var t=(t=this._pInst).color.apply(t,arguments);this._setFill(t.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors(`fill`,t.levels)}},{key:`stroke`,value:function(){var t=(t=this._pInst).color.apply(t,arguments);this._setStroke(t.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors(`stroke`,t.levels)}},{key:`erase`,value:function(t,n){this._isErasing||=(this._cachedFillStyle=this.drawingContext.fillStyle,t=this._pInst.color(255,t).toString(),this.drawingContext.fillStyle=t,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t=this._pInst.color(255,n).toString(),this.drawingContext.strokeStyle=t,n=this._cachedBlendMode,this.blendMode(s.REMOVE),this._cachedBlendMode=n,!0)}},{key:`noErase`,value:function(){this._isErasing&&=(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),!1)}},{key:`beginClip`,value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=(u(p(a.prototype),`beginClip`,this).call(this,t),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),t=(this.drawingContext.fillStyle=t,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),t=(this.drawingContext.strokeStyle=t,this._cachedBlendMode);this.blendMode(s.BLEND),this._cachedBlendMode=t,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:`endClip`,value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),u(p(a.prototype),`endClip`,this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:`image`,value:function(t,n,r,i,a,s,c,l,u){t.gifProperties&&t._animateGif(this._pInst);try{o.default.MediaElement&&t instanceof o.default.MediaElement&&t._ensureCanvas();var d=(d=this._tint&&t.canvas?this._getTintedImageCanvas(t):d)||t.canvas||t.elt,f=1;t.width&&0<t.width&&(f=d.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(d,f*n,f*r,f*i,f*a,s,c,l,u),this._isErasing&&this._pInst.erase()}catch(t){if(t.name!==`NS_ERROR_NOT_AVAILABLE`)throw t}}},{key:`_getTintedImageCanvas`,value:function(t){if(!t.canvas)return t;t.tintCanvas||=document.createElement(`canvas`),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);var n=t.tintCanvas.getContext(`2d`);return n.save(),n.clearRect(0,0,t.canvas.width,t.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(n.drawImage(t.canvas,0,0),n.globalCompositeOperation=`luminosity`,n.drawImage(t.canvas,0,0),n.globalCompositeOperation=`color`,n.drawImage(t.canvas,0,0),n.globalCompositeOperation=`multiply`,n.fillStyle=`rgb(${this._tint.slice(0,3).join(`, `)})`,n.fillRect(0,0,t.canvas.width,t.canvas.height),n.globalCompositeOperation=`destination-in`),n.globalAlpha=this._tint[3]/255,n.drawImage(t.canvas,0,0),n.restore(),t.tintCanvas}},{key:`blendMode`,value:function(t){if(t===s.SUBTRACT)console.warn(`blendMode(SUBTRACT) only works in WEBGL mode.`);else{if(t!==s.BLEND&&t!==s.REMOVE&&t!==s.DARKEST&&t!==s.LIGHTEST&&t!==s.DIFFERENCE&&t!==s.MULTIPLY&&t!==s.EXCLUSION&&t!==s.SCREEN&&t!==s.REPLACE&&t!==s.OVERLAY&&t!==s.HARD_LIGHT&&t!==s.SOFT_LIGHT&&t!==s.DODGE&&t!==s.BURN&&t!==s.ADD)throw Error(`Mode ${t} not recognized.`);this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t}}},{key:`blend`,value:function(){for(var t=this.drawingContext.globalCompositeOperation,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[r.length-1],s=Array.prototype.slice.call(r,0,r.length-1);this.drawingContext.globalCompositeOperation=a,o.default.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=t}},{key:`_getPixel`,value:function(t,n){return t=this.drawingContext.getImageData(t,n,1,1).data,[t[0],t[1],t[2],t[3]]}},{key:`loadPixels`,value:function(){var t=this._pixelsState,n=t._pixelDensity,r=this.width*n,n=this.height*n,r=this.drawingContext.getImageData(0,0,r,n);t._setProperty(`imageData`,r),t._setProperty(`pixels`,r.data)}},{key:`set`,value:function(t,n,r){t=Math.floor(t),n=Math.floor(n);var i=this._pixelsState;if(r instanceof o.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(i._pixelDensity,i._pixelDensity),this.drawingContext.clearRect(t,n,r.width,r.height),this.drawingContext.drawImage(r.canvas,t,n),this.drawingContext.restore();else{var a=0,s=0,c=0,l=0,u=4*(n*i._pixelDensity*(this.width*i._pixelDensity)+t*i._pixelDensity);if(i.imageData||i.loadPixels(),typeof r==`number`)u<i.pixels.length&&(c=s=a=r,l=255);else if(Array.isArray(r)){if(r.length<4)throw Error(`pixel array must be of the form [R, G, B, A]`);u<i.pixels.length&&(a=r[0],s=r[1],c=r[2],l=r[3])}else r instanceof o.default.Color&&u<i.pixels.length&&(a=r.levels[0],s=r.levels[1],c=r.levels[2],l=r.levels[3]);for(var d=0;d<i._pixelDensity;d++)for(var f=0;f<i._pixelDensity;f++)u=4*((n*i._pixelDensity+f)*this.width*i._pixelDensity+(t*i._pixelDensity+d)),i.pixels[u]=a,i.pixels[u+1]=s,i.pixels[u+2]=c,i.pixels[u+3]=l}}},{key:`updatePixels`,value:function(t,n,r,i){var a=this._pixelsState,o=a._pixelDensity;t===void 0&&n===void 0&&r===void 0&&i===void 0&&(n=t=0,r=this.width,i=this.height),t*=o,n*=o,r*=o,i*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=a.imageData),this.drawingContext.putImageData(a.imageData,0,0,t,n,r,i)}},{key:`arc`,value:function(t,n,r,i,a,o,c){var l=this.drawingContext,t=t+r/2,n=n+i/2,r=r/2,i=i/2,u=!(c===s.CHORD||c===s.OPEN||(o-a)%s.TWO_PI==0);return this._doFill&&(this._clipping||l.beginPath(),l.ellipse(t,n,r,i,0,a,o),u&&l.lineTo(t,n),l.closePath(),this._clipping||l.fill()),this._doStroke&&(this._clipping||l.beginPath(),l.ellipse(t,n,r,i,0,a,o),c===s.PIE&&u&&l.lineTo(t,n),c!==s.PIE&&c!==s.CHORD||l.closePath(),this._clipping||l.stroke()),this}},{key:`ellipse`,value:function(t){var n=this.drawingContext,r=this._doFill,i=this._doStroke,a=parseFloat(t[0]),o=parseFloat(t[1]),s=parseFloat(t[2]),t=parseFloat(t[3]);if(r&&!i){if(this._getFill()===m)return this}else if(!r&&i&&this._getStroke()===m)return this;a+=s/2,o+=t/2,s/=2,t/=2,this._clipping||n.beginPath(),n.ellipse(a,o,s,t,0,0,2*Math.PI),n.closePath(),!this._clipping&&r&&n.fill(),!this._clipping&&i&&n.stroke()}},{key:`line`,value:function(t,n,r,i){var a=this.drawingContext;return this._doStroke&&this._getStroke()!==m&&(this._clipping||a.beginPath(),a.moveTo(t,n),a.lineTo(r,i),a.stroke()),this}},{key:`point`,value:function(t,n){var r,i,a=this.drawingContext;return!this._doStroke||this._getStroke()===m?this:(r=this._getStroke(),i=this._getFill(),this._clipping||this._setFill(r),this._clipping||a.beginPath(),a.arc(t,n,a.lineWidth/2,0,s.TWO_PI,!1),void(this._clipping||(a.fill(),this._setFill(i))))}},{key:`quad`,value:function(t,n,r,i,a,o,s,c){var l=this.drawingContext,u=this._doFill,d=this._doStroke;if(u&&!d){if(this._getFill()===m)return this}else if(!u&&d&&this._getStroke()===m)return this;return this._clipping||l.beginPath(),l.moveTo(t,n),l.lineTo(r,i),l.lineTo(a,o),l.lineTo(s,c),l.closePath(),!this._clipping&&u&&l.fill(),!this._clipping&&d&&l.stroke(),this}},{key:`rect`,value:function(t){var n,r,i=t[0],a=t[1],o=t[2],s=t[3],c=t[4],l=t[5],u=t[6],t=t[7],d=this.drawingContext,f=this._doFill,p=this._doStroke;if(f&&!p){if(this._getFill()===m)return this}else if(!f&&p&&this._getStroke()===m)return this;return this._clipping||d.beginPath(),c===void 0?d.rect(i,a,o,s):(l===void 0&&(l=c),u===void 0&&(u=l),t===void 0&&(t=u),p=(f=Math.abs(o))/2,r=(n=Math.abs(s))/2,d.roundRect(i,a,o,s,[c=n<2*(c=f<2*c?p:c)?r:c,l=n<2*(l=f<2*l?p:l)?r:l,u=n<2*(u=f<2*u?p:u)?r:u,t=n<2*(t=f<2*t?p:t)?r:t])),!this._clipping&&this._doFill&&d.fill(),!this._clipping&&this._doStroke&&d.stroke(),this}},{key:`triangle`,value:function(t){var n=this.drawingContext,r=this._doFill,i=this._doStroke,a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],t=t[5];if(r&&!i){if(this._getFill()===m)return this}else if(!r&&i&&this._getStroke()===m)return this;this._clipping||n.beginPath(),n.moveTo(a,o),n.lineTo(s,c),n.lineTo(l,t),n.closePath(),!this._clipping&&r&&n.fill(),!this._clipping&&i&&n.stroke()}},{key:`endShape`,value:function(t,n,r,i,a,o,c){if(n.length!==0&&(this._doStroke||this._doFill)){var l,u,d,f=t===s.CLOSE,p=(f&&!o&&n.push(n[0]),n.length);if(r&&c===null){if(3<p){var m=[],h=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(n[1][0],n[1][1]),u=1;u+2<p;u++)l=n[u],m[0]=[l[0],l[1]],m[1]=[l[0]+(h*n[u+1][0]-h*n[u-1][0])/6,l[1]+(h*n[u+1][1]-h*n[u-1][1])/6],m[2]=[n[u+1][0]+(h*n[u][0]-h*n[u+2][0])/6,n[u+1][1]+(h*n[u][1]-h*n[u+2][1])/6],m[3]=[n[u+1][0],n[u+1][1]],this.drawingContext.bezierCurveTo(m[1][0],m[1][1],m[2][0],m[2][1],m[3][0],m[3][1]);f&&this.drawingContext.lineTo(n[u+1][0],n[u+1][1]),this._doFillStrokeClose(f)}}else if(i&&c===null){for(this._clipping||this.drawingContext.beginPath(),u=0;u<p;u++)n[u].isVert?n[u].moveTo?this.drawingContext.moveTo(n[u][0],n[u][1]):this.drawingContext.lineTo(n[u][0],n[u][1]):this.drawingContext.bezierCurveTo(n[u][0],n[u][1],n[u][2],n[u][3],n[u][4],n[u][5]);this._doFillStrokeClose(f)}else if(a&&c===null){for(this._clipping||this.drawingContext.beginPath(),u=0;u<p;u++)n[u].isVert?n[u].moveTo?this.drawingContext.moveTo(n[u][0],n[u][1]):this.drawingContext.lineTo(n[u][0],n[u][1]):this.drawingContext.quadraticCurveTo(n[u][0],n[u][1],n[u][2],n[u][3]);this._doFillStrokeClose(f)}else if(c===s.POINTS)for(u=0;u<p;u++)l=n[u],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(c===s.LINES)for(u=0;u+1<p;u+=2)l=n[u],this._doStroke&&this._pInst.stroke(n[u+1][6]),this._pInst.line(l[0],l[1],n[u+1][0],n[u+1][1]);else if(c===s.TRIANGLES)for(u=0;u+2<p;u+=3)l=n[u],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(n[u+1][0],n[u+1][1]),this.drawingContext.lineTo(n[u+2][0],n[u+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(n[u+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(n[u+2][6]),this.drawingContext.stroke());else if(c===s.TRIANGLE_STRIP)for(u=0;u+1<p;u++)l=n[u],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(n[u+1][0],n[u+1][1]),this.drawingContext.lineTo(l[0],l[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(n[u+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(n[u+1][5]),u+2<p&&(this.drawingContext.lineTo(n[u+2][0],n[u+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(n[u+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(n[u+2][5])),this._doFillStrokeClose(f);else if(c===s.TRIANGLE_FAN){if(2<p){for(this._clipping||this.drawingContext.beginPath(),u=2;u<p;u++)l=n[u],this.drawingContext.moveTo(n[0][0],n[0][1]),this.drawingContext.lineTo(n[u-1][0],n[u-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(n[0][0],n[0][1]),u<p-1&&(this._doFill&&l[5]!==n[u+1][5]||this._doStroke&&l[6]!==n[u+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(n[u+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(n[u+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(f)}}else if(c===s.QUADS)for(u=0;u+3<p;u+=4){for(l=n[u],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),d=1;d<4;d++)this.drawingContext.lineTo(n[u+d][0],n[u+d][1]);this.drawingContext.lineTo(l[0],l[1]),!this._clipping&&this._doFill&&this._pInst.fill(n[u+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(n[u+3][6]),this._doFillStrokeClose(f)}else if(c===s.QUAD_STRIP){if(3<p)for(u=0;u+1<p;u+=2)l=n[u],this._clipping||this.drawingContext.beginPath(),u+3<p?(this.drawingContext.moveTo(n[u+2][0],n[u+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(n[u+1][0],n[u+1][1]),this.drawingContext.lineTo(n[u+3][0],n[u+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(n[u+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(n[u+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(n[u+1][0],n[u+1][1])),this._doFillStrokeClose(f)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(n[0][0],n[0][1]),u=1;u<p;u++)(l=n[u]).isVert&&(l.moveTo?(f&&this.drawingContext.closePath(),this.drawingContext.moveTo(l[0],l[1])):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(f),this.drawingContext.closePath()}o=a=i=r=!1,f&&n.pop()}return this}},{key:`strokeCap`,value:function(t){return t!==s.ROUND&&t!==s.SQUARE&&t!==s.PROJECT||(this.drawingContext.lineCap=t),this}},{key:`strokeJoin`,value:function(t){return t!==s.ROUND&&t!==s.BEVEL&&t!==s.MITER||(this.drawingContext.lineJoin=t),this}},{key:`strokeWeight`,value:function(t){return this.drawingContext.lineWidth=t===void 0||t===0?1e-4:t,this}},{key:`_getFill`,value:function(){return this._cachedFillStyle||=this.drawingContext.fillStyle,this._cachedFillStyle}},{key:`_setFill`,value:function(t){t!==this._cachedFillStyle&&(this.drawingContext.fillStyle=t,this._cachedFillStyle=t)}},{key:`_getStroke`,value:function(){return this._cachedStrokeStyle||=this.drawingContext.strokeStyle,this._cachedStrokeStyle}},{key:`_setStroke`,value:function(t){t!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this._cachedStrokeStyle=t)}},{key:`bezier`,value:function(t,n,r,i,a,o,s,c){return this._pInst.beginShape(),this._pInst.vertex(t,n),this._pInst.bezierVertex(r,i,a,o,s,c),this._pInst.endShape(),this}},{key:`curve`,value:function(t,n,r,i,a,o,s,c){return this._pInst.beginShape(),this._pInst.curveVertex(t,n),this._pInst.curveVertex(r,i),this._pInst.curveVertex(a,o),this._pInst.curveVertex(s,c),this._pInst.endShape(),this}},{key:`_doFillStrokeClose`,value:function(t){t&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:`applyMatrix`,value:function(t,n,r,i,a,o){this.drawingContext.transform(t,n,r,i,a,o)}},{key:`resetMatrix`,value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:`rotate`,value:function(t){this.drawingContext.rotate(t)}},{key:`scale`,value:function(t,n){return this.drawingContext.scale(t,n),this}},{key:`translate`,value:function(t,n){return t instanceof o.default.Vector&&(n=t.y,t=t.x),this.drawingContext.translate(t,n),this}},{key:`_renderText`,value:function(t,n,r,i,a,o){if(!(i<o||a<=i))return t.push(),this._isOpenType()?this._textFont._renderPath(n,r,i,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(n,r,i),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(s._DEFAULT_TEXT_FILL),this.drawingContext.fillText(n,r,i))),t.pop(),t}},{key:`textWidth`,value:function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width}},{key:`_applyTextProperties`,value:function(){var t=this._pInst,n=(this._setProperty(`_textAscent`,null),this._setProperty(`_textDescent`,null),n=this._textFont,this._isOpenType()&&(n=this._textFont.font.familyName,this._setProperty(`_textStyle`,this._textFont.font.styleName)),n||`sans-serif`);return/\s/.exec(n)&&(n=`"${n}"`),this.drawingContext.font=`${this._textStyle||`normal`} ${this._textSize||12}px ${n}`,this.drawingContext.textAlign=this._textAlign,this._textBaseline===s.CENTER?this.drawingContext.textBaseline=s._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,t}},{key:`push`,value:function(){return this.drawingContext.save(),u(p(a.prototype),`push`,this).call(this)}},{key:`pop`,value:function(t){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,u(p(a.prototype),`pop`,this).call(this,t)}}])&&l(n.prototype,t),r&&l(n,r),a}(o.default.Renderer),t=(h.prototype.text=function(t,n,r,i,a){i!==void 0&&this.drawingContext.textBaseline===s.BASELINE&&(c=!0,this.drawingContext.textBaseline=s.TOP);var c,i=o.default.Renderer.prototype.text.apply(this,arguments);return c&&(this.drawingContext.textBaseline=s.BASELINE),i},o.default.Renderer2D=h,o.default.Renderer2D);r.default=t},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`);var i=(t=t(`./main`))&&t.__esModule?t:{default:t};i.default.prototype._promisePreloads=[];function a(){return{}}var o=!(i.default.prototype.registerPromisePreload=function(t){i.default.prototype._promisePreloads.push(t)});i.default.prototype._setupPromisePreloads=function(){var t=!0,n=!1,r=void 0;try{for(var a,s=this._promisePreloads[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var c=a.value,l=this,u=c.method,d=c.addCallbacks,f=c.legacyPreloadSetup,p=c.target||this,m=p[u].bind(p);if(p===i.default.prototype){if(o)continue;l=null,m=p[u]}p[u]=this._wrapPromisePreload(l,m,d),f&&(p[f.method]=this._legacyPreloadGenerator(l,f,p[u]))}}catch(t){n=!0,r=t}finally{try{t||s.return==null||s.return()}finally{if(n)throw r}}o=!0},i.default.prototype._wrapPromisePreload=function(t,n,r){var i=function(){for(var t=this,i=(this._incrementPreload(),null),a=null,o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];if(r)for(var l=s.length-1;0<=l&&!a&&typeof s[l]==`function`;l--)a=i,i=s.pop();var u=Promise.resolve(n.apply(this,s));return i&&u.then(i),a&&u.catch(a),u.then(function(){return t._decrementPreload()}),u};return i=t?i.bind(t):i},i.default.prototype._legacyPreloadGenerator=function(t,n,r){var i=n.createBaseObject||a,n=function(){var t=this;this._incrementPreload();var n=[...arguments],a=i.apply(this,n);return r.apply(this,n).then(function(n){Object.assign(a,n),t._decrementPreload()}),a};return n=t?n.bind(t):n}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=(u=t(`./main`))&&u.__esModule?u:{default:u},o=function(t){if(t&&t.__esModule)return t;if(t===null||c(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=a?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`./constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}function c(t){return(c=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`./p5.Graphics`),t(`./p5.Renderer2D`),t(`../webgl/p5.RendererGL`);var l=`defaultCanvas0`,u=(a.default.prototype.createCanvas=function(t,n,r,i){var s,c,u;if(a.default._validateParameters(`createCanvas`,arguments),arguments[2]instanceof HTMLCanvasElement?(r=o.P2D,i=arguments[2]):s=r||o.P2D,i)(u=document.getElementById(l))&&u.parentNode.removeChild(u),u=i,this._defaultGraphicsCreated=!1;else{if(s===o.WEBGL)(u=document.getElementById(l))&&(u.parentNode.removeChild(u),c=this._renderer,this._elements=this._elements.filter(function(t){return t!==c})),(u=document.createElement(`canvas`)).id=l,u.classList.add(`p5Canvas`);else if(this._defaultGraphicsCreated)u=this.canvas;else{u=i||document.createElement(`canvas`);for(var d=0;document.getElementById(`defaultCanvas${d}`);)d++;l=`defaultCanvas${d}`,u.id=l,u.classList.add(`p5Canvas`)}this._setupDone||(u.dataset.hidden=!0,u.style.visibility=`hidden`),(this._userNode||(document.getElementsByTagName(`main`).length===0&&(r=document.createElement(`main`),document.body.appendChild(r)),document.getElementsByTagName(`main`)[0])).appendChild(u)}return s===o.WEBGL?(this._setProperty(`_renderer`,new a.default.RendererGL(u,this,!0)),this._elements.push(this._renderer),t=(i=this._renderer._adjustDimensions(t,n)).adjustedWidth,n=i.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty(`_renderer`,new a.default.Renderer2D(u,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,n),this._renderer._applyDefaults(),this._renderer},a.default.prototype.resizeCanvas=function(t,n,r){if(a.default._validateParameters(`resizeCanvas`,arguments),this._renderer){var i,o,s,l={};for(i in this.drawingContext){var u=this.drawingContext[i];c(u)!==`object`&&typeof u!=`function`&&(l[i]=u)}for(s in this._renderer instanceof a.default.RendererGL&&(t=(o=this._renderer._adjustDimensions(t,n)).adjustedWidth,n=o.adjustedHeight),this.width=t,this.height=n,this._renderer.resize(t,n),l)try{this.drawingContext[s]=l[s]}catch{}r||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},a.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},a.default.prototype.createGraphics=function(t,n){for(var r=arguments.length,i=Array(2<r?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return i[0]instanceof HTMLCanvasElement&&(i[1]=i[0],i[0]=o.P2D),a.default._validateParameters(`createGraphics`,arguments),new a.default.Graphics(t,n,i[0],this,i[1])},a.default.prototype.createFramebuffer=function(t){return new a.default.Framebuffer(this,t)},a.default.prototype.clearDepth=function(t){this._assert3d(`clearDepth`),this._renderer.clearDepth(t)},a.default.prototype.blendMode=function(t){a.default._validateParameters(`blendMode`,arguments),t===o.NORMAL&&(console.warn(`NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead.`),t=o.BLEND),this._renderer.blendMode(t)},a.default);r.default=u},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.slice`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=u(t(`../main`)),s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=l();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../constants`)),c=u(t(`../helpers`));function l(){var t;return typeof WeakMap==`function`?(t=new WeakMap,l=function(){return t},t):null}function u(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}t(`../friendly_errors/fes_core`),t(`../friendly_errors/file_errors`),t(`../friendly_errors/validate_params`),o.default.prototype._normalizeArcAngles=function(t,n,r,i,a){var o;return t-=s.TWO_PI*Math.floor(t/s.TWO_PI),n-=s.TWO_PI*Math.floor(n/s.TWO_PI),o=Math.min(Math.abs(t-n),s.TWO_PI-Math.abs(t-n)),a&&(t=t<=s.HALF_PI?Math.atan(r/i*Math.tan(t)):t>s.HALF_PI&&t<=3*s.HALF_PI?Math.atan(r/i*Math.tan(t))+s.PI:Math.atan(r/i*Math.tan(t))+s.TWO_PI,n=n<=s.HALF_PI?Math.atan(r/i*Math.tan(n)):n>s.HALF_PI&&n<=3*s.HALF_PI?Math.atan(r/i*Math.tan(n))+s.PI:Math.atan(r/i*Math.tan(n))+s.TWO_PI),n<t&&(n+=s.TWO_PI),{start:t,stop:n,correspondToSamePoint:o<1e-5}},o.default.prototype.arc=function(t,n,r,i,a,s,l,u){return o.default._validateParameters(`arc`,arguments),(this._renderer._doStroke||this._renderer._doFill)&&a!==s&&(a=this._toRadians(a),s=this._toRadians(s),t=c.default.modeAdjust(t,n,r,i,this._renderer._ellipseMode),(n=this._normalizeArcAngles(a,s,t.w,t.h,!0)).correspondToSamePoint?this._renderer.ellipse([t.x,t.y,t.w,t.h,u]):(this._renderer.arc(t.x,t.y,t.w,t.h,n.start,n.stop,l,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`arc`,[t.x,t.y,t.w,t.h,n.start,n.stop,l]))),this},o.default.prototype.ellipse=function(t,n,r,i,a){return o.default._validateParameters(`ellipse`,arguments),this._renderEllipse.apply(this,arguments)},o.default.prototype.circle=function(){var t=[...arguments];o.default._validateParameters(`circle`,t);var n=t.slice(0,2);return n.push(t[2],t[2]),this._renderEllipse.apply(this,d(n))},o.default.prototype._renderEllipse=function(t,n,r,i,a){return(this._renderer._doStroke||this._renderer._doFill)&&(t=c.default.modeAdjust(t,n,r,i=i===void 0?r:i,this._renderer._ellipseMode),this._renderer.ellipse([t.x,t.y,t.w,t.h,a]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`ellipse`,[t.x,t.y,t.w,t.h])),this},o.default.prototype.line=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o.default._validateParameters(`line`,r),this._renderer._doStroke&&(t=this._renderer).line.apply(t,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`line`,r),this},o.default.prototype.point=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o.default._validateParameters(`point`,r),this._renderer._doStroke&&(r.length===1&&r[0]instanceof o.default.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):((t=this._renderer).point.apply(t,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`point`,r))),this},o.default.prototype.quad=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o.default._validateParameters(`quad`,r),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&r.length<12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):((t=this._renderer).quad.apply(t,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`quadrilateral`,r))),this},o.default.prototype.rect=function(){var t=[...arguments];return o.default._validateParameters(`rect`,t),this._renderRect.apply(this,t)},o.default.prototype.square=function(t,n,r,i,a,s,c){return o.default._validateParameters(`square`,arguments),this._renderRect.call(this,t,n,r,r,i,a,s,c)},o.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var t=c.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),n=(this._renderer._rectMode===s.CORNER&&(t.w=arguments[2],t.h=arguments[3]),[t.x,t.y,t.w,t.h]),r=4;r<arguments.length;r++)n[r]=arguments[r];this._renderer.rect(n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`rectangle`,[t.x,t.y,t.w,t.h])}return this},o.default.prototype.triangle=function(){var t=[...arguments];return o.default._validateParameters(`triangle`,t),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput(`triangle`,t),this},t=o.default,r.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(l=t(`../main`))&&l.__esModule?l:{default:l},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}o.default.prototype.ellipseMode=function(t){return o.default._validateParameters(`ellipseMode`,arguments),t!==s.CORNER&&t!==s.CORNERS&&t!==s.RADIUS&&t!==s.CENTER||(this._renderer._ellipseMode=t),this},o.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes(`antialias`,!1):`imageSmoothingEnabled`in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},o.default.prototype.rectMode=function(t){return o.default._validateParameters(`rectMode`,arguments),t!==s.CORNER&&t!==s.CORNERS&&t!==s.RADIUS&&t!==s.CENTER||(this._renderer._rectMode=t),this},o.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes(`antialias`,!0):`imageSmoothingEnabled`in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},o.default.prototype.strokeCap=function(t){return o.default._validateParameters(`strokeCap`,arguments),t!==s.ROUND&&t!==s.SQUARE&&t!==s.PROJECT||this._renderer.strokeCap(t),this},o.default.prototype.strokeJoin=function(t){return o.default._validateParameters(`strokeJoin`,arguments),t!==s.ROUND&&t!==s.BEVEL&&t!==s.MITER||this._renderer.strokeJoin(t),this},o.default.prototype.strokeWeight=function(t){return o.default._validateParameters(`strokeWeight`,arguments),this._renderer.strokeWeight(t),this};var l=o.default;r.default=l},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(a=t(`../main`))&&a.__esModule?a:{default:a};t(`../friendly_errors/fes_core`),t(`../friendly_errors/file_errors`),t(`../friendly_errors/validate_params`),i.default.prototype.bezier=function(){for(var t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return i.default._validateParameters(`bezier`,r),(this._renderer._doStroke||this._renderer._doFill)&&(t=this._renderer).bezier.apply(t,r),this},i.default.prototype.bezierDetail=function(t){return i.default._validateParameters(`bezierDetail`,arguments),this._bezierDetail=t,this},i.default.prototype.bezierPoint=function(t,n,r,a,o){i.default._validateParameters(`bezierPoint`,arguments);var s=1-o;return s**3*t+3*s**2*o*n+3*s*o**2*r+o**3*a},i.default.prototype.bezierTangent=function(t,n,r,a,o){i.default._validateParameters(`bezierTangent`,arguments);var s=1-o;return 3*a*o**2-3*r*o**2+6*r*s*o-6*n*s*o+3*n*s**2-3*t*s**2},i.default.prototype.curve=function(){for(var t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return i.default._validateParameters(`curve`,r),this._renderer._doStroke&&(t=this._renderer).curve.apply(t,r),this},i.default.prototype.curveDetail=function(t){return i.default._validateParameters(`curveDetail`,arguments),this._curveDetail=t<3?3:t,this},i.default.prototype.curveTightness=function(t){return i.default._validateParameters(`curveTightness`,arguments),this._renderer._curveTightness=t,this},i.default.prototype.curvePoint=function(t,n,r,a,o){i.default._validateParameters(`curvePoint`,arguments);var s=this._renderer._curveTightness,c=o*o*o,l=o*o;return t*((s-1)/2*c+(1-s)*l+(s-1)/2*o)+n*((s+3)/2*c+(-5-s)/2*l+1)+r*((-3-s)/2*c+(s+2)*l+(1-s)/2*o)+a*((1-s)/2*c+(s-1)/2*l)},i.default.prototype.curveTangent=function(t,n,r,a,o){i.default._validateParameters(`curveTangent`,arguments);var s=this._renderer._curveTightness,c=o*o*3,o=2*o;return t*((s-1)/2*c+(1-s)*o+(s-1)/2)+n*((s+3)/2*c+(-5-s)/2*o)+r*((-3-s)/2*c+(s+2)*o+(1-s)/2)+a*((1-s)/2*c+(s-1)/2*o)};var a=i.default;r.default=a},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.slice`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(_=t(`../main`))&&_.__esModule?_:{default:_},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}var l=null,u=[],d=[],f=!1,p=!1,m=!1,h=!1,g=!0,_=(o.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(d=[],h=!0),this},o.default.prototype.beginShape=function(t){var n;return o.default._validateParameters(`beginShape`,arguments),this._renderer.isP3D?(n=this._renderer).beginShape.apply(n,arguments):(l=t===s.POINTS||t===s.LINES||t===s.TRIANGLES||t===s.TRIANGLE_FAN||t===s.TRIANGLE_STRIP||t===s.QUADS||t===s.QUAD_STRIP?t:null,u=[],d=[]),this},o.default.prototype.bezierVertex=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(o.default._validateParameters(`bezierVertex`,r),this._renderer.isP3D)(t=this._renderer).bezierVertex.apply(t,r);else if(u.length===0)o.default._friendlyError(`vertex() must be used once before calling bezierVertex()`,`bezierVertex`);else{f=!0;for(var a=[],s=0;s<r.length;s++)a[s]=r[s];a.isVert=!1,(h?d:u).push(a)}return this},o.default.prototype.curveVertex=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o.default._validateParameters(`curveVertex`,r),this._renderer.isP3D?(t=this._renderer).curveVertex.apply(t,r):(p=!0,this.vertex(r[0],r[1])),this},o.default.prototype.endContour=function(){if(!this._renderer.isP3D){var t=d[0].slice();t.isVert=d[0].isVert,t.moveTo=!1,d.push(t),g&&=(u.push(u[0]),!1);for(var n=0;n<d.length;n++)u.push(d[n])}return this},o.default.prototype.endShape=function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(o.default._validateParameters(`endShape`,arguments),n<1&&(console.log(` p5.js says: You can not have less than one instance`),n=1),this._renderer.isP3D)this._renderer.endShape(t,p,f,m,h,l,n);else{if(n!==1&&console.log(` p5.js says: Instancing is only supported in WebGL2 mode`),u.length===0||!this._renderer._doStroke&&!this._renderer._doFill)return this;n=t===s.CLOSE,n&&!h&&u.push(u[0]),this._renderer.endShape(t,u,p,f,m,h,l),g=!(h=m=f=p=!1),n&&u.pop()}return this},o.default.prototype.quadraticVertex=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(o.default._validateParameters(`quadraticVertex`,r),this._renderer.isP3D)(t=this._renderer).quadraticVertex.apply(t,r);else{if(this._contourInited)return(t={}).x=r[0],t.y=r[1],t.x3=r[2],t.y3=r[3],t.type=s.QUADRATIC,this._contourVertices.push(t),this;if(0<u.length){m=!0;for(var a=[],c=0;c<r.length;c++)a[c]=r[c];a.isVert=!1,(h?d:u).push(a)}else o.default._friendlyError(`vertex() must be used once before calling quadraticVertex()`,`quadraticVertex`)}return this},o.default.prototype.vertex=function(t,n,r,i,a){var o;return this._renderer.isP3D?(o=this._renderer).vertex.apply(o,arguments):((o=[]).isVert=!0,o[0]=t,o[1]=n,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),r&&(o.moveTo=r),(h?(d.length===0&&(o.moveTo=!0),d):u).push(o)),this},o.default.prototype.normal=function(t,n,r){var i;return this._assert3d(`normal`),o.default._validateParameters(`normal`,arguments),(i=this._renderer).normal.apply(i,arguments),this},o.default);r.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,n,r){},{}],295:[function(t,n,r){t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.assign`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`./main`))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var t=this._styles.pop();t?(this._renderer.pop(t.renderer),Object.assign(this,t.props)):console.warn(`pop() was called without matching push()`)},t.default.prototype.redraw=function(t){if(!this._inUserDraw&&this._setupDone){var n=parseInt(t),r=((isNaN(n)||n<1)&&(n=1),this._isGlobal?window:this);if(typeof r.draw==`function`){r.setup===void 0&&r.scale(r._pixelDensity,r._pixelDensity);for(var i=0;i<n;i++){r.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),r._renderer.isP3D&&r._renderer._update(),r._setProperty(`frameCount`,r.frameCount+1),this.callRegisteredHooksFor(`pre`),this._inUserDraw=!0;try{r.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor(`post`)}}}},t=t.default,r.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`./main`))&&t.__esModule?t:{default:t};function a(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}i.default.prototype.applyMatrix=function(){var t=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||t?(t=this._renderer).applyMatrix.apply(t,a(arguments.length<=0?void 0:arguments[0])):(t=this._renderer).applyMatrix.apply(t,arguments),this},i.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},i.default.prototype.rotate=function(t,n){return i.default._validateParameters(`rotate`,arguments),this._renderer.rotate(this._toRadians(t),n),this},i.default.prototype.rotateX=function(t){return this._assert3d(`rotateX`),i.default._validateParameters(`rotateX`,arguments),this._renderer.rotateX(this._toRadians(t)),this},i.default.prototype.rotateY=function(t){return this._assert3d(`rotateY`),i.default._validateParameters(`rotateY`,arguments),this._renderer.rotateY(this._toRadians(t)),this},i.default.prototype.rotateZ=function(t){return this._assert3d(`rotateZ`),i.default._validateParameters(`rotateZ`,arguments),this._renderer.rotateZ(this._toRadians(t)),this},i.default.prototype.scale=function(t,n,r){var a;return i.default._validateParameters(`scale`,arguments),t instanceof i.default.Vector?(t=(a=t).x,n=a.y,r=a.z):Array.isArray(t)&&(t=(a=t)[0],n=a[1],r=a[2]||1),isNaN(n)?n=r=t:isNaN(r)&&(r=1),this._renderer.scale(t,n,r),this},i.default.prototype.shearX=function(t){return i.default._validateParameters(`shearX`,arguments),t=this._toRadians(t),this._renderer.applyMatrix(1,0,Math.tan(t),1,0,0),this},i.default.prototype.shearY=function(t){return i.default._validateParameters(`shearY`,arguments),t=this._toRadians(t),this._renderer.applyMatrix(1,Math.tan(t),0,1,0,0),this},i.default.prototype.translate=function(t,n,r){return i.default._validateParameters(`translate`,arguments),this._renderer.isP3D?this._renderer.translate(t,n,r):this._renderer.translate(t,n),this},t=i.default,r.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.ends-with`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.ends-with`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`);var a=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function o(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}function s(t){return(s=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}a.default.prototype.storeItem=function(t,n){typeof t!=`string`&&console.log(`The argument that you passed to storeItem() - ${t} is not a string.`),t.endsWith(`p5TypeID`)&&console.log(`The argument that you passed to storeItem() - ${t} must not end with 'p5TypeID'.`),n===void 0&&console.log(`You cannot store undefined variables using storeItem().`);var r=s(n);switch(r){case`number`:case`boolean`:n=n.toString();break;case`object`:n instanceof a.default.Color?r=`p5.Color`:n instanceof a.default.Vector&&(r=`p5.Vector`,n=[n.x,n.y,n.z]),n=JSON.stringify(n)}localStorage.setItem(t,n),t=`${t}p5TypeID`,localStorage.setItem(t,r)},a.default.prototype.getItem=function(t){var n=localStorage.getItem(t),r=localStorage.getItem(`${t}p5TypeID`);if(r===void 0)console.log(`Unable to determine type of item stored under ${t}in local storage. Did you save the item with something other than setItem()?`);else if(n!==null)switch(r){case`number`:n=parseFloat(n);break;case`boolean`:n=n===`true`;break;case`object`:n=JSON.parse(n);break;case`p5.Color`:n=JSON.parse(n),n=this.color.apply(this,o(n.levels));break;case`p5.Vector`:n=JSON.parse(n),n=this.createVector.apply(this,o(n))}return n},a.default.prototype.clearStorage=function(){var t=this;Object.keys(localStorage).forEach(function(n){n.endsWith(`p5TypeID`)&&t.removeItem(n.replace(`p5TypeID`,``))})},a.default.prototype.removeItem=function(t){typeof t!=`string`&&console.log(`The argument that you passed to removeItem() - ${t} is not a string.`),localStorage.removeItem(t),localStorage.removeItem(`${t}p5TypeID`)}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.object.keys`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function s(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Super expression must either be null or a function`);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}function c(t,n){return(c=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function l(t){return function(){var n,r=u(t),r=(n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=u(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),this);if(!n||a(n)!==`object`&&typeof n!=`function`){if(r!==void 0)return r;throw ReferenceError(`this hasn't been initialised - super() hasn't been called`)}return n}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,n){if(!(t instanceof n))throw TypeError(`Cannot call a class as a function`)}function f(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,n,r){n&&f(t.prototype,n),r&&f(t,r)}o.default.prototype.createStringDict=function(t,n){return o.default._validateParameters(`createStringDict`,arguments),new o.default.StringDict(t,n)},o.default.prototype.createNumberDict=function(t,n){return o.default._validateParameters(`createNumberDict`,arguments),new o.default.NumberDict(t,n)},o.default.TypedDict=function(){function t(n,r){return d(this,t),n instanceof Object?this.data=n:(this.data={},this.data[n]=r),this}return p(t,[{key:`size`,value:function(){return Object.keys(this.data).length}},{key:`hasKey`,value:function(t){return this.data.hasOwnProperty(t)}},{key:`get`,value:function(t){if(this.data.hasOwnProperty(t))return this.data[t];console.log(`${t} does not exist in this Dictionary`)}},{key:`set`,value:function(t,n){this._validate(n)?this.data[t]=n:console.log(`Those values dont work for this dictionary type.`)}},{key:`_addObj`,value:function(t){for(var n in t)this.set(n,t[n])}},{key:`create`,value:function(t,n){t instanceof Object&&n===void 0?this._addObj(t):t===void 0?console.log(`In order to create a new Dictionary entry you must pass an object or a key, value pair`):this.set(t,n)}},{key:`clear`,value:function(){this.data={}}},{key:`remove`,value:function(t){if(!this.data.hasOwnProperty(t))throw Error(`${t} does not exist in this Dictionary`);delete this.data[t]}},{key:`print`,value:function(){for(var t in this.data)console.log(`key:${t} value:${this.data[t]}`)}},{key:`saveTable`,value:function(t){var n,r=``;for(n in this.data)r+=`${n},${this.data[n]}
`;var i=new Blob([r],{type:`text/csv`});o.default.prototype.downloadFile(i,t||`mycsv`,`csv`)}},{key:`saveJSON`,value:function(t,n){o.default.prototype.saveJSON(this.data,t,n)}},{key:`_validate`,value:function(t){return!0}}]),t}(),o.default.StringDict=function(){s(n,o.default.TypedDict);var t=l(n);function n(){d(this,n);var r=[...arguments];return t.call.apply(t,[this].concat(r))}return p(n,[{key:`_validate`,value:function(t){return typeof t==`string`}}]),n}(),o.default.NumberDict=function(){s(n,o.default.TypedDict);var t=l(n);function n(){d(this,n);var r=[...arguments];return t.call.apply(t,[this].concat(r))}return p(n,[{key:`_validate`,value:function(t){return typeof t==`number`}},{key:`add`,value:function(t,n){this.data.hasOwnProperty(t)?this.data[t]+=n:console.log(`The key - ${t} does not exist in this dictionary.`)}},{key:`sub`,value:function(t,n){this.add(t,-n)}},{key:`mult`,value:function(t,n){this.data.hasOwnProperty(t)?this.data[t]*=n:console.log(`The key - ${t} does not exist in this dictionary.`)}},{key:`div`,value:function(t,n){this.data.hasOwnProperty(t)?this.data[t]/=n:console.log(`The key - ${t} does not exist in this dictionary.`)}},{key:`_valueTest`,value:function(t){if(Object.keys(this.data).length===0)throw Error(`Unable to search for a minimum or maximum value on an empty NumberDict`);if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var n,r=this.data[Object.keys(this.data)[0]];for(n in this.data)this.data[n]*t<r*t&&(r=this.data[n]);return r}},{key:`minValue`,value:function(){return this._valueTest(1)}},{key:`maxValue`,value:function(){return this._valueTest(-1)}},{key:`_keyTest`,value:function(t){if(Object.keys(this.data).length===0)throw Error(`Unable to use minValue on an empty NumberDict`);if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var n=Object.keys(this.data)[0],r=1;r<Object.keys(this.data).length;r++)Object.keys(this.data)[r]*t<n*t&&(n=Object.keys(this.data)[r]);return n}},{key:`minKey`,value:function(){return this._keyTest(1)}},{key:`maxKey`,value:function(){return this._keyTest(-1)}}]),n}(),t=o.default.TypedDict,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/web.url`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/web.url`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function o(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,n,r){n&&o(t.prototype,n),r&&o(t,r)}function c(t,n){return(c=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function l(t){return function(){var n,r,i=d(t);return n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=d(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this,!(r=n)||p(r)!==`object`&&typeof r!=`function`?u(i):r}}function u(t){if(t===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,n){if(!(t instanceof n))throw TypeError(`Cannot call a class as a function`)}function p(t){return(p=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}function m(t,n,r){return(n._userNode||document.body).appendChild(t),r=new(r?a.default.MediaElement:a.default.Element)(t,n),n._elements.push(r),r}a.default.prototype.select=function(t,n){return a.default._validateParameters(`select`,arguments),n=this._getContainer(n).querySelector(t),n?this._wrapElement(n):null},a.default.prototype.selectAll=function(t,n){a.default._validateParameters(`selectAll`,arguments);var r=[],i=this._getContainer(n).querySelectorAll(t);if(i)for(var o=0;o<i.length;o++){var s=this._wrapElement(i[o]);r.push(s)}return r},a.default.prototype._getContainer=function(t){var n=document;return typeof t==`string`?n=document.querySelector(t)||document:t instanceof a.default.Element?n=t.elt:t instanceof HTMLElement&&(n=t),n},a.default.prototype._wrapElement=function(t){var n,r=Array.prototype.slice.call(t.children);return t.tagName===`INPUT`&&t.type===`checkbox`?((n=new a.default.Element(t,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},n):t.tagName===`VIDEO`||t.tagName===`AUDIO`?new a.default.MediaElement(t,this):t.tagName===`SELECT`?this.createSelect(new a.default.Element(t,this)):0<r.length&&r.every(function(t){return t.tagName===`INPUT`||t.tagName===`LABEL`})&&(t.tagName===`DIV`||t.tagName===`SPAN`)?this.createRadio(new a.default.Element(t,this)):new a.default.Element(t,this)},a.default.prototype.removeElements=function(t){a.default._validateParameters(`removeElements`,arguments),this._elements.filter(function(t){return!(t.elt instanceof HTMLCanvasElement)}).map(function(t){return t.remove()})},a.default.Element.prototype.changed=function(t){return a.default.Element._adjustListener(`change`,t,this),this},a.default.Element.prototype.input=function(t){return a.default.Element._adjustListener(`input`,t,this),this},a.default.prototype.createDiv=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:``,n=document.createElement(`div`);return n.innerHTML=t,m(n,this)},a.default.prototype.createP=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:``,n=document.createElement(`p`);return n.innerHTML=t,m(n,this)},a.default.prototype.createSpan=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:``,n=document.createElement(`span`);return n.innerHTML=t,m(n,this)},a.default.prototype.createImg=function(){a.default._validateParameters(`createImg`,arguments);var t,n=document.createElement(`img`),r=arguments;return 1<r.length&&typeof r[1]==`string`&&(n.alt=r[1]),2<r.length&&typeof r[2]==`string`&&(n.crossOrigin=r[2]),n.src=r[0],t=m(n,this),n.addEventListener(`load`,function(){t.width=n.offsetWidth||n.width,t.height=n.offsetHeight||n.height;var i=r[r.length-1];typeof i==`function`&&i(t)}),t},a.default.prototype.createA=function(t,n,r){a.default._validateParameters(`createA`,arguments);var i=document.createElement(`a`);return i.href=t,i.innerHTML=n,r&&(i.target=r),m(i,this)},a.default.prototype.createSlider=function(t,n,r,i){a.default._validateParameters(`createSlider`,arguments);var o=document.createElement(`input`);return o.type=`range`,o.min=t,o.max=n,i===0?o.step=1e-18:i&&(o.step=i),typeof r==`number`&&(o.value=r),m(o,this)},a.default.prototype.createButton=function(t,n){a.default._validateParameters(`createButton`,arguments);var r=document.createElement(`button`);return r.innerHTML=t,n&&(r.value=n),m(r,this)},a.default.prototype.createCheckbox=function(){var t=[...arguments];a.default._validateParameters(`createCheckbox`,t);var n=document.createElement(`div`),r=document.createElement(`input`),i=(r.type=`checkbox`,document.createElement(`label`)),o=(i.appendChild(r),n.appendChild(i),m(n,this));return o.checked=function(){var t=o.elt.firstElementChild.getElementsByTagName(`input`)[0];if(t){if(arguments.length===0)return t.checked;t.checked=!(arguments.length<=0||!arguments[0])}return o},this.value=function(t){return o.value=t,this},t[0]&&(o.value(t[0]),(n=document.createElement(`span`)).innerHTML=t[0],i.appendChild(n)),t[1]&&(r.checked=!0),o},a.default.prototype.createSelect=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];a.default._validateParameters(`createSelect`,r);var o,s=r[0];return s instanceof a.default.Element&&s.elt instanceof HTMLSelectElement?this.elt=(t=s).elt:s instanceof HTMLSelectElement?(t=m(s,this),this.elt=s):(o=document.createElement(`select`),s&&typeof s==`boolean`&&o.setAttribute(`multiple`,`true`),t=m(o,this),this.elt=o),t.option=function(t,n){var r;if(t!==void 0){for(var i,a=0;a<this.elt.length;a+=1)if(this.elt[a].textContent===t){r=a;break}r===void 0?((i=document.createElement(`option`)).textContent=t,i.value=n===void 0?t:n,this.elt.appendChild(i),this._pInst._elements.push(i)):!1===n?this.elt.remove(r):this.elt[r].value=n}},t.selected=function(t){if(t!==void 0){for(var n=0;n<this.elt.length;n+=1)this.elt[n].value.toString()===t.toString()&&(this.elt.selectedIndex=n);return this}if(this.elt.getAttribute(`multiple`)){var r=[],i=!0,a=!1,o=void 0;try{for(var s,c=this.elt.selectedOptions[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;r.push(l.value)}}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return r}return this.elt.value},t.disable=function(t){if(typeof t==`string`)for(var n=0;n<this.elt.length;n++)this.elt[n].value.toString()===t&&(this.elt[n].disabled=!0,this.elt[n].selected=!1);else this.elt.disabled=!0;return this},t.enable=function(t){if(typeof t==`string`)for(var n=0;n<this.elt.length;n++)this.elt[n].value.toString()===t&&(this.elt[n].disabled=!1,this.elt[n].selected=!1);else{this.elt.disabled=!1;for(var r=0;r<this.elt.length;r++)this.elt[r].disabled=!1,this.elt[r].selected=!1}return this},t};var h=0;function g(t,n,r,i){var a=document.createElement(n),o=(typeof(r||=``)==`string`&&(r=[r]),!0),n=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,d=document.createElement(`source`);d.setAttribute(`src`,u),a.appendChild(d)}}catch(t){n=!0,s=t}finally{try{o||l.return==null||l.return()}finally{if(n)throw s}}var f=m(a,t,!0);return f.loadedmetadata=!1,a.addEventListener(`loadedmetadata`,function(){f.width=a.videoWidth,f.height=a.videoHeight,f.elt.width===0&&(f.elt.width=a.videoWidth),f.elt.height===0&&(f.elt.height=a.videoHeight),f.presetPlaybackRate&&(f.elt.playbackRate=f.presetPlaybackRate,delete f.presetPlaybackRate),f.loadedmetadata=!0}),typeof i==`function`&&a.addEventListener(`canplaythrough`,function t(){i(f),a.removeEventListener(`canplaythrough`,t)}),f}a.default.prototype.createRadio=function(){function t(t){return t instanceof HTMLInputElement&&t.type===`radio`}function n(t){return t instanceof HTMLLabelElement}var r,i,o,s=arguments.length<=0?void 0:arguments[0];return s instanceof a.default.Element&&(s.elt instanceof HTMLDivElement||s.elt instanceof HTMLSpanElement)?(r=s,this.elt=s.elt):s instanceof HTMLDivElement||s instanceof HTMLSpanElement?(r=m(s,this),i=this.elt=s,typeof(arguments.length<=1?void 0:arguments[1])==`string`&&(o=arguments.length<=1?void 0:arguments[1])):(typeof s==`string`&&(o=s),i=document.createElement(`div`),r=m(i,this),this.elt=i),r._name=o||`radioOption_${h++}`,r._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(r){return t(r)||n(r)&&t(r.firstElementChild)}).map(function(n){return t(n)?n:n.firstElementChild})},r.option=function(t,i){var a,o,s,c=!0,l=!1,u=void 0;try{for(var d,f=r._getOptionsArray()[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;if(p.value===t){a=p;break}}}catch(t){l=!0,u=t}finally{try{c||f.return==null||f.return()}finally{if(l)throw u}}return a===void 0&&((a=document.createElement(`input`)).setAttribute(`type`,`radio`),a.setAttribute(`value`,t)),a.setAttribute(`name`,r._name),n(a.parentElement)?o=a.parentElement:(o=document.createElement(`label`)).insertAdjacentElement(`afterbegin`,a),o.lastElementChild instanceof HTMLSpanElement?s=o.lastElementChild:(s=document.createElement(`span`),a.insertAdjacentElement(`afterend`,s)),s.innerHTML=i===void 0?t:i,this.elt.appendChild(o),a},r.remove=function(t){var i=!0,a=!1,o=void 0;try{for(var s,c=r._getOptionsArray()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.value===t)return void(n(l.parentElement)?l.parentElement:l).remove()}}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}},r.value=function(){var t=``,n=!0,i=!1,a=void 0;try{for(var o,s=r._getOptionsArray()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;if(c.checked){t=c.value;break}}}catch(t){i=!0,a=t}finally{try{n||s.return==null||s.return()}finally{if(i)throw a}}return t},r.selected=function(t){var n=null;if(t===void 0){var i=!0,a=!1,o=void 0;try{for(var s,c=r._getOptionsArray()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.checked){n=l;break}}}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}}else{r._getOptionsArray().forEach(function(t){t.checked=!1,t.removeAttribute(`checked`)});var u=!0,a=!1,o=void 0;try{for(var d,f=r._getOptionsArray()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;p.value===t&&(p.setAttribute(`checked`,!0),p.checked=!0,n=p)}}catch(t){a=!0,o=t}finally{try{u||f.return==null||f.return()}finally{if(a)throw o}}}return n},r.disable=function(){var t=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],n=!0,i=!1,a=void 0;try{for(var o,s=r._getOptionsArray()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)o.value.setAttribute(`disabled`,t)}catch(t){i=!0,a=t}finally{try{n||s.return==null||s.return()}finally{if(i)throw a}}},r},a.default.prototype.createColorPicker=function(t){a.default._validateParameters(`createColorPicker`,arguments);var n=document.createElement(`input`);return n.type=`color`,t?t instanceof a.default.Color?n.value=t.toString(`#rrggbb`):(a.default.prototype._colorMode=`rgb`,a.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},n.value=a.default.prototype.color(t).toString(`#rrggbb`)):n.value=`#000000`,(n=m(n,this)).color=function(){return t&&(t.mode&&(a.default.prototype._colorMode=t.mode),t.maxes&&(a.default.prototype._colorMaxes=t.maxes)),a.default.prototype.color(this.elt.value)},n},a.default.prototype.createInput=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:``,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:`text`,r=(a.default._validateParameters(`createInput`,arguments),document.createElement(`input`));return r.setAttribute(`value`,t),r.setAttribute(`type`,n),m(r,this)},a.default.prototype.createFileInput=function(t){var n,r=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(a.default._validateParameters(`createFileInput`,arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(n=document.createElement(`input`)).setAttribute(`type`,`file`),r&&n.setAttribute(`multiple`,!0),n.addEventListener(`change`,function(n){var r=!0,i=!1,o=void 0;try{for(var s,c=n.target.files[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;a.default.File._load(l,t)}}catch(t){i=!0,o=t}finally{try{r||c.return==null||c.return()}finally{if(i)throw o}}},!1),m(n,this);console.log(`The File APIs are not fully supported in this browser. Cannot create element.`)},a.default.prototype.createVideo=function(t,n){return a.default._validateParameters(`createVideo`,arguments),g(this,`video`,t,n)},a.default.prototype.createAudio=function(t,n){return a.default._validateParameters(`createAudio`,arguments),g(this,`audio`,t,n)},a.default.prototype.VIDEO=`video`,a.default.prototype.AUDIO=`audio`,navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(t){var n=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return n?new Promise(function(r,i){n.call(navigator,t,r,i)}):Promise.reject(Error(`getUserMedia is not implemented in this browser`))}),a.default.prototype.createCapture=function(){var t=[...arguments];if(a.default._validateParameters(`createCapture`,t),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException(`getUserMedia not supported in this browser`);for(var n,r=!0,i=!0,o=!1,s=0,c=t;s<c.length;s++){var l=c[s];l===a.default.prototype.VIDEO?i=!1:l===a.default.prototype.AUDIO?r=!1:p(l)===`object`?(l.flipped!==void 0&&(o=l.flipped,delete l.flipped),u=Object.assign({},u,l)):typeof l==`function`&&(n=l)}var u=Object.assign({},{video:r,audio:i},u),d=document.createElement(`video`),f=(d.setAttribute(`playsinline`,``),navigator.mediaDevices.getUserMedia(u).then(function(t){try{`srcObject`in d?d.srcObject=t:d.src=window.URL.createObjectURL(t)}catch{d.src=t}}).catch(function(t){t.name===`NotFoundError`&&a.default._friendlyError(`No webcam found on this device`,`createCapture`),t.name===`NotAllowedError`&&a.default._friendlyError(`Access to the camera was denied`,`createCapture`),console.error(t)}),m(d,this,!0));return f.loadedmetadata=!1,d.addEventListener(`loadedmetadata`,function(){d.play(),d.width?(f.width=d.width,f.height=d.height,o&&(f.elt.style.transform=`scaleX(-1)`)):(f.width=f.elt.width=d.videoWidth,f.height=f.elt.height=d.videoHeight),f.loadedmetadata=!0,n&&n(d.srcObject)}),f.flipped=o,f},a.default.prototype.createElement=function(t,n){return a.default._validateParameters(`createElement`,arguments),t=document.createElement(t),n!==void 0&&(t.innerHTML=n),m(t,this)},a.default.Element.prototype.addClass=function(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+` `+t):this.elt.className=t,this},a.default.Element.prototype.removeClass=function(t){return this.elt.classList.remove(t),this},a.default.Element.prototype.hasClass=function(t){return this.elt.classList.contains(t)},a.default.Element.prototype.toggleClass=function(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this},a.default.Element.prototype.child=function(t){return t===void 0?this.elt.childNodes:(typeof t==`string`?(t[0]===`#`&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof a.default.Element&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)},a.default.Element.prototype.center=function(t){var n=this.elt.style.display,r=this.elt.style.display===`none`,i=this.parent().style.display===`none`,a={x:this.elt.offsetLeft,y:this.elt.offsetTop},o=(r&&this.show(),i&&this.parent().show(),this.elt.style.display=`block`,this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),s=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t===`both`||t===void 0?this.position(o/2+this.parent().offsetLeft,s/2+this.parent().offsetTop):t===`horizontal`?this.position(o/2+this.parent().offsetLeft,a.y):t===`vertical`&&this.position(a.x,s/2+this.parent().offsetTop),this.style(`display`,n),r&&this.hide(),i&&this.parent().hide(),this},a.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML(`beforeend`,arguments.length<=0?void 0:arguments[0]),this)},a.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!==`static`&&(arguments.length<=2?void 0:arguments[2])!==`fixed`&&(arguments.length<=2?void 0:arguments[2])!==`relative`&&(arguments.length<=2?void 0:arguments[2])!==`sticky`&&(arguments.length<=2?void 0:arguments[2])!==`initial`&&(arguments.length<=2?void 0:arguments[2])!==`inherit`?`absolute`:arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+`px`,this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+`px`,this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},a.default.Element.prototype._translate=function(){this.elt.style.position=`absolute`;var t=``;return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/translate3d\(.*\)/g,``)).replace(/translate[X-Z]?\(.*\)/g,``)),arguments.length===2?this.elt.style.transform=`translate(`+(arguments.length<=0?void 0:arguments[0])+`px, `+(arguments.length<=1?void 0:arguments[1])+`px)`:2<arguments.length&&(this.elt.style.transform=`translate3d(`+(arguments.length<=0?void 0:arguments[0])+`px,`+(arguments.length<=1?void 0:arguments[1])+`px,`+(arguments.length<=2?void 0:arguments[2])+`px)`,this.elt.parentElement.style.perspective=arguments.length===3?`1000px`:(arguments.length<=3?void 0:arguments[3])+`px`),this.elt.style.transform+=t,this},a.default.Element.prototype._rotate=function(){var t=``;return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/rotate3d\(.*\)/g,``)).replace(/rotate[X-Z]?\(.*\)/g,``)),arguments.length===1?this.elt.style.transform=`rotate(`+(arguments.length<=0?void 0:arguments[0])+`deg)`:arguments.length===2?this.elt.style.transform=`rotate(`+(arguments.length<=0?void 0:arguments[0])+`deg, `+(arguments.length<=1?void 0:arguments[1])+`deg)`:arguments.length===3&&(this.elt.style.transform=`rotateX(`+(arguments.length<=0?void 0:arguments[0])+`deg)`,this.elt.style.transform+=`rotateY(`+(arguments.length<=1?void 0:arguments[1])+`deg)`,this.elt.style.transform+=`rotateZ(`+(arguments.length<=2?void 0:arguments[2])+`deg)`),this.elt.style.transform+=t,this},a.default.Element.prototype.style=function(t,n){if((n=n instanceof a.default.Color?`rgba(`+n.levels[0]+`,`+n.levels[1]+`,`+n.levels[2]+`,`+n.levels[3]/255+`)`:n)===void 0){if(t.indexOf(`:`)===-1)return window.getComputedStyle(this.elt).getPropertyValue(t);for(var r=t.split(`;`),i=0;i<r.length;i++){var o=r[i].split(`:`);o[0]&&o[1]&&(this.elt.style[o[0].trim()]=o[1].trim())}}else this.elt.style[t]=n,t!==`width`&&t!==`height`&&t!==`left`&&t!==`top`||(n=window.getComputedStyle(this.elt).getPropertyValue(t).replace(/[^\d.]/g,``),this[t]=Math.round(parseFloat(n,10)));return this},a.default.Element.prototype.attribute=function(t,n){if(this.elt.firstChild==null||this.elt.firstChild.type!==`checkbox`&&this.elt.firstChild.type!==`radio`)return n===void 0?this.elt.getAttribute(t):(this.elt.setAttribute(t,n),this);if(n===void 0)return this.elt.firstChild.getAttribute(t);for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].setAttribute(t,n)},a.default.Element.prototype.removeAttribute=function(t){if(this.elt.firstChild!=null&&(this.elt.firstChild.type===`checkbox`||this.elt.firstChild.type===`radio`))for(var n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].removeAttribute(t);return this.elt.removeAttribute(t),this},a.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type===`range`?parseFloat(this.elt.value):this.elt.value},a.default.Element.prototype.show=function(){return this.elt.style.display=`block`,this},a.default.Element.prototype.hide=function(){return this.elt.style.display=`none`,this},a.default.Element.prototype.size=function(t,n){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var r=t,i=n,o=a.default.prototype.AUTO;if(r!==o||i!==o){if(r===o?r=n*this.width/this.height:i===o&&(i=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){var s,c={},l=this.elt.getContext(`2d`);for(s in l)c[s]=l[s];for(s in this.elt.setAttribute(`width`,r*this._pInst._pixelDensity),this.elt.setAttribute(`height`,i*this._pInst._pixelDensity),this.elt.style.width=r+`px`,this.elt.style.height=i+`px`,this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),c)this.elt.getContext(`2d`)[s]=c[s]}else this.elt.style.width=r+`px`,this.elt.style.height=i+`px`,this.elt.width=r,this.elt.height=i;this.width=r,this.height=i,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty(`width`,r),this._pInst._setProperty(`height`,i))}return this},a.default.Element.prototype.remove=function(){this instanceof a.default.MediaElement&&(this.stop(),(n=this.elt.srcObject)!==null&&n.getTracks().forEach(function(t){t.stop()}));var t,n=this._pInst._elements.indexOf(this);for(t in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(t,this._events[t]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},a.default.Element.prototype.drop=function(t,n){var r;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener(`dragover`,r=function(t){t.preventDefault()}),this.elt.addEventListener(`dragleave`,r)),a.default.Element._attachListener(`drop`,function(r){r.preventDefault(),typeof n==`function`&&n.call(this,r);var r=r.dataTransfer.files,i=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;a.default.File._load(u,t)}}catch(t){o=!0,s=t}finally{try{i||l.return==null||l.return()}finally{if(o)throw s}}},this)):console.log(`The File APIs are not fully supported in this browser.`),this},a.default.Element.prototype.draggable=function(t){var n,r=`ontouchstart`in window,i=0,a=0,o=0,s=0,c=r?`touchend`:`mouseup`,l=r?`touchmove`:`mousemove`;function u(n){var c;n||=window.event,s=r?(c=n.changedTouches,i=o-parseInt(c[0].clientX),a=s-parseInt(c[0].clientY),o=parseInt(c[0].clientX),parseInt(c[0].clientY)):(i=o-parseInt(n.clientX),a=s-parseInt(n.clientY),o=parseInt(n.clientX),parseInt(n.clientY)),t.style.left=t.offsetLeft-i+`px`,t.style.top=t.offsetTop-a+`px`}function d(){document.removeEventListener(c,d,!1),document.removeEventListener(l,u,!1)}return t===void 0?n=t=this.elt:t!==this.elt&&t.elt!==this.elt&&(t=t.elt,n=this.elt),n.addEventListener(r?`touchstart`:`mousedown`,function(t){var n;return t||=window.event,s=r?(n=t.changedTouches,o=parseInt(n[0].clientX),parseInt(n[0].clientY)):(o=parseInt(t.clientX),parseInt(t.clientY)),document.addEventListener(c,d,!1),document.addEventListener(l,u,!1),!1},!1),n.style.cursor=`move`,this};function _(t,n,r,i){f(this,_),this.callback=t,this.time=n,this.id=r,this.val=i}t=function(t){var n=i;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&c(n,t);var r=l(i);function i(t,n){f(this,i);var a=u(n=r.call(this,t,n));return n.elt.crossOrigin=`anonymous`,n._prevTime=0,n._cueIDCounter=0,n._cues=[],n.pixels=[],n._pixelsState=u(n),n._pixelDensity=1,n._modified=!1,n._frameOnCanvas=-1,Object.defineProperty(a,`src`,{get:function(){var t=a.elt.children[0].src,n=a.elt.src===window.location.href?``:a.elt.src;return t===window.location.href?n:t},set:function(n){for(var r=0;r<a.elt.children.length;r++)a.elt.removeChild(a.elt.children[r]);var i=document.createElement(`source`);i.src=n,t.appendChild(i),a.elt.src=n,a.modified=!0}}),a._onended=function(){},a.elt.onended=function(){a._onended(a)},n}return s(i,[{key:`play`,value:function(){var t;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(t=this.elt.play())&&t.catch&&t.catch(function(t){t.name===`NotAllowedError`?console.error(t):console.error(`Media play method encountered an unexpected error`,t)}),this}},{key:`stop`,value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:`pause`,value:function(){return this.elt.pause(),this}},{key:`loop`,value:function(){return this.elt.setAttribute(`loop`,!0),this.play(),this}},{key:`noLoop`,value:function(){return this.elt.removeAttribute(`loop`),this}},{key:`_setupAutoplayFailDetection`,value:function(){var t=setTimeout(function(){console.error(e)},500);this.elt.addEventListener(`play`,function(){return clearTimeout(t)},{passive:!0,once:!0})}},{key:`autoplay`,value:function(t){var n=this,r=this.elt.getAttribute(`autoplay`);return this.elt.setAttribute(`autoplay`,t),t&&!r&&(t=function(){return n._setupAutoplayFailDetection()},this.elt.readyState===4?t():this.elt.addEventListener(`canplay`,t,{passive:!0,once:!0})),this}},{key:`volume`,value:function(t){if(t===void 0)return this.elt.volume;this.elt.volume=t}},{key:`speed`,value:function(t){if(t===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}},{key:`time`,value:function(t){return t===void 0?this.elt.currentTime:(this.elt.currentTime=t,this)}},{key:`duration`,value:function(){return this.elt.duration}},{key:`_ensureCanvas`,value:function(){this.canvas||(this.canvas=document.createElement(`canvas`),this.drawingContext=this.canvas.getContext(`2d`),this.setModified(!0));var t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&t&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:`loadPixels`,value:function(){this._ensureCanvas();var t=[...arguments];return a.default.Renderer2D.prototype.loadPixels.apply(this,t)}},{key:`updatePixels`,value:function(t,n,r,i){return this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.updatePixels.call(this,t,n,r,i)),this.setModified(!0),this}},{key:`get`,value:function(){this._ensureCanvas();var t=[...arguments];return a.default.Renderer2D.prototype.get.apply(this,t)}},{key:`_getPixel`,value:function(){this.loadPixels();var t=[...arguments];return a.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:`set`,value:function(t,n,r){this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.set.call(this,t,n,r),this.setModified(!0))}},{key:`copy`,value:function(){this._ensureCanvas();var t=[...arguments];a.default.prototype.copy.apply(this,t)}},{key:`mask`,value:function(){this.loadPixels(),this.setModified(!0);var t=[...arguments];a.default.Image.prototype.mask.apply(this,t)}},{key:`isModified`,value:function(){return this._modified}},{key:`setModified`,value:function(t){this._modified=t}},{key:`onended`,value:function(t){return this._onended=t,this}},{key:`connect`,value:function(t){var n,r;if(typeof a.default.prototype.getAudioContext==`function`)n=a.default.prototype.getAudioContext(),r=a.default.soundOut.input;else try{r=(n=t.context).destination}catch{throw`connect() is meant to be used with Web Audio API or p5.sound.js`}this.audioSourceNode||(this.audioSourceNode=n.createMediaElementSource(this.elt),this.audioSourceNode.connect(r)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(r)}},{key:`disconnect`,value:function(){if(!this.audioSourceNode)throw`nothing to disconnect`;this.audioSourceNode.disconnect()}},{key:`showControls`,value:function(){this.elt.style[`text-align`]=`inherit`,this.elt.controls=!0}},{key:`hideControls`,value:function(){this.elt.controls=!1}},{key:`addCue`,value:function(t,n,r){var i=this._cueIDCounter++,n=new _(n,t,i,r);return this._cues.push(n),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),i}},{key:`removeCue`,value:function(t){for(var n=0;n<this._cues.length;n++)this._cues[n].id===t&&(console.log(t),this._cues.splice(n,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:`clearCues`,value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:`_onTimeUpdate`,value:function(){for(var t=this.time(),n=0;n<this._cues.length;n++){var r=this._cues[n].time,i=this._cues[n].val;this._prevTime<r&&r<=t&&this._cues[n].callback(i)}this._prevTime=t}}]),i}(a.default.Element),a.default.MediaElement=t,t=function(){function t(n,r){f(this,t),this.file=n,this._pInst=r,r=n.type.split(`/`),this.type=r[0],this.subtype=r[1],this.name=n.name,this.size=n.size,this.data=void 0}return s(t,null,[{key:`_createLoader`,value:function(t,n){var r=new FileReader;return r.onload=function(r){var i,o=new a.default.File(t);o.file.type===`application/json`?o.data=JSON.parse(r.target.result):o.file.type===`text/xml`?(i=new DOMParser().parseFromString(r.target.result,`text/xml`),o.data=new a.default.XML(i.documentElement)):o.data=r.target.result,n(o)},r}},{key:`_load`,value:function(t,n){var r;/^text\//.test(t.type)||t.type===`application/json`?a.default.File._createLoader(t,n).readAsText(t):/^(video|audio)\//.test(t.type)?((r=new a.default.File(t)).data=URL.createObjectURL(t),n(r)):a.default.File._createLoader(t,n).readAsDataURL(t)}}]),t}(),a.default.File=t,t=a.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};i.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?`landscape`:`portrait`,i.default.prototype.accelerationX=0,i.default.prototype.accelerationY=0,i.default.prototype.accelerationZ=0,i.default.prototype.pAccelerationX=0,i.default.prototype.pAccelerationY=0,i.default.prototype.pAccelerationZ=0,i.default.prototype._updatePAccelerations=function(){this._setProperty(`pAccelerationX`,this.accelerationX),this._setProperty(`pAccelerationY`,this.accelerationY),this._setProperty(`pAccelerationZ`,this.accelerationZ)},i.default.prototype.rotationX=0,i.default.prototype.rotationY=0,i.default.prototype.rotationZ=0,i.default.prototype.pRotationX=0,i.default.prototype.pRotationY=0;var a=i.default.prototype.pRotationZ=0,o=0,s=0,c=`clockwise`,l=`clockwise`,u=`clockwise`,d=(i.default.prototype.pRotateDirectionX=void 0,i.default.prototype.pRotateDirectionY=void 0,i.default.prototype.pRotateDirectionZ=void 0,i.default.prototype._updatePRotations=function(){this._setProperty(`pRotationX`,this.rotationX),this._setProperty(`pRotationY`,this.rotationY),this._setProperty(`pRotationZ`,this.rotationZ)},i.default.prototype.turnAxis=void 0,.5),f=30,t=(i.default.prototype.setMoveThreshold=function(t){i.default._validateParameters(`setMoveThreshold`,arguments),d=t},i.default.prototype.setShakeThreshold=function(t){i.default._validateParameters(`setShakeThreshold`,arguments),f=t},i.default.prototype._ondeviceorientation=function(t){this._updatePRotations(),this._setProperty(`rotationX`,this._fromDegrees(t.beta)),this._setProperty(`rotationY`,this._fromDegrees(t.gamma)),this._setProperty(`rotationZ`,this._fromDegrees(t.alpha)),this._handleMotion()},i.default.prototype._ondevicemotion=function(t){this._updatePAccelerations(),this._setProperty(`accelerationX`,2*t.acceleration.x),this._setProperty(`accelerationY`,2*t.acceleration.y),this._setProperty(`accelerationZ`,2*t.acceleration.z),this._handleMotion()},i.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty(`deviceOrientation`,`landscape`):window.orientation===0?this._setProperty(`deviceOrientation`,`portrait`):window.orientation===void 0&&this._setProperty(`deviceOrientation`,`undefined`);var t,n,r,i,p,m=this._isGlobal?window:this;typeof m.deviceMoved==`function`&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&m.deviceMoved(),typeof m.deviceTurned==`function`&&(n=this._toDegrees(this.rotationX)+180,r=this._toDegrees(this.pRotationX)+180,t=a+180,0<n-r&&n-r<270||n-r<-270?c=`clockwise`:(n-r<0||270<n-r)&&(c=`counter-clockwise`),c!==this.pRotateDirectionX&&(t=n),90<Math.abs(n-t)&&Math.abs(n-t)<270&&(t=n,this._setProperty(`turnAxis`,`X`),m.deviceTurned()),this.pRotateDirectionX=c,a=t-180,r=this._toDegrees(this.rotationY)+180,n=this._toDegrees(this.pRotationY)+180,t=o+180,0<r-n&&r-n<270||r-n<-270?l=`clockwise`:(r-n<0||270<r-this.pRotationY)&&(l=`counter-clockwise`),l!==this.pRotateDirectionY&&(t=r),90<Math.abs(r-t)&&Math.abs(r-t)<270&&(t=r,this._setProperty(`turnAxis`,`Y`),m.deviceTurned()),this.pRotateDirectionY=l,o=t-180,0<(n=this._toDegrees(this.rotationZ))-(r=this._toDegrees(this.pRotationZ))&&n-r<270||n-r<-270?u=`clockwise`:(n-r<0||270<n-r)&&(u=`counter-clockwise`),u!==this.pRotateDirectionZ&&(s=n),90<Math.abs(n-s)&&Math.abs(n-s)<270&&(s=n,this._setProperty(`turnAxis`,`Z`),m.deviceTurned()),this.pRotateDirectionZ=u,this._setProperty(`turnAxis`,void 0)),typeof m.deviceShaken==`function`&&(this.pAccelerationX!==null&&(i=Math.abs(this.accelerationX-this.pAccelerationX),p=Math.abs(this.accelerationY-this.pAccelerationY)),f<i+p&&m.deviceShaken())},i.default);r.default=t},{"../core/main":283}],301:[function(t,n,r){t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.string.repeat`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.string.repeat`),t(`core-js/modules/web.dom-collections.for-each`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};i.default.prototype.isKeyPressed=!1,i.default.prototype.keyIsPressed=!1,i.default.prototype.key=``,i.default.prototype.keyCode=0,i.default.prototype._onkeydown=function(t){var n;t.repeat?this._setProperty(`isKeyRepeated`,!0):(this._setProperty(`isKeyRepeated`,!1),this._setProperty(`isKeyPressed`,!0),this._setProperty(`keyIsPressed`,!0),this._setProperty(`keyCode`,t.which),this._downKeys[t.which]=!0,this._setProperty(`key`,t.key||String.fromCharCode(t.which)||t.which),t.metaKey&&(this._metaKeys||=[],this._metaKeys.push(t.which)),typeof(n=this._isGlobal?window:this).keyPressed!=`function`||t.charCode||!1===n.keyPressed(t)&&t.preventDefault())},i.default.prototype._onkeyup=function(t){var n=this,r=(this._setProperty(`isKeyPressed`,!1),this._setProperty(`keyIsPressed`,!1),this._setProperty(`_lastKeyCodePressed`,this._keyCode),this._downKeys[t.which]=!1,t.key===`Meta`&&this._metaKeys&&(this._metaKeys.forEach(function(t){n._downKeys[t]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof r.keyReleased==`function`&&!1===r.keyReleased(t)&&t.preventDefault()},i.default.prototype._onkeypress=function(t){var n;t.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty(`_lastKeyCodeTyped`,t.which),this._setProperty(`key`,t.key||String.fromCharCode(t.which)||t.which),typeof(n=this._isGlobal?window:this).keyTyped==`function`&&!1===n.keyTyped(t)&&t.preventDefault())},i.default.prototype._onblur=function(t){this._downKeys={}},i.default.prototype.keyIsDown=function(t){return i.default._validateParameters(`keyIsDown`,arguments),this._downKeys[t]||!1},i.default.prototype._areDownKeys=function(){for(var t in this._downKeys)if(this._downKeys.hasOwnProperty(t)&&!0===this._downKeys[t])return!0;return!1},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(o=t(`../core/main`))&&o.__esModule?o:{default:o},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}o.default.prototype.movedX=0,o.default.prototype.movedY=0,o.default.prototype._hasMouseInteracted=!1,o.default.prototype.mouseX=0,o.default.prototype.mouseY=0,o.default.prototype.pmouseX=0,o.default.prototype.pmouseY=0,o.default.prototype.winMouseX=0,o.default.prototype.winMouseY=0,o.default.prototype.pwinMouseX=0,o.default.prototype.pwinMouseY=0,o.default.prototype.mouseButton=0,o.default.prototype.mouseIsPressed=!1,o.default.prototype._updateNextMouseCoords=function(t){var n,r,i,a,o;this._curElement!==null&&(!t.touches||0<t.touches.length)&&(n=this._curElement.elt,r=this.width,i=this.height,(a=t)&&!a.clientX&&(a.touches?a=a.touches[0]:a.changedTouches&&(a=a.changedTouches[0])),o=n.getBoundingClientRect(),r=n.scrollWidth/r||1,n=n.scrollHeight/i||1,i={x:(a.clientX-o.left)/r,y:(a.clientY-o.top)/n,winX:a.clientX,winY:a.clientY,id:a.identifier},this._setProperty(`mouseX`,i.x),this._setProperty(`mouseY`,i.y),this._setProperty(`winMouseX`,i.winX),this._setProperty(`winMouseY`,i.winY),document.pointerLockElement===null?(r=this.mouseX-this.pmouseX,o=this.mouseY-this.pmouseY,this._setProperty(`movedX`,r),this._setProperty(`movedY`,o)):(this._setProperty(`movedX`,t.movementX),this._setProperty(`movedY`,t.movementY))),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty(`_hasMouseInteracted`,!0))},o.default.prototype._updateMouseCoords=function(){this._setProperty(`pmouseX`,this.mouseX),this._setProperty(`pmouseY`,this.mouseY),this._setProperty(`pwinMouseX`,this.winMouseX),this._setProperty(`pwinMouseY`,this.winMouseY),this._setProperty(`_pmouseWheelDeltaY`,this._mouseWheelDeltaY)},o.default.prototype._setMouseButton=function(t){t.button===1?this._setProperty(`mouseButton`,s.CENTER):t.button===2?this._setProperty(`mouseButton`,s.RIGHT):this._setProperty(`mouseButton`,s.LEFT)},o.default.prototype._onmousemove=function(t){var n=this._isGlobal?window:this;this._updateNextMouseCoords(t),this.mouseIsPressed?typeof n.mouseDragged==`function`?!1===n.mouseDragged(t)&&t.preventDefault():typeof n.touchMoved==`function`&&!1===n.touchMoved(t)&&t.preventDefault():typeof n.mouseMoved==`function`&&!1===n.mouseMoved(t)&&t.preventDefault()},o.default.prototype._onmousedown=function(t){var n=this._isGlobal?window:this;this._setProperty(`mouseIsPressed`,!0),this._setMouseButton(t),this._updateNextMouseCoords(t),this.touchstart||=(typeof n.mousePressed==`function`?!1===n.mousePressed(t)&&t.preventDefault():typeof n.touchStarted==`function`&&!1===n.touchStarted(t)&&t.preventDefault(),!1)},o.default.prototype._onmouseup=function(t){var n=this._isGlobal?window:this;this._setProperty(`mouseIsPressed`,!1),this.touchend||=(typeof n.mouseReleased==`function`?!1===n.mouseReleased(t)&&t.preventDefault():typeof n.touchEnded==`function`&&!1===n.touchEnded(t)&&t.preventDefault(),!1)},o.default.prototype._ondragend=o.default.prototype._onmouseup,o.default.prototype._ondragover=o.default.prototype._onmousemove,o.default.prototype._onclick=function(t){var n=this._isGlobal?window:this;typeof n.mouseClicked==`function`&&!1===n.mouseClicked(t)&&t.preventDefault()},o.default.prototype._ondblclick=function(t){var n=this._isGlobal?window:this;typeof n.doubleClicked==`function`&&!1===n.doubleClicked(t)&&t.preventDefault()},o.default.prototype._mouseWheelDeltaY=0,o.default.prototype._pmouseWheelDeltaY=0,o.default.prototype._onwheel=function(t){var n=this._isGlobal?window:this;this._setProperty(`_mouseWheelDeltaY`,t.deltaY),typeof n.mouseWheel==`function`&&(t.delta=t.deltaY,!1===n.mouseWheel(t)&&t.preventDefault())},o.default.prototype.requestPointerLock=function(){var t=this._curElement.elt;return t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock,t.requestPointerLock?(t.requestPointerLock(),!0):(console.log(`requestPointerLock is not implemented in this browser`),!1)},o.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=o.default,r.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(t){if(this._curElement!==null){for(var n=[],r=0;r<t.touches.length;r++)n[r]=function(t,n,r,i){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=t.getBoundingClientRect(),n=t.scrollWidth/n||1,t=t.scrollHeight/r||1,r=i.touches[a]||i.changedTouches[a];return{x:(r.clientX-o.left)/n,y:(r.clientY-o.top)/t,winX:r.clientX,winY:r.clientY,id:r.identifier}}(this._curElement.elt,this.width,this.height,t,r);this._setProperty(`touches`,n)}},t.default.prototype._ontouchstart=function(t){var n=this._isGlobal?window:this;this._setProperty(`mouseIsPressed`,!0),this._updateTouchCoords(t),this._updateNextMouseCoords(t),this._updateMouseCoords(),typeof n.touchStarted==`function`&&(!1===n.touchStarted(t)&&t.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(t){var n=this._isGlobal?window:this;this._updateTouchCoords(t),this._updateNextMouseCoords(t),typeof n.touchMoved==`function`?!1===n.touchMoved(t)&&t.preventDefault():typeof n.mouseDragged==`function`&&!1===n.mouseDragged(t)&&t.preventDefault()},t.default.prototype._ontouchend=function(t){this._setProperty(`mouseIsPressed`,!1),this._updateTouchCoords(t),this._updateNextMouseCoords(t);var n=this._isGlobal?window:this;typeof n.touchEnded==`function`&&(!1===n.touchEnded(t)&&t.preventDefault(),this.touchend=!0)},t=t.default,r.default=t},{"../core/main":283}],304:[function(t,n,r){t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.int32-array`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.int32-array`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i,a,o,s,c={_toPixels:function(t){var n,r;return t instanceof ImageData?t.data:t.getContext(`2d`)?t.getContext(`2d`).getImageData(0,0,t.width,t.height).data:t.getContext(`webgl`)?(r=(n=t.getContext(`webgl`)).drawingBufferWidth*n.drawingBufferHeight*4,r=new Uint8Array(r),n.readPixels(0,0,t.width,t.height,n.RGBA,n.UNSIGNED_BYTE,r),r):void 0},_getARGB:function(t,n){return n*=4,t[3+n]<<24&4278190080|t[n]<<16&16711680|t[1+n]<<8&65280|255&t[2+n]},_setPixels:function(t,n){for(var r,i=0,a=t.length;i<a;i++)t[0+(r=4*i)]=(16711680&n[i])>>>16,t[1+r]=(65280&n[i])>>>8,t[2+r]=255&n[i],t[3+r]=(4278190080&n[i])>>>24},_toImageData:function(t){return t instanceof ImageData?t:t.getContext(`2d`).getImageData(0,0,t.width,t.height)},_createImageData:function(t,n){return c._tmpCanvas=document.createElement(`canvas`),c._tmpCtx=c._tmpCanvas.getContext(`2d`),this._tmpCtx.createImageData(t,n)},apply:function(t,n,r){var i=t.getContext(`2d`),a=i.getImageData(0,0,t.width,t.height),n=n(a,r);n instanceof ImageData?i.putImageData(n,0,0,0,0,t.width,t.height):i.putImageData(a,0,0,0,0,t.width,t.height)},threshold:function(t){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,r=c._toPixels(t),i=Math.floor(255*n),a=0;a<r.length;a+=4){var o=void 0,o=i<=.2126*r[a]+.7152*r[a+1]+.0722*r[a+2]?255:0;r[a]=r[a+1]=r[a+2]=o}},gray:function(t){for(var n=c._toPixels(t),r=0;r<n.length;r+=4){var i=n[r],a=n[r+1],o=n[r+2];n[r]=n[r+1]=n[r+2]=.2126*i+.7152*a+.0722*o}},opaque:function(t){for(var n=c._toPixels(t),r=0;r<n.length;r+=4)n[r+3]=255;return n},invert:function(t){for(var n=c._toPixels(t),r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2]},posterize:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,r=c._toPixels(t);if(n<2||255<n)throw Error(`Level must be greater than 2 and less than 255 for posterize`);for(var i=n-1,a=0;a<r.length;a+=4){var o=r[a],s=r[a+1],l=r[a+2];r[a]=255*(o*n>>8)/i,r[a+1]=255*(s*n>>8)/i,r[a+2]=255*(l*n>>8)/i}},dilate:function(t){for(var n,r,i,a,o,s,l,u,d,f=c._toPixels(t),p=0,m=f.length?f.length/4:0,h=new Int32Array(m);p<m;)for(r=(n=p)+t.width;p<r;)a=i=c._getARGB(f,p),(d=p-1)<n&&(d=p),r<=(u=p+1)&&(u=p),(o=p-t.width)<0&&(o=0),m<=(s=p+t.width)&&(s=p),o=c._getARGB(f,o),d=c._getARGB(f,d),s=c._getARGB(f,s),(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(l=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(i=d,a=l),a<(l=77*((d=c._getARGB(f,u))>>16&255)+151*(d>>8&255)+28*(255&d))&&(i=d,a=l),a<(u=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))&&(i=o,a=u),a<(d=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(i=s,a=d),h[p++]=i;c._setPixels(f,h)},erode:function(t){for(var n,r,i,a,o,s,l,u,d,f=c._toPixels(t),p=0,m=f.length?f.length/4:0,h=new Int32Array(m);p<m;)for(r=(n=p)+t.width;p<r;)a=i=c._getARGB(f,p),(d=p-1)<n&&(d=p),r<=(u=p+1)&&(u=p),(o=p-t.width)<0&&(o=0),m<=(s=p+t.width)&&(s=p),o=c._getARGB(f,o),d=c._getARGB(f,d),s=c._getARGB(f,s),(l=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(i=d,a=l),(l=77*((d=c._getARGB(f,u))>>16&255)+151*(d>>8&255)+28*(255&d))<a&&(i=d,a=l),(u=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))<a&&(i=o,a=u),(d=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<a&&(i=s,a=d),h[p++]=i;c._setPixels(f,h)},blur:function(t,n){for(var r,l,u,d,f,p,m,h,g,_,v=c._toPixels(t),y=t.width,b=t.height,x=y*b,S=new Int32Array(x),C=0;C<x;C++)S[C]=c._getARGB(v,C);var w,T,E,D,O,k,A,j,M=new Int32Array(x),N=new Int32Array(x),P=new Int32Array(x),F=new Int32Array(x),I=0,L=3.5*n|0;if(i!==(L=L<1?1:L<248?L:248)){a=1+(i=L)<<1,o=new Int32Array(a),s=Array(a);for(var R=0;R<a;R++)s[R]=new Int32Array(256);for(var z=1,B=L-1;z<L;z++){o[L+z]=o[B]=k=B*B,A=s[L+z],j=s[B--];for(var V=0;V<256;V++)A[V]=j[V]=k*V}O=o[L]=L*L,A=s[L];for(var H=0;H<256;H++)A[H]=O*H}for(T=0;T<b;T++){for(w=0;w<y;w++){if(d=u=l=f=r=0,(p=w-i)<0)_=-p,p=0;else{if(y<=p)break;_=0}for(E=_;E<a&&!(y<=p);E++){var U=S[p+I];D=s[E],f+=D[(-16777216&U)>>>24],l+=D[(16711680&U)>>16],u+=D[(65280&U)>>8],d+=D[255&U],r+=o[E],p++}M[m=I+w]=f/r,N[m]=l/r,P[m]=u/r,F[m]=d/r}I+=y}for(g=(h=-i)*y,T=I=0;T<b;T++){for(w=0;w<y;w++){if(d=u=l=f=r=0,h<0)_=m=-h,p=w;else{if(b<=h)break;_=0,m=h,p=w+g}for(E=_;E<a&&!(b<=m);E++)D=s[E],f+=D[M[p]],l+=D[N[p]],u+=D[P[p]],d+=D[F[p]],r+=o[E],m++,p+=y;S[w+I]=f/r<<24|l/r<<16|u/r<<8|d/r}I+=y,g+=y,h++}c._setPixels(v,S)}};r.default=c},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=o(t(`../core/main`)),a=o(t(`omggif`));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}i.default.prototype.createImage=function(t,n){return i.default._validateParameters(`createImage`,arguments),new i.default.Image(t,n)},i.default.prototype.saveCanvas=function(){for(var t,n,r,a,o,s,c=arguments.length,l=Array(c),u=0;u<c;u++)l[u]=arguments[u];switch(i.default._validateParameters(`saveCanvas`,l),l[0]instanceof HTMLCanvasElement?(t=l[0],l.shift()):l[0]instanceof i.default.Element?(t=l[0].elt,l.shift()):l[0]instanceof i.default.Framebuffer?(a=l[0],(o=this.createGraphics(a.width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),o.loadPixels(),o.pixels.set(a.pixels),o.updatePixels(),t=o.elt,l.shift()):t=this._curElement&&this._curElement.elt,1<=l.length&&(n=l[0]),r=(r=2<=l.length?l[1]:r)||i.default.prototype._checkFileExtension(n,r)[1]||`png`){default:s=`image/png`;break;case`webp`:s=`image/webp`;break;case`jpeg`:case`jpg`:s=`image/jpeg`}t.toBlob(function(t){i.default.prototype.downloadFile(t,n,r),o&&o.remove()},s)},i.default.prototype.encodeAndDownloadGif=function(t,n){for(var r=t.gifProperties,o=r.loopLimit,c=(o===1?o=null:o===null&&(o=0),new Uint8Array(t.width*t.height*r.numFrames)),l=[],u={},d=0;d<r.numFrames;d++){for(var f=new Set,p=r.frames[d].image.data,m=p.length,h=new Uint32Array(t.width*t.height),g=0,_=0;g<m;g+=4,_++){var v=p[g+0]<<16|p[g+1]<<8|p[g+2]<<0;f.add(v),h[_]=v}var y=s(f).sort().toString();u[y]===void 0?u[y]={freq:1,frames:[d]}:(u[y].freq+=1,u[y].frames.push(d)),l.push(h)}for(var b=[],x=Object.keys(u).sort(function(t,n){return u[n].freq-u[t].freq}),S=x[0].split(`,`).map(function(t){return parseInt(t)}),b=b.concat(u[S].frames),C=new Set(S),w=1;w<x.length;w++){var T=x[w].split(`,`).map(function(t){return parseInt(t)}).filter(function(t){return!C.has(t)});if(S.length+T.length<=256){for(var E=0;E<T.length;E++)S.push(T[E]),C.add(T[E]);b=b.concat(u[x[w]].frames)}}b=new Set(b);for(var D={},O=0;O<S.length;O++)D[S[O]]||(D[S[O]]=O);for(var k=1;k<S.length;)k<<=1;S.length=k;for(var o={loop:o,palette:new Uint32Array(S)},A=new a.default.GifWriter(c,t.width,t.height,o),j={},M=0;M<r.numFrames;M++)(function(n){var i=!b.has(n),a=i?[]:S,o=new Uint8Array(t.width*t.height),s={},c=new Set,u=(l[n].forEach(function(t,r){i?(s[t]===void 0&&(s[t]=a.length,a.push(t)),o[r]=s[t]):o[r]=D[t],0<n&&l[n-1][r]!==t&&c.add(t)}),{}),d=a.filter(function(t){return!c.has(t)});if(0<d.length){var d=d[0],f=(i?s:D)[d];if(0<n){for(var p=0;p<l[n].length;p++)l[n-1][p]===l[n][p]&&(o[p]=f);u.transparent=f,j.frameOpts.disposal=1}}if(u.delay=r.frames[n].delay/10,i){for(var m=1;m<a.length;)m<<=1;a.length=m,u.palette=new Uint32Array(a)}0<n&&A.addFrame(0,0,t.width,t.height,j.pixelPaletteIndex,j.frameOpts),j={pixelPaletteIndex:o,frameOpts:u}})(M);j.frameOpts.disposal=1,A.addFrame(0,0,t.width,t.height,j.pixelPaletteIndex,j.frameOpts),o=new Blob([c.slice(0,A.end())],{type:`image/gif`}),i.default.prototype.downloadFile(o,n,`gif`)},i.default.prototype.saveFrames=function(t,n,r,a,o){i.default._validateParameters(`saveFrames`,arguments),r=i.default.prototype.constrain(r||=3,0,15),r*=1e3;var a=i.default.prototype.constrain(a||15,0,22),s=0,c=i.default.prototype._makeFrame,l=this._curElement.elt,u=[],d=setInterval(function(){u.push(c(t+s,n,l)),s++},1e3/a);setTimeout(function(){if(clearInterval(d),o)o(u);else for(var t=0,n=u;t<n.length;t++){var r=n[t];i.default.prototype.downloadFile(r.imageData,r.filename,r.ext)}u=[]},.01+r)},i.default.prototype._makeFrame=function(t,n,r){var i,r=this?this._curElement.elt:r;if(n)switch(n.toLowerCase()){case`png`:i=`image/png`;break;case`jpeg`:case`jpg`:i=`image/jpeg`;break;default:i=`image/png`}else n=`png`,i=`image/png`;var r=(r=r.toDataURL(i)).replace(i,`image/octet-stream`),a={};return a.imageData=r,a.filename=t,a.ext=n,a},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.copy-within`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint8-clamped-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.copy-within`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint8-clamped-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t(`regenerator-runtime/runtime`);var o=f(t(`../core/main`)),s=f(t(`../core/helpers`)),c=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=d();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`)),l=f(t(`omggif`)),u=t(`gifenc`);function d(){var t;return typeof WeakMap==`function`?(t=new WeakMap,d=function(){return t},t):null}function f(t){return t&&t.__esModule?t:{default:t}}function p(t,n,r,i,a,o,s){try{var c=t[o](s),l=c.value}catch(t){r(t);return}c.done?n(l):Promise.resolve(l).then(i,a)}function m(t,n,r,i,a,o,s,l,u,d,f){var p,m,h,g,_,v,y,b,x;return t===c.COVER&&(p=n,h=r,y=o,b=s,v=l,x=u,m=d,g=f,_=Math.max(y/m,b/g),y/=_,b/=_,_=v,v=x,p===c.CENTER?_+=(m-y)/2:p===c.RIGHT&&(_+=m-y),h===c.CENTER?v+=(g-b)/2:h===c.BOTTOM&&(v+=g-b),l=(x={x:_,y:v,w:y,h:b}).x,u=x.y,d=x.w,f=x.h),t===c.CONTAIN&&(p=n,m=r,h=i,g=a,_=o,v=s,y=d,b=f,x=Math.max(y/_,b/v),y/=x,b/=x,x=h,h=g,p===c.CENTER?x+=(_-y)/2:p===c.RIGHT&&(x+=_-y),m===c.CENTER?h+=(v-b)/2:m===c.BOTTOM&&(h+=v-b),i=(t={x,y:h,w:y,h:b}).x,a=t.y,o=t.w,s=t.h),{sx:l,sy:u,sw:d,sh:f,dx:i,dy:a,dw:o,dh:s}}function h(t,n){return 0<t&&t<n?t:n}t(`../core/friendly_errors/validate_params`),t(`../core/friendly_errors/file_errors`),t(`../core/friendly_errors/fes_core`),o.default.prototype.loadImage=function(t,n,r){o.default._validateParameters(`loadImage`,arguments);var i=new o.default.Image(1,1,this),a=this,s=new Request(t,{method:`GET`,mode:`cors`});return fetch(t,s).then(function(s){var c,u=s.headers.get(`content-type`);u===null&&console.warn(`The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset.`),u&&u.includes(`image/gif`)?s.arrayBuffer().then(function(t){if(t){for(var t=new Uint8Array(t),s=i,c=n,u=r,d=function(t){a._decrementPreload()}.bind(a),f=new l.default.GifReader(t),p=(s.width=s.canvas.width=f.width,s.height=s.canvas.height=f.height,[]),m=f.numFrames(),h=new Uint8ClampedArray(s.width*s.height*4),g=0;g<m;g++){var _=f.frameInfo(g),v=s.drawingContext.getImageData(0,0,s.width,s.height),y=(h=v.data.slice(),function(t,n){try{n.decodeAndBlitFrameRGBA(t,h)}catch(t){o.default._friendlyFileLoadError(8,s.src),typeof u==`function`?u(t):console.error(t)}}(g,f),new ImageData(h,s.width,s.height)),y=(s.drawingContext.putImageData(y,0,0),_.delay);y===0&&(y=10),p.push({image:s.drawingContext.getImageData(0,0,s.width,s.height),delay:10*y}),_.disposal===2?s.drawingContext.clearRect(_.x,_.y,_.width,_.height):_.disposal===3&&s.drawingContext.putImageData(v,0,0,_.x,_.y,_.width,_.height)}(t=f.loopCount())===null?t=1:t===0&&(t=null),s.drawingContext.putImageData(p[0].image,0,0),1<p.length&&(s.gifProperties={displayIndex:0,loopLimit:t,loopCount:0,frames:p,numFrames:m,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof c==`function`&&c(s),d()}},function(t){typeof r==`function`?(r(t),a._decrementPreload()):console.error(t)}):((c=new Image).onload=function(){i.width=i.canvas.width=c.width,i.height=i.canvas.height=c.height,i.drawingContext.drawImage(c,0,0),i.modified=!0,typeof n==`function`&&n(i),a._decrementPreload()},c.onerror=function(t){o.default._friendlyFileLoadError(0,c.src),typeof r==`function`?(r(t),a._decrementPreload()):console.error(t)},t.indexOf(`data:image/`)!==0&&(c.crossOrigin=`Anonymous`),c.src=t),i.modified=!0}).catch(function(n){o.default._friendlyFileLoadError(0,t),typeof r==`function`?(r(n),a._decrementPreload()):console.error(n)}),i},o.default.prototype.saveGif=function(){t=regeneratorRuntime.mark(function t(n,r){var i,a,s,c,l,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k,A,j,M=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=2<M.length&&M[2]!==void 0?M[2]:{delay:0,units:`seconds`,silent:!1,notificationDuration:0,notificationID:`progressBar`},typeof n!=`string`)throw TypeError(`fileName parameter must be a string`);t.next=3;break;case 3:if(typeof r!=`number`)throw TypeError(`Duration parameter must be a number`);t.next=5;break;case 5:if(a=i&&i.delay||0,s=i&&i.units||`seconds`,c=i&&i.silent||!1,l=i&&i.notificationDuration||0,d=i&&i.notificationID||`progressBar`,typeof a!=`number`)throw TypeError(`Delay parameter must be a number`);t.next=12;break;case 12:if(s!==`seconds`&&s!==`frames`)throw TypeError(`Units parameter must be either "frames" or "seconds"`);t.next=14;break;case 14:if(typeof c!=`boolean`)throw TypeError(`Silent parameter must be a boolean`);t.next=16;break;case 16:if(typeof l!=`number`)throw TypeError(`Notification duration parameter must be a number`);t.next=18;break;case 18:if(typeof d!=`string`)throw TypeError(`Notification ID parameter must be a string`);t.next=20;break;case 20:return this._recording=!0,h=this._targetFrameRate,f=(f=1/(h=h!==1/0&&h!==void 0&&h!==0?h:60)*1e3)<20?20:f,m=(p=s===`seconds`?r*h:r)+(h=s===`seconds`?a*h:a),h=h,this.frameCount=h,g=this._pixelDensity,this.pixelDensity(1),_=[],document.getElementById(d)!==null&&document.getElementById(d).remove(),c||((v=this.createP(``)).id(d),v.style(`font-size`,`16px`),v.style(`font-family`,`Montserrat`),v.style(`background-color`,`#ffffffa0`),v.style(`padding`,`8px`),v.style(`border-radius`,`10px`),v.position(0,0)),this._renderer instanceof o.default.RendererGL&&(b=this.drawingContext,y=new Uint8Array(b.drawingBufferWidth*b.drawingBufferHeight*4)),this.noLoop(),t.next=39,Promise.resolve();case 39:if(h<m)return this.redraw(),k=void 0,k=this._renderer instanceof o.default.RendererGL?(y=new Uint8Array(b.drawingBufferWidth*b.drawingBufferHeight*4),b.readPixels(0,0,b.drawingBufferWidth,b.drawingBufferHeight,b.RGBA,b.UNSIGNED_BYTE,y),function(t,n,r){for(var i=parseInt(r/2),a=4*n,o=new Uint8Array(4*n),s=0;s<i;++s){var c=s*a,l=(r-s-1)*a;o.set(t.subarray(c,c+a)),t.copyWithin(c,l,l+a),t.set(o,l)}return t}(y,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,_.push(k),h++,c||v.html(`Saved frame <b>`+_.length.toString()+`</b> out of `+p.toString()),t.next=48,new Promise(function(t){return setTimeout(t,0)});t.next=50;break;case 48:t.next=39;break;case 50:c||v.html(`Frames processed, generating color palette...`),this.loop(),this.pixelDensity(g),x=(0,u.GIFEncoder)(),S=function(t){for(var n=new Uint8Array(t.length*t[0].length),r=0;r<t.length;r++)n.set(t[r],r*t[0].length);var i=(0,u.quantize)(n,256,{format:`rgba4444`,oneBitAlpha:!0});return i.length===256?i[i.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:i.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),i}(_),C={},w=function(t){for(var n=t.length/4,r=new Uint8Array(n),i=0;i<n;i++){var a=t[4*i]<<24|t[4*i+1]<<16|t[4*i+2]<<8|t[4*i+3];C[a]===void 0&&(C[a]=(0,u.nearestColorIndex)(S,t.slice(4*i,4*(i+1)))),r[i]=C[a]}return r},T=S.length-1,E=[],D=0;case 60:if(!(D<_.length)){t.next=71;break}if(O=w(_[D]),k=O.slice(),D===0)x.writeFrame(O,this.width,this.height,{palette:S,delay:f,dispose:1});else{for(A=0;A<O.length;A++)O[A]===E[A]&&(O[A]=T);x.writeFrame(O,this.width,this.height,{delay:f,transparent:!0,transparentIndex:T,dispose:1})}return E=k,c||v.html(`Rendered frame <b>`+D.toString()+`</b> out of `+p.toString()),t.next=68,new Promise(function(t){return setTimeout(t,0)});case 68:D++,t.next=60;break;case 71:x.finish(),j=x.bytesView(),j=new Blob([j],{type:`image/gif`}),_=[],this._recording=!1,this.loop(),c||(v.html(`Done. Downloading your gif!`),0<l&&setTimeout(function(){return v.remove()},1e3*l)),o.default.prototype.downloadFile(j,n,`gif`);case 80:case`end`:return t.stop()}},t,this)});var t,n=function(){var n=this,r=arguments;return new Promise(function(i,a){var o=t.apply(n,r);function s(t){p(o,i,a,s,c,`next`,t)}function c(t){p(o,i,a,s,c,`throw`,t)}s(void 0)})};return function(t,r){return n.apply(this,arguments)}}(),o.default.prototype.image=function(t,n,r,i,a,l,u,d,f,p,g,_){o.default._validateParameters(`image`,arguments);var v=t.width,y=t.height,b=(_||=c.CENTER,g||=c.CENTER,t.elt&&(v=v===void 0?t.elt.width:v,y=y===void 0?t.elt.height:y),t.elt&&t.elt.videoWidth&&!t.canvas&&(v=v===void 0?t.elt.videoWidth:v,y=y===void 0?t.elt.videoHeight:y),i||v),a=a||y,l=l||0,u=u||0,d=h(d===void 0?v:d,v),v=h(f===void 0?y:f,y),f=1;t.elt&&!t.canvas&&t.elt.style.width&&(f=t.elt.videoWidth&&!i?t.elt.videoWidth:t.elt.width,f/=parseInt(t.elt.style.width,10)),l*=f,u*=f,v*=f,d*=f,y=m(p,g,_,(y=s.default.modeAdjust(n,r,b,a,this._renderer._imageMode)).x,y.y,y.w,y.h,l,u,d,v),this._renderer.image(t,y.sx,y.sy,y.sw,y.sh,y.dx,y.dy,y.dw,y.dh)},o.default.prototype.tint=function(){var t=[...arguments];o.default._validateParameters(`tint`,t);var n=this.color.apply(this,t);this._renderer._tint=n.levels},o.default.prototype.noTint=function(){this._renderer._tint=null},o.default.prototype._getTintedImageCanvas=o.default.Renderer2D.prototype._getTintedImageCanvas,o.default.prototype.imageMode=function(t){o.default._validateParameters(`imageMode`,arguments),t!==c.CORNER&&t!==c.CORNERS&&t!==c.CENTER||(this._renderer._imageMode=t)},t=o.default,r.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=o(t(`../core/main`)),a=o(t(`./filters`));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i.default.Image=function(){function t(n,r){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.width=n,this.height=r,this.canvas=document.createElement(`canvas`),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext(`2d`),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var n,r,o;return n=t,(r=[{key:`pixelDensity`,value:function(t){return t===void 0?this._pixelDensity:(t<=0&&(i.default._friendlyParamError({type:`INVALID_VALUE`,format:{types:[`Number`]},position:1},`pixelDensity`),t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this)}},{key:`_animateGif`,value:function(t){var n,r=this.gifProperties,t=t._lastRealFrameTime||window.performance.now();r.lastChangeTime===0&&(r.lastChangeTime=t),r.playing&&(r.timeDisplayed=t-r.lastChangeTime,n=r.frames[r.displayIndex].delay,r.timeDisplayed>=n&&(n=Math.floor(r.timeDisplayed/n),r.timeDisplayed=0,r.lastChangeTime=t,r.displayIndex+=n,r.loopCount=Math.floor(r.displayIndex/r.numFrames),r.loopLimit!==null&&r.loopCount>=r.loopLimit?r.playing=!1:(t=r.displayIndex%r.numFrames,this.drawingContext.putImageData(r.frames[t].image,0,0),r.displayIndex=t,this.setModified(!0))))}},{key:`_setProperty`,value:function(t,n){this[t]=n,this.setModified(!0)}},{key:`loadPixels`,value:function(){i.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:`updatePixels`,value:function(t,n,r,a){i.default.Renderer2D.prototype.updatePixels.call(this,t,n,r,a),this.setModified(!0)}},{key:`get`,value:function(t,n,r,a){return i.default._validateParameters(`p5.Image.get`,arguments),i.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:`_getPixel`,value:function(){var t=[...arguments];return i.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:`set`,value:function(t,n,r){i.default.Renderer2D.prototype.set.call(this,t,n,r),this.setModified(!0)}},{key:`resize`,value:function(t,n){t===0&&n===0?(t=this.canvas.width,n=this.canvas.height):t===0?t=this.canvas.width*n/this.canvas.height:n===0&&(n=this.canvas.height*t/this.canvas.width),t=Math.floor(t),n=Math.floor(n);var r=document.createElement(`canvas`);if(r.width=t,r.height=n,this.gifProperties)for(var i=this.gifProperties,a=0;a<i.numFrames;a++){for(var o=this.drawingContext.createImageData(t,n),s=(f=f=d=u=l=void 0,i.frames[a].image),c=o,l=0,u=0;u<c.height;u++)for(var d=0;d<c.width;d++){var f=Math.floor(d*s.width/c.width),f=4*(Math.floor(u*s.height/c.height)*s.width+f);c.data[l++]=s.data[f++],c.data[l++]=s.data[f++],c.data[l++]=s.data[f++],c.data[l++]=s.data[+f]}i.frames[a].image=o}r.getContext(`2d`).drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=t,this.canvas.height=this.height=n,this.drawingContext.drawImage(r,0,0,t,n,0,0,t,n),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:`copy`,value:function(){var t=[...arguments];i.default.prototype.copy.apply(this,t)}},{key:`mask`,value:function(t){var n=this.drawingContext.globalCompositeOperation,r=this._pixelDensity,a=1,o=[t=t===void 0?this:t,0,0,(a=t instanceof i.default.Renderer?t._pInst._pixelDensity:a)*t.width,a*t.height,0,0,r*this.width,r*this.height];if(this.drawingContext.globalCompositeOperation=`destination-in`,this.gifProperties){for(var s=0;s<this.gifProperties.frames.length;s++)this.drawingContext.putImageData(this.gifProperties.frames[s].image,0,0),this.copy.apply(this,o),this.gifProperties.frames[s].image=this.drawingContext.getImageData(0,0,r*this.width,r*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,o);this.drawingContext.globalCompositeOperation=n,this.setModified(!0)}},{key:`filter`,value:function(t,n){a.default.apply(this.canvas,a.default[t],n),this.setModified(!0)}},{key:`blend`,value:function(){var t=[...arguments];i.default._validateParameters(`p5.Image.blend`,arguments),i.default.prototype.blend.apply(this,t),this.setModified(!0)}},{key:`setModified`,value:function(t){this._modified=t}},{key:`isModified`,value:function(){return this._modified}},{key:`save`,value:function(t,n){this.gifProperties?i.default.prototype.encodeAndDownloadGif(this,t):i.default.prototype.saveCanvas(this.canvas,t,n)}},{key:`reset`,value:function(){var t;this.gifProperties&&((t=this.gifProperties).playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0))}},{key:`getCurrentFrame`,value:function(){var t;if(this.gifProperties)return(t=this.gifProperties).displayIndex%t.numFrames}},{key:`setFrame`,value:function(t){var n;this.gifProperties&&(t<(n=this.gifProperties).numFrames&&0<=t?(n.timeDisplayed=0,n.lastChangeTime=0,n.displayIndex=t,this.drawingContext.putImageData(n.frames[t].image,0,0)):console.log(`Cannot set GIF to a frame number that is higher than total number of frames or below zero.`))}},{key:`numFrames`,value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:`play`,value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:`pause`,value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:`delay`,value:function(t,n){if(this.gifProperties){var r=this.gifProperties;if(n<r.numFrames&&0<=n)r.frames[n].delay=t;else{var i=!0,n=!1,a=void 0;try{for(var o,s=r.frames[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)o.value.delay=t}catch(t){n=!0,a=t}finally{try{i||s.return==null||s.return()}finally{if(n)throw a}}}}}}])&&s(n.prototype,r),o&&s(n,o),t}(),t=i.default.Image,r.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,n,r){t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.filter`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=o(t(`../core/main`)),a=o(t(`./filters`));function o(t){return t&&t.__esModule?t:{default:t}}t(`../color/p5.Color`),i.default.prototype.pixels=[],i.default.prototype.blend=function(){for(var t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];i.default._validateParameters(`blend`,r),this._renderer?(t=this._renderer).blend.apply(t,r):i.default.Renderer2D.prototype.blend.apply(this,r)},i.default.prototype.copy=function(){for(var t,n,r,a,o,s,c,l,u,d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];if(i.default._validateParameters(`copy`,f),f.length===9)t=f[0],n=f[1],r=f[2],a=f[3],o=f[4],s=f[5],c=f[6],l=f[7],u=f[8];else{if(f.length!==8)throw Error(`Signature not supported`);t=this,n=f[0],r=f[1],a=f[2],o=f[3],s=f[4],c=f[5],l=f[6],u=f[7]}i.default.prototype._copyHelper(this,t,n,r,a,o,s,c,l,u)},i.default.prototype._copyHelper=function(t,n,r,a,o,s,c,l,u,d){var f=n.canvas.width/n.width,p=0,m=0;n._renderer&&n._renderer.isP3D&&(p=n.width/2,m=n.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),i.default.RendererGL.prototype.image.call(t._renderer,n,r+p,a+m,o,s,c,l,u,d),t.pop()):t.drawingContext.drawImage(n.canvas,f*(r+p),f*(a+m),f*o,f*s,c,l,u,d)},i.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},i.default.prototype.filter=function(){var t=[...arguments];i.default._validateParameters(`filter`,t);var n=function(){var t,n={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof i.default.Shader?n.shader=arguments.length<=0?void 0:arguments[0]:(n.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])==`number`&&(n.value=arguments.length<=1?void 0:arguments[1]),!1===((t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t])&&(n.useWebGL=!1)),n}.apply(void 0,t),r=n.shader,o=n.operation,s=n.value,n=n.useWebGL;this._renderer.isP3D&&r?i.default.RendererGL.prototype.filter.call(this._renderer,r):n||this._renderer.isP3D?(!n&&this._renderer.isP3D&&console.warn(`filter() with useWebGL=false is not supported in WEBGL`),this._renderer.isP3D?i.default.RendererGL.prototype.filter.call(this._renderer,o,s):((r=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),r.filter.apply(r,t),this.copy(r._renderer,0,0,this.width,this.height,0,0,this.width,this.height),r.clear())):this.canvas===void 0?a.default.apply(this.elt,a.default[o],s):a.default.apply(this.canvas,a.default[o],s)},i.default.prototype.get=function(t,n,r,a){var o;return i.default._validateParameters(`get`,arguments),(o=this._renderer).get.apply(o,arguments)},i.default.prototype.loadPixels=function(){var t=[...arguments];i.default._validateParameters(`loadPixels`,t),this._renderer.loadPixels()},i.default.prototype.set=function(t,n,r){this._renderer.set(t,n,r)},i.default.prototype.updatePixels=function(t,n,r,a){i.default._validateParameters(`updatePixels`,arguments),this.pixels.length!==0&&this._renderer.updatePixels(t,n,r,a)},t=i.default,r.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.from-entries`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/web.url`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.from-entries`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/web.url`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=c(t(`../core/main`)),o=(t(`whatwg-fetch`),t(`es6-promise/auto`),c(t(`fetch-jsonp`))),s=c(t(`file-saver`));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}function u(t){return t.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#039;`)}function d(t,n){n&&!0!==n&&n!==`true`||(n=``);var r=``;return(t||=`untitled`)&&t.includes(`.`)&&(r=t.split(`.`).pop()),n&&r!==n&&(r=n,t=`${t}.${r}`),[t,r]}t(`../core/friendly_errors/validate_params`),t(`../core/friendly_errors/file_errors`),t(`../core/friendly_errors/fes_core`),a.default.prototype.loadJSON=function(){var t=[...arguments];a.default._validateParameters(`loadJSON`,t);for(var n,r,i,o=t[0],s={},c=`json`,u=1;u<t.length;u++){var d=t[u];typeof d==`string`?d!==`jsonp`&&d!==`json`||(c=d):typeof d==`function`?n?r=d:n=d:l(d)===`object`&&(d.hasOwnProperty(`jsonpCallback`)||d.hasOwnProperty(`jsonpCallbackFunction`))&&(c=`jsonp`,i=d)}var f=this;return this.httpDo(o,`GET`,i,c,function(t){for(var r in t)s[r]=t[r];n!==void 0&&n(t),f._decrementPreload()},function(t){if(a.default._friendlyFileLoadError(5,o),!r)throw t;r(t)}),s},a.default.prototype.loadStrings=function(){var t=[...arguments];a.default._validateParameters(`loadStrings`,t);for(var n,r,i=[],o=1;o<t.length;o++){var s=t[o];typeof s==`function`&&(n===void 0?n=s:r===void 0&&(r=s))}var c=this;return a.default.prototype.httpDo.call(this,t[0],`GET`,`text`,function(t){for(var r=t.replace(/\r\n/g,`\r`).replace(/\n/g,`\r`).split(/\r/),a=0,o=r.length;a<o;a+=32768)Array.prototype.push.apply(i,r.slice(a,Math.min(a+32768,o)));n!==void 0&&n(i),c._decrementPreload()},function(t){if(a.default._friendlyFileLoadError(3,t),!r)throw t;r(t)}),i},a.default.prototype.loadTable=function(t){var n,r,i,o=[],s=!1,c=t.substring(t.lastIndexOf(`.`)+1,t.length);c===`csv`?i=`,`:c===`ssv`?i=`;`:c===`tsv`&&(i=`	`);for(var l=1;l<arguments.length;l++)typeof arguments[l]==`function`?n===void 0?n=arguments[l]:r===void 0&&(r=arguments[l]):typeof arguments[l]==`string`&&(o.push(arguments[l]),arguments[l]===`header`&&(s=!0),arguments[l]===`csv`?i=`,`:arguments[l]===`ssv`?i=`;`:arguments[l]===`tsv`&&(i=`	`));var u=new a.default.Table,d=this;return this.httpDo(t,`GET`,`table`,function(t){for(var r,o,c={},l=0,f=[],p=0,m=null,h=function(){c.currentState=l,c.token=``},g=function(){m.push(c.token),h()},_=function(){c.currentState=4,f.push(m),m=null};;){if((r=t[p++])==null){if(c.escaped)throw Error(`Unclosed quote in file.`);if(m){g(),_();break}}if(m===null&&(c.escaped=!1,m=[],h()),c.currentState===l){if(r===`"`){c.escaped=!0,c.currentState=1;continue}c.currentState=1}if(c.currentState===1&&c.escaped)if(r===`"`)t[p]===`"`?(c.token+=`"`,p++):(c.escaped=!1,c.currentState=2);else{if(r===`\r`)continue;c.token+=r}else r===`\r`?(t[p]===`
`&&p++,g(),_()):r===`
`?(g(),_()):r===i?g():c.currentState===1&&(c.token+=r)}if(s)u.columns=f.shift();else for(var v=0;v<f[0].length;v++)u.columns[v]=`null`;for(var y=0;y<f.length;y++)(f[y].length!==1||f[y][0]!==`undefined`&&f[y][0]!==``)&&((o=new a.default.TableRow).arr=f[y],o.obj=function(t,n){if((n||=[])===void 0)for(var r=0;r<t.length;r++)n[r.toString()]=r;return Object.fromEntries(n.map(function(n,r){return[n,t[r]]}))}(f[y],u.columns),u.addRow(o));typeof n==`function`&&n(u),d._decrementPreload()},function(n){a.default._friendlyFileLoadError(2,t),r?r(n):console.error(n)}),u},a.default.prototype.loadXML=function(){for(var t=[...arguments],n,r,i=new a.default.XML,o=1;o<t.length;o++){var s=t[o];typeof s==`function`&&(n===void 0?n=s:r===void 0&&(r=s))}var c=this;return this.httpDo(t[0],`GET`,`xml`,function(t){for(var r in t)i[r]=t[r];n!==void 0&&n(i),c._decrementPreload()},function(t){if(a.default._friendlyFileLoadError(1,t),!r)throw t;r(t)}),i},a.default.prototype.loadBytes=function(t,n,r){var i={},o=this;return this.httpDo(t,`GET`,`arrayBuffer`,function(t){i.bytes=new Uint8Array(t),typeof n==`function`&&n(i),o._decrementPreload()},function(n){if(a.default._friendlyFileLoadError(6,t),!r)throw n;r(n)}),i},a.default.prototype.httpGet=function(){var t=[...arguments];return a.default._validateParameters(`httpGet`,t),t.splice(1,0,`GET`),a.default.prototype.httpDo.apply(this,t)},a.default.prototype.httpPost=function(){var t=[...arguments];return a.default._validateParameters(`httpPost`,t),t.splice(1,0,`POST`),a.default.prototype.httpDo.apply(this,t)},a.default.prototype.httpDo=function(){for(var t,n,r,i={},s=0,c=`text/plain`,u=arguments.length-1;0<u&&typeof(u<0||arguments.length<=u?void 0:arguments[u])==`function`;u--)s++;var d=arguments.length-s,f=arguments.length<=0?void 0:arguments[0];if(d==2&&typeof f==`string`&&l(arguments.length<=1?void 0:arguments[1])===`object`)v=new Request(f,arguments.length<=1?void 0:arguments[1]),n=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3];else{for(var p,m=`GET`,h=1;h<arguments.length;h++){var g=h<0||arguments.length<=h?void 0:arguments[h];if(typeof g==`string`)g===`GET`||g===`POST`||g===`PUT`||g===`DELETE`?m=g:g===`json`||g===`jsonp`||g===`binary`||g===`arrayBuffer`||g===`xml`||g===`text`||g===`table`?t=g:p=g;else if(typeof g==`number`)p=g.toString();else if(l(g)===`object`)if(g.hasOwnProperty(`jsonpCallback`)||g.hasOwnProperty(`jsonpCallbackFunction`))for(var _ in g)i[_]=g[_];else c=g instanceof a.default.XML?(p=g.serialize(),`application/xml`):(p=JSON.stringify(g),`application/json`);else typeof g==`function`&&(n?r=g:n=g)}var d=m===`GET`?new Headers:new Headers({"Content-Type":c}),v=new Request(f,{method:m,mode:`cors`,body:p,headers:d})}return(d=(d=(t||=f.includes(`json`)?`json`:f.includes(`xml`)?`xml`:`text`)===`jsonp`?(0,o.default)(f,i):fetch(v)).then(function(n){if(!n.ok)throw(r=Error(n.body)).status=n.status,r.ok=!1,r;var r=0;switch((r=t===`jsonp`?r:n.headers.get(`content-length`))&&64e6<r&&a.default._friendlyFileLoadError(7,f),t){case`json`:case`jsonp`:return n.json();case`binary`:return n.blob();case`arrayBuffer`:return n.arrayBuffer();case`xml`:return n.text().then(function(t){return t=new DOMParser().parseFromString(t,`text/xml`),new a.default.XML(t.documentElement)});default:return n.text()}})).then(n||function(){}),d.catch(r||console.error),d},window.URL=window.URL||window.webkitURL,a.default.prototype._pWriters=[],a.default.prototype.createWriter=function(t,n){var r,i;for(i in a.default.prototype._pWriters)if(a.default.prototype._pWriters[i].name===t)return r=new a.default.PrintWriter(t+this.millis(),n),a.default.prototype._pWriters.push(r),r;return r=new a.default.PrintWriter(t,n),a.default.prototype._pWriters.push(r),r},a.default.PrintWriter=function(t,n){var r=this;this.name=t,this.content=``,this.write=function(t){this.content+=t},this.print=function(t){this.content+=`${t}
`},this.clear=function(){this.content=``},this.close=function(){var i,o=[];for(i in o.push(this.content),a.default.prototype.writeFile(o,t,n),a.default.prototype._pWriters)a.default.prototype._pWriters[i].name===this.name&&a.default.prototype._pWriters.splice(i,1);r.clear(),r={}}},a.default.prototype.save=function(t,n,r){var i=arguments,o=(this._curElement||this).elt;if(i.length===0)a.default.prototype.saveCanvas(o);else if(i[0]instanceof a.default.Renderer||i[0]instanceof a.default.Graphics)a.default.prototype.saveCanvas(i[0].elt,i[1],i[2]);else if(i.length===1&&typeof i[0]==`string`)a.default.prototype.saveCanvas(o,i[0]);else switch(d(i[1],i[2])[1]){case`json`:a.default.prototype.saveJSON(i[0],i[1],i[2]);return;case`txt`:a.default.prototype.saveStrings(i[0],i[1],i[2]);return;default:i[0]instanceof Array?a.default.prototype.saveStrings(i[0],i[1],i[2]):i[0]instanceof a.default.Table?a.default.prototype.saveTable(i[0],i[1],i[2]):i[0]instanceof a.default.Image?a.default.prototype.saveCanvas(i[0].canvas,i[1]):i[0]instanceof a.default.SoundFile&&a.default.prototype.saveSound(i[0],i[1],i[2],i[3])}},a.default.prototype.saveJSON=function(t,n,r){a.default._validateParameters(`saveJSON`,arguments),r=r?JSON.stringify(t):JSON.stringify(t,void 0,2),this.saveStrings(r.split(`
`),n,`json`)},a.default.prototype.saveJSONObject=a.default.prototype.saveJSON,a.default.prototype.saveJSONArray=a.default.prototype.saveJSON,a.default.prototype.saveStrings=function(t,n,r,i){a.default._validateParameters(`saveStrings`,arguments);for(var o=this.createWriter(n,r||`txt`),s=0;s<t.length;s++)i?o.write(t[s]+`\r
`):o.write(t[s]+`
`);o.close(),o.clear()},a.default.prototype.saveTable=function(t,n,r){a.default._validateParameters(`saveTable`,arguments),i=r===void 0?n.substring(n.lastIndexOf(`.`)+1,n.length):r;var i,o=this.createWriter(n,i),s=t.columns,c=i===`tsv`?`	`:`,`;if(i!==`html`){if(s[0]!==`0`){for(var l=0;l<s.length;l++)l<s.length-1?o.write(s[l]+c):o.write(s[l]);o.write(`
`)}for(var d=0;d<t.rows.length;d++){for(var f=void 0,f=0;f<t.rows[d].arr.length;f++)f<t.rows[d].arr.length-1?i===`csv`&&String(t.rows[d].arr[f]).includes(`,`)?o.write(`"`+t.rows[d].arr[f]+`"`+c):o.write(t.rows[d].arr[f]+c):i===`csv`&&String(t.rows[d].arr[f]).includes(`,`)?o.write(`"`+t.rows[d].arr[f]+`"`):o.write(t.rows[d].arr[f]);o.write(`
`)}}else{if(o.print(`<html>`),o.print(`<head>`),o.print(`  <meta http-equiv="content-type" content="text/html;charset=utf-8" />`),o.print(`</head>`),o.print(`<body>`),o.print(`  <table>`),s[0]!==`0`){o.print(`    <tr>`);for(var p=0;p<s.length;p++){var m=u(s[p]);o.print(`      <td>${m}`),o.print(`      </td>`)}o.print(`    </tr>`)}for(var h=0;h<t.rows.length;h++){o.print(`    <tr>`);for(var g=0;g<t.columns.length;g++){var _=u(t.rows[h].getString(g));o.print(`      <td>${_}`),o.print(`      </td>`)}o.print(`    </tr>`)}o.print(`  </table>`),o.print(`</body>`),o.print(`</html>`)}o.close(),o.clear()},a.default.prototype.writeFile=function(t,n,r){var i=`application/octet-stream`,t=(a.default.prototype._isSafari()&&(i=`text/plain`),new Blob(t,{type:i}));a.default.prototype.downloadFile(t,n,r)},a.default.prototype.downloadFile=function(t,n,r){var i,n=d(n,r),r=n[0];t instanceof Blob?s.default.saveAs(t,r):((i=document.createElement(`a`)).href=t,i.download=r,i.onclick=function(t){document.body.removeChild(t.target),t.stopPropagation()},i.style.display=`none`,document.body.appendChild(i),a.default.prototype._isSafari()&&(t=(t=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+`3. Name it with this extension: ."${n[1]}"`,alert(t)),i.click())},a.default.prototype._checkFileExtension=d,a.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes(`Constructor`)},t=a.default,r.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,n,r){t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.replace`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i.default.Table=function(){function t(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.columns=[],this.rows=n}var n,r,o;return n=t,(r=[{key:`addRow`,value:function(t){if(t||=new i.default.TableRow,t.arr===void 0||t.obj===void 0)throw Error(`invalid TableRow: ${t}`);return(t.table=this).rows.push(t),t}},{key:`removeRow`,value:function(t){this.rows[t].table=null,t=this.rows.splice(t+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(t)}},{key:`getRow`,value:function(t){return this.rows[t]}},{key:`getRows`,value:function(){return this.rows}},{key:`findRow`,value:function(t,n){if(typeof n==`string`){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[n]===t)return this.rows[r]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[n]===t)return this.rows[i];return null}},{key:`findRows`,value:function(t,n){var r=[];if(typeof n==`string`)for(var i=0;i<this.rows.length;i++)this.rows[i].obj[n]===t&&r.push(this.rows[i]);else for(var a=0;a<this.rows.length;a++)this.rows[a].arr[n]===t&&r.push(this.rows[a]);return r}},{key:`matchRow`,value:function(t,n){if(typeof n==`number`){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[n].match(t))return this.rows[r]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[n].match(t))return this.rows[i];return null}},{key:`matchRows`,value:function(t,n){var r=[];if(typeof n==`number`)for(var i=0;i<this.rows.length;i++)this.rows[i].arr[n].match(t)&&r.push(this.rows[i]);else for(var a=0;a<this.rows.length;a++)this.rows[a].obj[n].match(t)&&r.push(this.rows[a]);return r}},{key:`getColumn`,value:function(t){var n=[];if(typeof t==`string`)for(var r=0;r<this.rows.length;r++)n.push(this.rows[r].obj[t]);else for(var i=0;i<this.rows.length;i++)n.push(this.rows[i].arr[t]);return n}},{key:`clearRows`,value:function(){delete this.rows,this.rows=[]}},{key:`addColumn`,value:function(t){this.columns.push(t||null)}},{key:`getColumnCount`,value:function(){return this.columns.length}},{key:`getRowCount`,value:function(){return this.rows.length}},{key:`removeTokens`,value:function(t,n){for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,`\\$&`));var a=new RegExp(r.join(`|`),`g`);if(n===void 0)for(var o=0;o<this.columns.length;o++)for(var s=0;s<this.rows.length;s++){var c=(c=this.rows[s].arr[o]).replace(a,``);this.rows[s].arr[o]=c,this.rows[s].obj[this.columns[o]]=c}else if(typeof n==`string`)for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].obj[n]).replace(a,``),d=(this.rows[l].obj[n]=u,this.columns.indexOf(n));this.rows[l].arr[d]=u}else for(var f=0;f<this.rows.length;f++){var p=(p=this.rows[f].arr[n]).replace(a,``);this.rows[f].arr[n]=p,this.rows[f].obj[this.columns[n]]=p}}},{key:`trim`,value:function(t){var n=RegExp(` `,`g`);if(t===void 0)for(var r=0;r<this.columns.length;r++)for(var i=0;i<this.rows.length;i++){var a=(a=this.rows[i].arr[r]).replace(n,``);this.rows[i].arr[r]=a,this.rows[i].obj[this.columns[r]]=a}else if(typeof t==`string`)for(var o=0;o<this.rows.length;o++){var s=(s=this.rows[o].obj[t]).replace(n,``),c=(this.rows[o].obj[t]=s,this.columns.indexOf(t));this.rows[o].arr[c]=s}else for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].arr[t]).replace(n,``);this.rows[l].arr[t]=u,this.rows[l].obj[this.columns[t]]=u}}},{key:`removeColumn`,value:function(t){typeof t==`string`?r=this.columns.indexOf(n=t):n=this.columns[r=t];var n,r,t=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(t);for(var i=0;i<this.rows.length;i++){var a=this.rows[i].arr,o=a.splice(r+1,a.length);a.pop(),this.rows[i].arr=a.concat(o),delete this.rows[i].obj[n]}}},{key:`set`,value:function(t,n,r){this.rows[t].set(n,r)}},{key:`setNum`,value:function(t,n,r){this.rows[t].setNum(n,r)}},{key:`setString`,value:function(t,n,r){this.rows[t].setString(n,r)}},{key:`get`,value:function(t,n){return this.rows[t].get(n)}},{key:`getNum`,value:function(t,n){return this.rows[t].getNum(n)}},{key:`getString`,value:function(t,n){return this.rows[t].getString(n)}},{key:`getObject`,value:function(t){for(var n,r={},i=0;i<this.rows.length;i++)if(n=this.rows[i].obj,typeof t==`string`){if(!(0<=this.columns.indexOf(t)))throw Error(`This table has no column named "${t}"`);r[n[t]]=n}else r[i]=this.rows[i].obj;return r}},{key:`getArray`,value:function(){for(var t=[],n=0;n<this.rows.length;n++)t.push(this.rows[n].arr);return t}}])&&a(n.prototype,r),o&&a(n,o),t}(),t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,n,r){t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.from-entries`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.from-entries`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function i(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.default.TableRow=function(){function t(n,r){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);var i=[];n&&(i=n.split(r||=`,`)),this.arr=i,this.obj=Object.fromEntries(i.entries()),this.table=null}var n,r,a;return n=t,(r=[{key:`set`,value:function(t,n){if(typeof t==`string`){var r=this.table.columns.indexOf(t);if(!(0<=r))throw Error(`This table has no column named "${t}"`);this.obj[t]=n,this.arr[r]=n}else{if(!(t<this.table.columns.length))throw Error(`Column #${t} is out of the range of this table`);this.arr[t]=n,r=this.table.columns[t],this.obj[r]=n}}},{key:`setNum`,value:function(t,n){n=parseFloat(n),this.set(t,n)}},{key:`setString`,value:function(t,n){n=n.toString(),this.set(t,n)}},{key:`get`,value:function(t){return(typeof t==`string`?this.obj:this.arr)[t]}},{key:`getNum`,value:function(t){var n=typeof t==`string`?parseFloat(this.obj[t]):parseFloat(this.arr[t]);if(n.toString()===`NaN`)throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return n}},{key:`getString`,value:function(t){return(typeof t==`string`?this.obj:this.arr)[t].toString()}}])&&i(n.prototype,r),a&&i(n,a),t}(),t=t.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){for(var n=[],r=0;r<t.length;r++)n.push(new i.default.XML(t[r]));return n}i.default.XML=function(){function t(n){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);n?this.DOM=n:(n=document.implementation.createDocument(null,`doc`),this.DOM=n.createElement(`root`))}var n,r,s;return n=t,(r=[{key:`getParent`,value:function(){return new i.default.XML(this.DOM.parentElement)}},{key:`getName`,value:function(){return this.DOM.tagName}},{key:`setName`,value:function(t){var n=this.DOM.innerHTML,r=this.DOM.attributes,i=document.implementation.createDocument(null,`default`).createElement(t);i.innerHTML=n;for(var a=0;a<r.length;a++)i.setAttribute(r[a].nodeName,r[a].nodeValue);this.DOM=i}},{key:`hasChildren`,value:function(){return 0<this.DOM.children.length}},{key:`listChildren`,value:function(){for(var t=[],n=0;n<this.DOM.childNodes.length;n++)t.push(this.DOM.childNodes[n].nodeName);return t}},{key:`getChildren`,value:function(t){return o(t?this.DOM.getElementsByTagName(t):this.DOM.children)}},{key:`getChild`,value:function(t){if(typeof t!=`string`)return new i.default.XML(this.DOM.children[t]);var n=!0,r=!1,a=void 0;try{for(var o,s=this.DOM.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;if(c.tagName===t)return new i.default.XML(c)}}catch(t){r=!0,a=t}finally{try{n||s.return==null||s.return()}finally{if(r)throw a}}}},{key:`addChild`,value:function(t){t instanceof i.default.XML&&this.DOM.appendChild(t.DOM)}},{key:`removeChild`,value:function(t){var n=-1;if(typeof t==`string`){for(var r=0;r<this.DOM.children.length;r++)if(this.DOM.children[r].tagName===t){n=r;break}}else n=t;n!==-1&&this.DOM.removeChild(this.DOM.children[n])}},{key:`getAttributeCount`,value:function(){return this.DOM.attributes.length}},{key:`listAttributes`,value:function(){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=this.DOM.attributes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t.push(s.nodeName)}}catch(t){r=!0,i=t}finally{try{n||o.return==null||o.return()}finally{if(r)throw i}}return t}},{key:`hasAttribute`,value:function(t){var n={},r=!0,i=!1,a=void 0;try{for(var o,s=this.DOM.attributes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;n[c.nodeName]=c.nodeValue}}catch(t){i=!0,a=t}finally{try{r||s.return==null||s.return()}finally{if(i)throw a}}return!!n[t]}},{key:`getNum`,value:function(t,n){var r={},i=!0,a=!1,o=void 0;try{for(var s,c=this.DOM.attributes[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;r[l.nodeName]=l.nodeValue}}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return Number(r[t])||n||0}},{key:`getString`,value:function(t,n){var r={},i=!0,a=!1,o=void 0;try{for(var s,c=this.DOM.attributes[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;r[l.nodeName]=l.nodeValue}}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return r[t]?String(r[t]):n||null}},{key:`setAttribute`,value:function(t,n){this.DOM.setAttribute(t,n)}},{key:`getContent`,value:function(t){var n=this.DOM.textContent;return(n=n.replace(/\s\s+/g,`,`))||t||null}},{key:`setContent`,value:function(t){this.DOM.children.length||(this.DOM.textContent=t)}},{key:`serialize`,value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&a(n.prototype,r),s&&a(n,s),t}(),t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.string.includes`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}i.default.prototype.abs=Math.abs,i.default.prototype.ceil=Math.ceil,i.default.prototype.constrain=function(t,n,r){return i.default._validateParameters(`constrain`,arguments),Math.max(Math.min(t,r),n)},i.default.prototype.dist=function(){var t=[...arguments];return i.default._validateParameters(`dist`,t),t.length===4?Math.hypot(t[2]-t[0],t[3]-t[1]):t.length===6?Math.hypot(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0},i.default.prototype.exp=Math.exp,i.default.prototype.floor=Math.floor,i.default.prototype.lerp=function(t,n,r){return i.default._validateParameters(`lerp`,arguments),r*(n-t)+t},i.default.prototype.log=Math.log,i.default.prototype.mag=function(t,n){return i.default._validateParameters(`mag`,arguments),Math.hypot(t,n)},i.default.prototype.map=function(t,n,r,a,o,s){return i.default._validateParameters(`map`,arguments),t=(t-n)/(r-n)*(o-a)+a,s?a<o?this.constrain(t,a,o):this.constrain(t,o,a):t},i.default.prototype.max=function(){for(var t=function(t){return Math.max.apply(Math,a(t))},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return Array.isArray(r[0])?t(r[0]):t(r)},i.default.prototype.min=function(){for(var t=function(t){return Math.min.apply(Math,a(t))},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return Array.isArray(r[0])?t(r[0]):t(r)},i.default.prototype.norm=function(t,n,r){return i.default._validateParameters(`norm`,arguments),this.map(t,n,r,0,1)},i.default.prototype.pow=Math.pow,i.default.prototype.round=function(t,n){return n?(n=10**n,Math.round(t*n)/n):Math.round(t)},i.default.prototype.sq=function(t){return t*t},i.default.prototype.sqrt=Math.sqrt,i.default.prototype.fract=function(t){i.default._validateParameters(`fract`,arguments);var n,r=0,t=Number(t);return isNaN(t)||Math.abs(t)===1/0?t:(t<0&&(t=-t,r=1),String(t).includes(`.`)&&!String(t).includes(`e`)?(n=String(t),n=Number(`0`+n.slice(n.indexOf(`.`))),Math.abs(r-n)):t<1?Math.abs(r-t):0)},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,n,r){t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.slice`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n,r){return(a=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(t,n,r){var i=[null];return i.push.apply(i,n),n=new(Function.bind.apply(t,i)),r&&o(n,r.prototype),n}).apply(null,arguments)}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}i.default.prototype.createVector=function(t,n,r){return this instanceof i.default?a(i.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new i.default.Vector(t,n,r)},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function i(t){return .5*(1-Math.cos(t*Math.PI))}var a,o=4095,s=4,c=.5,t=(t.default.prototype.noise=function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(a==null){a=Array(4096);for(var l=0;l<4096;l++)a[l]=Math.random()}t<0&&(t=-t),n<0&&(n=-n),r<0&&(r=-r);for(var u,d,f=Math.floor(t),p=Math.floor(n),m=Math.floor(r),h=t-f,g=n-p,_=r-m,v=0,y=.5,b=0;b<s;b++){var x=f+(p<<4)+(m<<8),S=i(h),C=i(g),w=a[x&o];w+=S*(a[x+1&o]-w),u=a[x+16&o],w+=C*((u+=S*(a[x+16+1&o]-u))-w),u=a[(x+=256)&o],u+=S*(a[x+1&o]-u),d=a[x+16&o],u+=C*((d+=S*(a[x+16+1&o]-d))-u),v+=(w+=i(_)*(u-w))*y,y*=c,f<<=1,p<<=1,m<<=1,1<=(h*=2)&&(f++,h--),1<=(g*=2)&&(p++,g--),1<=(_*=2)&&(m++,_--)}return v},t.default.prototype.noiseDetail=function(t,n){0<t&&(s=t),0<n&&(c=n)},t.default.prototype.noiseSeed=function(t){i=4294967296;var n,r,i,o={setSeed:function(t){r=n=(t??Math.random()*i)>>>0},getSeed:function(){return n},rand:function(){return(r=(1664525*r+1013904223)%i)/i}};o.setSeed(t),a=Array(4096);for(var s=0;s<4096;s++)a[s]=o.rand()},t.default);r.default=t},{"../core/main":283}],316:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.math.sign`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.number.epsilon`),t(`core-js/modules/es.number.is-finite`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.sub`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.math.sign`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.number.epsilon`),t(`core-js/modules/es.number.is-finite`),t(`core-js/modules/es.string.sub`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(u=t(`../core/main`))&&u.__esModule?u:{default:u},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}o.default.Vector=function(){function t(){var n=this;if(!(n instanceof t))throw TypeError(`Cannot call a class as a function`);var r,i,n=typeof(arguments.length<=0?void 0:arguments[0])==`function`?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],r=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(r=(arguments.length<=0?void 0:arguments[0])||0,i=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=r,this.y=i,this.z=n}var n,r,i;return n=t,i=[{key:`fromAngle`,value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new o.default.Vector(n*Math.cos(t),n*Math.sin(t),0)}},{key:`fromAngles`,value:function(t,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,i=Math.cos(n),n=Math.sin(n),a=Math.cos(t),t=Math.sin(t);return new o.default.Vector(r*t*n,-r*a,r*t*i)}},{key:`random2D`,value:function(){return this.fromAngle(Math.random()*s.TWO_PI)}},{key:`random3D`,value:function(){var t=Math.random()*s.TWO_PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n),i=r*Math.cos(t),r=r*Math.sin(t);return new o.default.Vector(i,r,n)}},{key:`copy`,value:function(t){return t.copy(t)}},{key:`add`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return i?i.set(n):(i=n.copy(),t.length===3&&o.default._friendlyError(`The target parameter is undefined, it should be of type p5.Vector`,`p5.Vector.add`)),i.add(r),i}},{key:`rem`,value:function(t,n){if(t instanceof o.default.Vector&&n instanceof o.default.Vector)return(t=t.copy()).rem(n),t}},{key:`sub`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return i?i.set(n):(i=n.copy(),t.length===3&&o.default._friendlyError(`The target parameter is undefined, it should be of type p5.Vector`,`p5.Vector.sub`)),i.sub(r),i}},{key:`mult`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return i?i.set(n):(i=n.copy(),t.length===3&&o.default._friendlyError(`The target parameter is undefined, it should be of type p5.Vector`,`p5.Vector.mult`)),i.mult(r),i}},{key:`rotate`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return t.length===2?i=n.copy():(i instanceof o.default.Vector||o.default._friendlyError(`The target parameter should be of type p5.Vector`,`p5.Vector.rotate`),i.set(n)),i.rotate(r),i}},{key:`div`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return i?i.set(n):(i=n.copy(),t.length===3&&o.default._friendlyError(`The target parameter is undefined, it should be of type p5.Vector`,`p5.Vector.div`)),i.div(r),i}},{key:`dot`,value:function(t,n){return t.dot(n)}},{key:`cross`,value:function(t,n){return t.cross(n)}},{key:`dist`,value:function(t,n){return t.dist(n)}},{key:`lerp`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2],a=t[3];return a?a.set(n):(a=n.copy(),t.length===4&&o.default._friendlyError(`The target parameter is undefined, it should be of type p5.Vector`,`p5.Vector.lerp`)),a.lerp(r,i),a}},{key:`slerp`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2],a=t[3];return a?a.set(n):(a=n.copy(),t.length===4&&o.default._friendlyError(`The target parameter is undefined, it should be of type p5.Vector`,`p5.Vector.slerp`)),a.slerp(r,i),a}},{key:`mag`,value:function(t){return t.mag()}},{key:`magSq`,value:function(t){return t.magSq()}},{key:`normalize`,value:function(){var t=[...arguments],n=t[0],r=t[1];return t.length<2?r=n.copy():(r instanceof o.default.Vector||o.default._friendlyError(`The target parameter should be of type p5.Vector`,`p5.Vector.normalize`),r.set(n)),r.normalize()}},{key:`limit`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return t.length<3?i=n.copy():(i instanceof o.default.Vector||o.default._friendlyError(`The target parameter should be of type p5.Vector`,`p5.Vector.limit`),i.set(n)),i.limit(r)}},{key:`setMag`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return t.length<3?i=n.copy():(i instanceof o.default.Vector||o.default._friendlyError(`The target parameter should be of type p5.Vector`,`p5.Vector.setMag`),i.set(n)),i.setMag(r)}},{key:`heading`,value:function(t){return t.heading()}},{key:`angleBetween`,value:function(t,n){return t.angleBetween(n)}},{key:`reflect`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];return t.length<3?i=n.copy():(i instanceof o.default.Vector||o.default._friendlyError(`The target parameter should be of type p5.Vector`,`p5.Vector.reflect`),i.set(n)),i.reflect(r)}},{key:`array`,value:function(t){return t.array()}},{key:`equals`,value:function(t,n){var r;return t instanceof o.default.Vector?r=t:Array.isArray(t)?r=new o.default.Vector().set(t):o.default._friendlyError(`The v1 parameter should be of type Array or p5.Vector`,`p5.Vector.equals`),r.equals(n)}}],(r=[{key:`toString`,value:function(){return`p5.Vector Object : [${this.x}, ${this.y}, ${this.z}]`}},{key:`set`,value:function(t,n,r){return t instanceof o.default.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):Array.isArray(t)?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0):(this.x=t||0,this.y=n||0,this.z=r||0),this}},{key:`copy`,value:function(){return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new o.default.Vector(this.x,this.y,this.z)}},{key:`add`,value:function(t,n,r){return t instanceof o.default.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0):Array.isArray(t)?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0):(this.x+=t||0,this.y+=n||0,this.z+=r||0),this}},{key:`calculateRemainder2D`,value:function(t,n){return t!==0&&(this.x%=t),n!==0&&(this.y%=n),this}},{key:`calculateRemainder3D`,value:function(t,n,r){return t!==0&&(this.x%=t),n!==0&&(this.y%=n),r!==0&&(this.z%=r),this}},{key:`rem`,value:function(){var t=[...arguments],n,r,i,a=t[0],s=t[1],c=t[2];if(a instanceof o.default.Vector){if([a.x,a.y,a.z].every(Number.isFinite))return n=parseFloat(a.x),r=parseFloat(a.y),i=parseFloat(a.z),this.calculateRemainder3D(n,r,i)}else if(Array.isArray(a)){if(a.every(Number.isFinite))return a.length===2?this.calculateRemainder2D(a[0],a[1]):a.length===3?this.calculateRemainder3D(a[0],a[1],a[2]):void 0}else if(t.length===1){if(Number.isFinite(a)&&a!==0)return this.x%=a,this.y%=a,this.z%=a,this}else if(t.length===2){if(t.every(Number.isFinite))return this.calculateRemainder2D(a,s)}else if(t.length===3&&t.every(Number.isFinite))return this.calculateRemainder3D(a,s,c)}},{key:`sub`,value:function(t,n,r){return t instanceof o.default.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0):Array.isArray(t)?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0):(this.x-=t||0,this.y-=n||0,this.z-=r||0),this}},{key:`mult`,value:function(){var t=[...arguments],n,r=t[0],i=t[1],a=t[2];return r instanceof o.default.Vector?Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z)&&typeof r.x==`number`&&typeof r.y==`number`&&typeof r.z==`number`?(this.x*=r.x,this.y*=r.y,this.z*=r.z):console.warn(`p5.Vector.prototype.mult:`,`x contains components that are either undefined or not finite numbers`):Array.isArray(r)?r.every(function(t){return Number.isFinite(t)})&&r.every(function(t){return typeof t==`number`})?r.length===1?(this.x*=r[0],this.y*=r[0],this.z*=r[0]):r.length===2?(this.x*=r[0],this.y*=r[1]):r.length===3&&(this.x*=r[0],this.y*=r[1],this.z*=r[2]):console.warn(`p5.Vector.prototype.mult:`,`x contains elements that are either undefined or not finite numbers`):(n=t).every(function(t){return Number.isFinite(t)})&&n.every(function(t){return typeof t==`number`})?(t.length===1&&(this.x*=r,this.y*=r,this.z*=r),t.length===2&&(this.x*=r,this.y*=i),t.length===3&&(this.x*=r,this.y*=i,this.z*=a)):console.warn(`p5.Vector.prototype.mult:`,`x, y, or z arguments are either undefined or not a finite number`),this}},{key:`div`,value:function(){var t=[...arguments],n=t[0],r=t[1],i=t[2];if(n instanceof o.default.Vector)if(Number.isFinite(n.x)&&Number.isFinite(n.y)&&Number.isFinite(n.z)&&typeof n.x==`number`&&typeof n.y==`number`&&typeof n.z==`number`){var a=n.z===0&&this.z===0;if(n.x===0||n.y===0||!a&&n.z===0)return console.warn(`p5.Vector.prototype.div:`,`divide by 0`),this;this.x/=n.x,this.y/=n.y,a||(this.z/=n.z)}else console.warn(`p5.Vector.prototype.div:`,`x contains components that are either undefined or not finite numbers`);else if(Array.isArray(n))if(n.every(Number.isFinite)&&n.every(function(t){return typeof t==`number`})){if(n.some(function(t){return t===0}))return console.warn(`p5.Vector.prototype.div:`,`divide by 0`),this;n.length===1?(this.x/=n[0],this.y/=n[0],this.z/=n[0]):n.length===2?(this.x/=n[0],this.y/=n[1]):n.length===3&&(this.x/=n[0],this.y/=n[1],this.z/=n[2])}else console.warn(`p5.Vector.prototype.div:`,`x contains components that are either undefined or not finite numbers`);else if(t.every(Number.isFinite)&&t.every(function(t){return typeof t==`number`})){if(t.some(function(t){return t===0}))return console.warn(`p5.Vector.prototype.div:`,`divide by 0`),this;t.length===1&&(this.x/=n,this.y/=n,this.z/=n),t.length===2&&(this.x/=n,this.y/=r),t.length===3&&(this.x/=n,this.y/=r,this.z/=i)}else console.warn(`p5.Vector.prototype.div:`,`x, y, or z arguments are either undefined or not a finite number`);return this}},{key:`mag`,value:function(){return Math.sqrt(this.magSq())}},{key:`magSq`,value:function(){var t=this.x,n=this.y,r=this.z;return t*t+n*n+r*r}},{key:`dot`,value:function(t,n,r){return t instanceof o.default.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(n||0)+this.z*(r||0)}},{key:`cross`,value:function(t){var n=this.y*t.z-this.z*t.y,r=this.z*t.x-this.x*t.z,t=this.x*t.y-this.y*t.x;return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,n,r,t):new o.default.Vector(n,r,t)}},{key:`dist`,value:function(t){return t.copy().sub(this).mag()}},{key:`normalize`,value:function(){var t=this.mag();return t!==0&&this.mult(1/t),this}},{key:`limit`,value:function(t){var n=this.magSq();return t*t<n&&this.div(Math.sqrt(n)).mult(t),this}},{key:`setMag`,value:function(t){return this.normalize().mult(t)}},{key:`heading`,value:function(){var t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}},{key:`setHeading`,value:function(t){this.isPInst&&(t=this._toRadians(t));var n=this.mag();return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this}},{key:`rotate`,value:function(t){var t=this.heading()+t,n=(this.isPInst&&(t=this._toRadians(t)),this.mag());return this.x=Math.cos(t)*n,this.y=Math.sin(t)*n,this}},{key:`angleBetween`,value:function(t){var n;return this.magSq()*t.magSq()==0?NaN:(n=this.cross(t),t=Math.atan2(n.mag(),this.dot(t))*Math.sign(n.z||1),this.isPInst?this._fromRadians(t):t)}},{key:`lerp`,value:function(t,n,r,i){return t instanceof o.default.Vector?this.lerp(t.x,t.y,t.z,n):(this.x+=(t-this.x)*i||0,this.y+=(n-this.y)*i||0,this.z+=(r-this.z)*i||0,this)}},{key:`slerp`,value:function(t,n){if(n!==0){if(n===1)return this.set(t);var r=this.mag(),i=t.mag();if(r*i==0)this.mult(1-n).add(t.x*n,t.y*n,t.z*n);else{var a=this.cross(t),o=a.mag(),s=Math.atan2(o,this.dot(t));if(0<o)a.x/=o,a.y/=o,a.z/=o;else{if(s<.5*Math.PI)return this.mult(1-n).add(t.x*n,t.y*n,t.z*n),this;this.z===0&&t.z===0?a.set(0,0,1):this.x===0?a.set(1,0,0):a.set(this.y,-this.x,0).normalize()}o=a.cross(this),t=1-n+n*i/r,a=t*Math.cos(n*s),i=t*Math.sin(n*s),this.x=this.x*a+o.x*i,this.y=this.y*a+o.y*i,this.z=this.z*a+o.z*i}}return this}},{key:`reflect`,value:function(t){return t=o.default.Vector.normalize(t),this.sub(t.mult(2*this.dot(t)))}},{key:`array`,value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:`equals`,value:function(t,n,r){var i,a,t=t instanceof o.default.Vector?(i=t.x||0,a=t.y||0,t.z||0):Array.isArray(t)?(i=t[0]||0,a=t[1]||0,t[2]||0):(i=t||0,a=n||0,r||0);return this.x===i&&this.y===a&&this.z===t}},{key:`clampToZero`,value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:`_clampToZero`,value:function(t){return Math.abs(+(t||0))<=2**-52?0:t}}])&&l(n.prototype,r),i&&l(n,i),t}();var u=o.default.Vector;r.default=u},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t},a=`_lcg_random_state`,o=4294967296,s=0,t=(i.default.prototype._lcg=function(t){return this[t]=(1664525*this[t]+1013904223)%o,this[t]/o},i.default.prototype._lcgSetSeed=function(t,n){this[t]=(n??Math.random()*o)>>>0},i.default.prototype.randomSeed=function(t){this._lcgSetSeed(a,t),this._gaussian_previous=!1},i.default.prototype.random=function(t,n){var r,o;return i.default._validateParameters(`random`,arguments),r=this[a]==null?Math.random():this._lcg(a),t===void 0?r:n===void 0?Array.isArray(t)?t[Math.floor(r*t.length)]:r*t:(n<t&&(o=t,t=n,n=o),r*(n-t)+t)},i.default.prototype.randomGaussian=function(t){var n,r,i,a,o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=s,this._gaussian_previous=!1;else{for(;1<=(a=(r=this.random(2)-1)*r+(i=this.random(2)-1)*i););n=r*(a=Math.sqrt(-2*Math.log(a)/a)),s=i*a,this._gaussian_previous=!0}return n*o+(t||0)},i.default);r.default=t},{"../core/main":283}],318:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(l=t(`../core/main`))&&l.__esModule?l:{default:l},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}o.default.prototype._angleMode=s.RADIANS,o.default.prototype.acos=function(t){return this._fromRadians(Math.acos(t))},o.default.prototype.asin=function(t){return this._fromRadians(Math.asin(t))},o.default.prototype.atan=function(t){return this._fromRadians(Math.atan(t))},o.default.prototype.atan2=function(t,n){return this._fromRadians(Math.atan2(t,n))},o.default.prototype.cos=function(t){return Math.cos(this._toRadians(t))},o.default.prototype.sin=function(t){return Math.sin(this._toRadians(t))},o.default.prototype.tan=function(t){return Math.tan(this._toRadians(t))},o.default.prototype.degrees=function(t){return t*s.RAD_TO_DEG},o.default.prototype.radians=function(t){return t*s.DEG_TO_RAD},o.default.prototype.angleMode=function(t){if(o.default._validateParameters(`angleMode`,arguments),t===void 0)return this._angleMode;t!==s.DEGREES&&t!==s.RADIANS||t!==this._angleMode&&(t===s.RADIANS?(this._setProperty(`pRotationX`,this.pRotationX*s.DEG_TO_RAD),this._setProperty(`pRotationY`,this.pRotationY*s.DEG_TO_RAD),this._setProperty(`pRotationZ`,this.pRotationZ*s.DEG_TO_RAD)):(this._setProperty(`pRotationX`,this.pRotationX*s.RAD_TO_DEG),this._setProperty(`pRotationY`,this.pRotationY*s.RAD_TO_DEG),this._setProperty(`pRotationZ`,this.pRotationZ*s.RAD_TO_DEG)),this._angleMode=t)},o.default.prototype._toRadians=function(t){return this._angleMode===s.DEGREES?t*s.DEG_TO_RAD:t},o.default.prototype._toDegrees=function(t){return this._angleMode===s.RADIANS?t*s.RAD_TO_DEG:t},o.default.prototype._fromRadians=function(t){return this._angleMode===s.DEGREES?t*s.RAD_TO_DEG:t},o.default.prototype._fromDegrees=function(t){return this._angleMode===s.RADIANS?t*s.DEG_TO_RAD:t};var l=o.default;r.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,n,r){t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};i.default.prototype.textAlign=function(t,n){var r;return i.default._validateParameters(`textAlign`,arguments),(r=this._renderer).textAlign.apply(r,arguments)},i.default.prototype.textLeading=function(t){var n;return i.default._validateParameters(`textLeading`,arguments),(n=this._renderer).textLeading.apply(n,arguments)},i.default.prototype.textSize=function(t){var n;return i.default._validateParameters(`textSize`,arguments),(n=this._renderer).textSize.apply(n,arguments)},i.default.prototype.textStyle=function(t){var n;return i.default._validateParameters(`textStyle`,arguments),(n=this._renderer).textStyle.apply(n,arguments)},i.default.prototype.textWidth=function(){var t=[...arguments];if(t[0]+=``,i.default._validateParameters(`textWidth`,t),t[0].length===0)return 0;for(var n=t[0].replace(/\t/g,`  `).split(/\r?\n|\r|\n/g),r=[],a=0;a<n.length;a++)r.push(this._renderer.textWidth(n[a]));return Math.max.apply(Math,r)},i.default.prototype.textAscent=function(){var t=[...arguments];return i.default._validateParameters(`textAscent`,t),this._renderer.textAscent()},i.default.prototype.textDescent=function(){var t=[...arguments];return i.default._validateParameters(`textDescent`,t),this._renderer.textDescent()},i.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},i.default.prototype.textWrap=function(t){return i.default._validateParameters(`textWrap`,[t]),this._renderer.textWrap(t)},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.split`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(d=t(`../core/main`))&&d.__esModule?d:{default:d},s=u(t(`../core/constants`)),c=u(t(`opentype.js`));function l(){var t;return typeof WeakMap==`function`?(t=new WeakMap,l=function(){return t},t):null}function u(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=l();if(n&&n.has(t))return n.get(t);var r,i,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&((i=s?Object.getOwnPropertyDescriptor(t,r):null)&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=t[r]);return o.default=t,n&&n.set(t,o),o}t(`../core/friendly_errors/validate_params`),t(`../core/friendly_errors/file_errors`),t(`../core/friendly_errors/fes_core`),o.default.prototype.loadFont=function(t,n,r){o.default._validateParameters(`loadFont`,arguments);var i=new o.default.Font(this),a=this;return c.load(t,function(s,c){if(s)return o.default._friendlyFileLoadError(4,t),r===void 0?void console.error(s,t):r(s);i.font=c,n!==void 0&&n(i),a._decrementPreload();var s=t.split(`\\`).pop().split(`/`).pop(),c=s.lastIndexOf(`.`),l=c<1?null:s.slice(c+1);[`ttf`,`otf`,`woff`,`woff2`].includes(l)&&(l=s.slice(0,c===-1?0:c),(s=document.createElement(`style`)).appendChild(document.createTextNode(`
@font-face {
font-family: ${l};
src: url(${t});
}
`)),document.head.appendChild(s))}),i},o.default.prototype.text=function(t,n,r,i,a){var s;return o.default._validateParameters(`text`,arguments),this._renderer._doFill||this._renderer._doStroke?(s=this._renderer).text.apply(s,arguments):this},o.default.prototype.textFont=function(t,n){if(o.default._validateParameters(`textFont`,arguments),arguments.length){if(t)return this._renderer._setProperty(`_textFont`,t),n&&(this._renderer._setProperty(`_textSize`,n),this._renderer._leadingSet||this._renderer._setProperty(`_textLeading`,n*s._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw Error(`null font passed to textFont`)}return this._renderer._textFont};var d=o.default;r.default=d},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=(a=t(`../core/main`))&&a.__esModule?a:{default:a},o=function(t){if(t&&t.__esModule)return t;if(t===null||c(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=a?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}function c(t){return(c=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}function l(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,n){var r=t.length;return t[n<0?n%r+r:n%r]}function d(t,n,r,i){var a,o,s;return i?(d.tmpPoint1===void 0&&(d.tmpPoint1=[],d.tmpPoint2=[]),o=d.tmpPoint1,s=d.tmpPoint2,o.x=n.x-t.x,o.y=n.y-t.y,s.x=r.x-n.x,s.y=r.y-n.y,a=o.x*s.x+o.y*s.y,o=Math.sqrt(o.x*o.x+o.y*o.y),s=Math.sqrt(s.x*s.x+s.y*s.y),Math.acos(a/(o*s))<i):(n[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(n[1]-t[1])==0}function f(t,n,r,i,a,o,s,c,l){var u=1-l,d=u**3,f=u**2,p=l*l,m=p*l,h=d*t+3*f*l*r+3*u*l*l*a+m*s,d=d*n+3*f*l*i+3*u*l*l*o+m*c,f=t+2*l*(r-t)+p*(a-2*r+t),m=n+2*l*(i-n)+p*(o-2*i+n),g=r+2*l*(a-r)+p*(s-2*a+r),p=i+2*l*(o-i)+p*(c-2*o+i),t=u*t+l*r,r=u*n+l*i,n=u*a+l*s,i=u*o+l*c,a=90-180*Math.atan2(f-g,m-p)/Math.PI;return(g<f||m<p)&&(a+=180),{x:h,y:d,m:{x:f,y:m},n:{x:g,y:p},start:{x:t,y:r},end:{x:n,y:i},alpha:a}}function p(t,n,r,i,a,o,s,c,l){return l==null?b(t,n,r,i,a,o,s,c):f(t,n,r,i,a,o,s,c,function(t,n,r,i,a,o,s,c,l){if(!(l<0||b(t,n,r,i,a,o,s,c)<l)){var u,d=.5,f=1-d;for(u=b(t,n,r,i,a,o,s,c,f);.01<Math.abs(u-l);)u=b(t,n,r,i,a,o,s,c,f+=(u<l?1:-1)*(d/=2));return f}}(t,n,r,i,a,o,s,c,l))}function m(t,n,r){for(var i,a,o,s,c,l=0,u=0,d=(t=function(t,n){function r(t,n,r){var i,a;if(!t)return[`C`,n.x,n.y,n.x,n.y,n.x,n.y];switch(t[0]in{T:1,Q:1}||(n.qx=n.qy=null),t[0]){case`M`:n.X=t[1],n.Y=t[2];break;case`A`:t=[`C`].concat(g.apply(0,[n.x,n.y].concat(t.slice(1))));break;case`S`:a=r===`C`||r===`S`?(i=2*n.x-n.bx,2*n.y-n.by):(i=n.x,n.y),t=[`C`,i,a].concat(t.slice(1));break;case`T`:r===`Q`||r===`T`?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),t=[`C`].concat(y(n.x,n.y,n.qx,n.qy,t[1],t[2]));break;case`Q`:n.qx=t[1],n.qy=t[2],t=[`C`].concat(y(n.x,n.y,t[1],t[2],t[3],t[4]));break;case`L`:t=[`C`].concat(v(n.x,n.y,t[1],t[2]));break;case`H`:t=[`C`].concat(v(n.x,n.y,t[1],n.y));break;case`V`:t=[`C`].concat(v(n.x,n.y,n.x,t[1]));break;case`Z`:t=[`C`].concat(v(n.x,n.y,n.X,n.Y))}return t}function i(t,n){if(7<t[n].length){t[n].shift();for(var r=t[n];r.length;)d[n]=`A`,c&&(f[n]=`A`),t.splice(n++,0,[`C`].concat(r.splice(0,6)));t.splice(n,1),o=Math.max(s.length,c&&c.length||0)}}function a(t,n,r,i,a){t&&n&&t[a][0]===`M`&&n[a][0]!==`M`&&(n.splice(a,0,[`M`,i.x,i.y]),r.bx=0,r.by=0,r.x=t[a][1],r.y=t[a][2],o=Math.max(s.length,c&&c.length||0))}var o,s=h(t),c=n&&h(n),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d=[],f=[],p=``,m=``;o=Math.max(s.length,c&&c.length||0);for(var _=0;_<o;_++){(p=s[_]?s[_][0]:p)!==`C`&&(d[_]=p,_&&(m=d[_-1])),s[_]=r(s[_],l,m),d[_]!==`A`&&p===`C`&&(d[_]=`C`),i(s,_),c&&((p=c[_]?c[_][0]:p)!==`C`&&(f[_]=p,_&&(m=f[_-1])),c[_]=r(c[_],u,m),f[_]!==`A`&&p===`C`&&(f[_]=`C`),i(c,_)),a(s,c,l,u,_),a(c,s,u,l,_);var b=s[_],x=c&&c[_],S=b.length,C=c&&x.length;l.x=b[S-2],l.y=b[S-1],l.bx=parseFloat(b[S-4])||l.x,l.by=parseFloat(b[S-3])||l.y,u.bx=c&&(parseFloat(x[C-4])||u.x),u.by=c&&(parseFloat(x[C-3])||u.y),u.x=c&&x[C-2],u.y=c&&x[C-1]}return c?[s,c]:s}(t)).length;u<d;u++){if((o=t[u])[0]===`M`)i=+o[1],a=+o[2];else{if(n<l+(s=p(i,a,o[1],o[2],o[3],o[4],o[5],o[6]))&&!r)return{x:(c=p(i,a,o[1],o[2],o[3],o[4],o[5],o[6],n-l)).x,y:c.y,alpha:c.alpha};l+=s,i=+o[5],a=+o[6]}o.shift()}return c=(c=r?l:f(i,a,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha?{x:c.x,y:c.y,alpha:c.alpha}:c}function h(t){var n=[],r=0,i=0,a=0,o=0,s=0;if(t){t[0][0]===`M`&&(a=r=+t[0][1],o=i=+t[0][2],s++,n[0]=[`M`,r,i]);for(var c,l,u=t.length===3&&t[0][0]===`M`&&t[1][0].toUpperCase()===`R`&&t[2][0].toUpperCase()===`Z`,d=s,f=t.length;d<f;d++){if(n.push(c=[]),(l=t[d])[0]!==l[0].toUpperCase())switch(c[0]=l[0].toUpperCase(),c[0]){case`A`:c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+(l[6]+r),c[7]=+(l[7]+i);break;case`V`:c[1]=+l[1]+i;break;case`H`:c[1]=+l[1]+r;break;case`R`:for(var p,m=2,h=(p=[r,i].concat(l.slice(1))).length;m<h;m++)p[m]=+p[m]+r,p[++m]=+p[m]+i;n.pop(),n=n.concat(_(p,u));break;case`M`:a=+l[1]+r,o=+l[2]+i;break;default:for(var g=1,v=l.length;g<v;g++)c[g]=+l[g]+(g%2?r:i)}else if(l[0]===`R`)p=[r,i].concat(l.slice(1)),n.pop(),n=n.concat(_(p,u)),c=[`R`].concat(l.slice(-2));else for(var y=0,b=l.length;y<b;y++)c[y]=l[y];switch(c[0]){case`Z`:r=a,i=o;break;case`H`:r=c[1];break;case`V`:i=c[1];break;case`M`:a=c[c.length-2],o=c[c.length-1];break;default:r=c[c.length-2],i=c[c.length-1]}}}return n}function g(t,n,r,i,a,o,s,c,l,u){function d(t,n,r){return{x:t*Math.cos(r)-n*Math.sin(r),y:t*Math.sin(r)+n*Math.cos(r)}}var f,p=Math.PI,m=120*p/180,h=p/180*(+a||0),_=[],v=(u?(w=u[0],f=u[1],S=u[2],C=u[3]):(t=(b=d(t,n,-h)).x,n=b.y,1<(v=(y=(t-(c=(b=d(c,l,-h)).x))/2)*y/(r*r)+(b=(n-(l=b.y))/2)*b/(i*i))&&(r*=v=Math.sqrt(v),i*=v),v=r*r,x=i*i,S=(o=(o===s?-1:1)*Math.sqrt(Math.abs((v*x-v*b*b-x*y*y)/(v*b*b+x*y*y))))*r*b/i+(t+c)/2,C=o*-i*y/r+(n+l)/2,w=Math.asin(((n-C)/i).toFixed(9)),f=Math.asin(((l-C)/i).toFixed(9)),(w=t<S?p-w:w)<0&&(w=2*p+w),(f=c<S?p-f:f)<0&&(f=2*p+f),s&&f<w&&(w-=2*p),!s&&w<f&&(f-=2*p)),f-w),y=(Math.abs(v)>m&&(x=f,b=c,o=l,f=w+m*(s&&w<f?1:-1),_=g(c=S+r*Math.cos(f),l=C+i*Math.sin(f),r,i,a,0,s,b,o,[f,x,S,C])),v=f-w,Math.cos(w)),p=Math.sin(w),m=Math.cos(f),a=Math.sin(f),s=Math.tan(v/4),b=4/3*r*s,o=4/3*i*s,x=[t,n],S=[t+b*p,n-o*y],C=[c+b*a,l-o*m],w=[c,l];if(S[0]=2*x[0]-S[0],S[1]=2*x[1]-S[1],u)return[S,C,w].concat(_);for(var T=[],E=0,D=(_=[S,C,w].concat(_).join().split(`,`)).length;E<D;E++)T[E]=E%2?d(_[E-1],_[E],h).y:d(_[E],_[E+1],h).x;return T}function _(t,n){for(var r=[],i=0,a=t.length;i<a-2*!n;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];n?i?a-4===i?o[3]={x:+t[0],y:+t[1]}:a-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[a-2],y:+t[a-1]}:a-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),r.push([`C`,(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}function v(t,n,r,i){return[t,n,r,i,r,i]}function y(t,n,r,i,a,o){return[1/3*t+2/3*r,1/3*n+2/3*i,1/3*a+2/3*r,1/3*o+2/3*i,a,o]}function b(t,n,r,i,a,o,s,c,l){for(var u=(l=1<(l??=1)?1:l<0?0:l)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=0,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0;m<12;m++){var h=u*d[m]+u,g=x(h,t,r,a,s),h=x(h,n,i,o,c);f+=p[m]*Math.sqrt(g*g+h*h)}return u*f}function x(t,n,r,i,a){return t*(t*(-3*n+9*r-9*i+3*a)+6*n-12*r+6*i)-3*n+3*r}a.default.Font=function(){function t(n){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.parent=n,this.cache={},this.font=void 0}var n,r,i;return n=t,(r=[{key:`textBounds`,value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,i=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,s=a&&a.renderer&&a.renderer._pInst||this.parent,c=s._renderer.drawingContext,i=(c.textAlign||o.LEFT,c.textBaseline||o.BASELINE,i||s._renderer._textSize);if(!y){for(var l=[],u=[],d=[],f=(d[0]=[],[]),p=this._scale(i),m=s._renderer.textLeading(),h=0,g=(this.font.forEachGlyph(t,n,r,i,a,function(t,n,r,i){var a=t.getMetrics();t.index===0?d[h+=1]=[]:(d[h].push(n+a.xMin*p),d[h].push(n+a.xMax*p),f.push(r+h*m+-a.yMin*p),f.push(r+h*m+-a.yMax*p))}),0<d[h].length&&(l[h]=Math.min.apply(null,d[h]),u[h]=Math.max.apply(null,d[h])),0),_=0;_<=h;_++){l[_]=Math.min.apply(null,d[_]),u[_]=Math.max.apply(null,d[_]);var v=u[_]-l[_];g<v&&(g=v)}var c=Math.min.apply(null,l),y={x:c,y:r=Math.min.apply(null,f),h:Math.max.apply(null,f)-r,w:g,advance:c-n},i=this._handleAlignment(s._renderer,t,y.x,y.y,y.w+y.advance);y.x=i.x,y.y=i.y}return y}},{key:`textToPoints`,value:function(t,n,r,i,a){var o,s=n,l=[],f=this.parent,p=t.split(/\r?\n|\r|\n/g);i||=this.parent._renderer._textSize;for(var h,g,_,v=0;v<p.length;v++){var y=0;n=s;for(var b=(b=p[v]).replace(`	`,`  `),x=this._getGlyphs(b),S=0;S<x.length;S++){if(g=b,!((_=x)[h=S].name&&_[h].name===`space`||g.length===_.length&&g[h]===` `))for(var C=function(t){for(var n,r=[],i=0;i<t.length;i++)t[i].type===`M`&&(n&&r.push(n),n=[]),n.push(function(t){var n=[t.type];return t.type===`M`||t.type===`L`?n.push(t.x,t.y):t.type===`C`?n.push(t.x1,t.y1,t.x2,t.y2,t.x,t.y):t.type===`Q`&&n.push(t.x1,t.y1,t.x,t.y),n}(t[i]));return r.push(n),r}(x[S].getPath(n,r,i).commands),w=0;w<C.length;w++)for(var T=function(t,n){for(var n=function(t,n){if(c(t)!==`object`)t=n;else for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}(n,{sampleFactor:.1,simplifyThreshold:0}),r=m(t,0,1),i=r/(r*n.sampleFactor),a=[],o=0;o<r;o+=i)a.push(m(t,o));return n.simplifyThreshold&&function(t){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=0,i=t.length-1;3<t.length&&0<=i;--i)d(u(t,i-1),u(t,i),u(t,i+1),n)&&(t.splice(i%t.length,1),r++)}(a,n.simplifyThreshold),a}(C[w],a),E=0;E<T.length;E++)T[E].x+=y,o=this._handleAlignment(f._renderer,b,T[E].x,T[E].y),T[E].x=o.x,T[E].y=o.y,l.push(T[E]);y+=x[S].advanceWidth*this._scale(i)}r+=this.parent._renderer._textLeading}return l}},{key:`_getGlyphs`,value:function(t){return this.font.stringToGlyphs(t)}},{key:`_getPath`,value:function(t,n,r,i){var a=(i&&i.renderer&&i.renderer._pInst||this.parent)._renderer,n=this._handleAlignment(a,t,n,r);return this.font.getPath(t,n.x,n.y,a._textSize,i)}},{key:`_getPathData`,value:function(t,n,r,i){var a=3;return typeof t==`string`&&2<arguments.length?t=this._getPath(t,n,r,i):c(n)===`object`&&(i=n),i&&typeof i.decimals==`number`&&(a=i.decimals),t.toPathData(a)}},{key:`_getSVG`,value:function(t,n,r,i){var a=3;return typeof t==`string`&&2<arguments.length?t=this._getPath(t,n,r,i):c(n)===`object`&&(i=n),i&&(typeof i.decimals==`number`&&(a=i.decimals),typeof i.strokeWidth==`number`&&(t.strokeWidth=i.strokeWidth),i.fill!==void 0&&(t.fill=i.fill),i.stroke!==void 0&&(t.stroke=i.stroke)),t.toSVG(a)}},{key:`_renderPath`,value:function(t,n,r,i){var a=i&&i.renderer||this.parent._renderer,s=a.drawingContext,t=(c(t)===`object`&&t.commands?t:this._getPath(t,n,r,i)).commands,l=(a._clipping||s.beginPath(),!0),n=!1,r=void 0;try{for(var u,d=t[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var f=u.value;f.type===`M`?s.moveTo(f.x,f.y):f.type===`L`?s.lineTo(f.x,f.y):f.type===`C`?s.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y):f.type===`Q`?s.quadraticCurveTo(f.x1,f.y1,f.x,f.y):f.type===`Z`&&s.closePath()}}catch(t){n=!0,r=t}finally{try{l||d.return==null||d.return()}finally{if(n)throw r}}return a._doStroke&&a._strokeSet&&!a._clipping&&s.stroke(),a._doFill&&!a._clipping&&(a._fillSet||a._setFill(o._DEFAULT_TEXT_FILL),s.fill()),this}},{key:`_textWidth`,value:function(t,n){return this.font.getAdvanceWidth(t,n)}},{key:`_textAscent`,value:function(t){return this.font.ascender*this._scale(t)}},{key:`_textDescent`,value:function(t){return-this.font.descender*this._scale(t)}},{key:`_scale`,value:function(t){return 1/this.font.unitsPerEm*(t||this.parent._renderer._textSize)}},{key:`_handleAlignment`,value:function(t,n,r,i,a){var s=t._textSize;switch(a===void 0&&(a=this._textWidth(n,s)),t._textAlign){case o.CENTER:r-=a/2;break;case o.RIGHT:r-=a}switch(t._textBaseline){case o.TOP:i+=this._textAscent(s);break;case o.CENTER:i+=this._textAscent(s)/2;break;case o.BOTTOM:i-=this._textDescent(s)}return{x:r,y:i}}}])&&l(n.prototype,r),i&&l(n,i),t}(),t=a.default,r.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,n,r){t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.array-buffer.constructor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.array-buffer.constructor`),t(`core-js/modules/es.object.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t},t.default.prototype.append=function(t,n){return t.push(n),t},t.default.prototype.arrayCopy=function(t,n,r,i,a){var o,s;t=a===void 0?(s=r===void 0?t.length:(s=r,Math.min(s,t.length)),r=n,t.slice(o=0,s)):(s=Math.min(a,t.length),o=i,t.slice(n,s+n)),Array.prototype.splice.apply(r,[o,s].concat(t))},t.default.prototype.concat=function(t,n){return t.concat(n)},t.default.prototype.reverse=function(t){return t.reverse()},t.default.prototype.shorten=function(t){return t.pop(),t},t.default.prototype.shuffle=function(t,n){for(var r,i,a=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t),o=(t=n||a?t:t.slice()).length;1<o;)r=this.random(0,1)*o|0,i=t[--o],t[o]=t[r],t[r]=i;return t},t.default.prototype.sort=function(t,n){var r=n?t.slice(0,Math.min(n,t.length)):t,n=n?t.slice(Math.min(n,t.length)):[];return(r=typeof r[0]==`string`?r.sort():r.sort(function(t,n){return t-n})).concat(n)},t.default.prototype.splice=function(t,n,r){return Array.prototype.splice.apply(t,[r,0].concat(n)),t},t.default.prototype.subset=function(t,n,r){return r===void 0?t.slice(n,t.length):t.slice(n,n+r)},t=t.default,r.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,n,r){t(`core-js/modules/es.array.map`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.repeat`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.repeat`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};i.default.prototype.float=function(t){return t instanceof Array?t.map(parseFloat):parseFloat(t)},i.default.prototype.int=function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return t===1/0||t===`Infinity`?1/0:t===-1/0||t===`-Infinity`?-1/0:typeof t==`string`?parseInt(t,n):typeof t==`number`?0|t:typeof t==`boolean`?t?1:0:t instanceof Array?t.map(function(t){return i.default.prototype.int(t,n)}):void 0},i.default.prototype.str=function(t){return t instanceof Array?t.map(i.default.prototype.str):String(t)},i.default.prototype.boolean=function(t){return typeof t==`number`?t!==0:typeof t==`string`?t.toLowerCase()===`true`:typeof t==`boolean`?t:t instanceof Array?t.map(i.default.prototype.boolean):void 0},i.default.prototype.byte=function(t){return t=i.default.prototype.int(t,10),typeof t==`number`?(t+128)%256-128:t instanceof Array?t.map(i.default.prototype.byte):void 0},i.default.prototype.char=function(t){return typeof t!=`number`||isNaN(t)?t instanceof Array?t.map(i.default.prototype.char):typeof t==`string`?i.default.prototype.char(parseInt(t,10)):void 0:String.fromCharCode(t)},i.default.prototype.unchar=function(t){return typeof t==`string`&&t.length===1?t.charCodeAt(0):t instanceof Array?t.map(i.default.prototype.unchar):void 0},i.default.prototype.hex=function(t,n){if(n??=8,t instanceof Array)return t.map(function(t){return i.default.prototype.hex(t,n)});if(t===1/0||t===-1/0)return(t===1/0?`F`:`0`).repeat(n);if(typeof t==`number`){t<0&&(t=4294967295+t+1);for(var r=Number(t).toString(16).toUpperCase();r.length<n;)r=`0${r}`;return r=r.length>=n?r.substring(r.length-n,r.length):r}},i.default.prototype.unhex=function(t){return t instanceof Array?t.map(i.default.prototype.unhex):parseInt(`0x${t}`,16)},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.pad-start`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.constructor`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.pad-start`),t(`core-js/modules/es.string.replace`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(u=t(`../core/main`))&&u.__esModule?u:{default:u};function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`){var r=[],i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done)&&(r.push(s.value),!n||r.length!==n);i=!0);}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return r}}(t,n)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance`)}()}function o(t,n,r){var i,o=t<0,s=a((t=Math.abs(t)).toString().split(`.`),2),c=s[0],s=s[1];return r===void 0?(c=c.padStart(n,`0`),i=s?c+`.`+s:c,o?`-`+i:i):(c=(i=a(t.toFixed(r).toString().split(`.`),2))[0],s=i[1],c=c.padStart(n,`0`),t=s===void 0?c:c+`.`+s,o?`-`+t:t)}function s(t,n){var r=(t=t.toString()).indexOf(`.`),i=r===-1?``:t.substring(r),t=(t=r===-1?t:t.substring(0,r)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,`,`);if(n===0)i=``;else if(n!==void 0)if(n>i.length)for(var a=n-(i+=r===-1?`.`:``).length+1,o=0;o<a;o++)i+=`0`;else i=i.substring(0,n+1);return t+i}function c(t){return 0<parseFloat(t)?`+${t.toString()}`:t.toString()}function l(t){return 0<=parseFloat(t)?` ${t.toString()}`:t.toString()}t(`../core/friendly_errors/validate_params`),t(`../core/friendly_errors/file_errors`),t(`../core/friendly_errors/fes_core`),i.default.prototype.join=function(t,n){return i.default._validateParameters(`join`,arguments),t.join(n)},i.default.prototype.match=function(t,n){return i.default._validateParameters(`match`,arguments),t.match(n)},i.default.prototype.matchAll=function(t,n){i.default._validateParameters(`matchAll`,arguments);for(var r=new RegExp(n,`g`),a=r.exec(t),o=[];a!==null;)o.push(a),a=r.exec(t);return o},i.default.prototype.nf=function(t,n,r){return i.default._validateParameters(`nf`,arguments),t instanceof Array?t.map(function(t){return o(t,n,r)}):Object.prototype.toString.call(t)===`[object Arguments]`?t.length===3?this.nf(t[0],t[1],t[2]):t.length===2?this.nf(t[0],t[1]):this.nf(t[0]):o(t,n,r)},i.default.prototype.nfc=function(t,n){return i.default._validateParameters(`nfc`,arguments),t instanceof Array?t.map(function(t){return s(t,n)}):s(t,n)},i.default.prototype.nfp=function(){var t=[...arguments];i.default._validateParameters(`nfp`,t);var n=i.default.prototype.nf.apply(this,t);return n instanceof Array?n.map(c):c(n)},i.default.prototype.nfs=function(){var t=[...arguments];i.default._validateParameters(`nfs`,t);var n=i.default.prototype.nf.apply(this,t);return n instanceof Array?n.map(l):l(n)},i.default.prototype.split=function(t,n){return i.default._validateParameters(`split`,arguments),t.split(n)},i.default.prototype.splitTokens=function(t,n){var r,a;return i.default._validateParameters(`splitTokens`,arguments),a=n===void 0?/\s/g:(a=/\]/g.exec(n=n),(r=/\[/g.exec(n))&&a?(n=n.slice(0,a.index)+n.slice(a.index+1),r=/\[/g.exec(n),n=n.slice(0,r.index)+n.slice(r.index+1),RegExp(`[\\[${n}\\]]`,`g`)):a?(n=n.slice(0,a.index)+n.slice(a.index+1),RegExp(`[${n}\\]]`,`g`)):r?(n=n.slice(0,r.index)+n.slice(r.index+1),RegExp(`[${n}\\[]`,`g`)):RegExp(`[${n}]`,`g`)),t.split(a).filter(function(t){return t})},i.default.prototype.trim=function(t){return i.default._validateParameters(`trim`,arguments),t instanceof Array?t.map(this.trim):t.trim()};var u=i.default;r.default=u},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,r.default=t},{"../core/main":283}],326:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.math.sign`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.math.sign`),t(`core-js/modules/es.number.to-fixed`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(u=t(`../core/main`))&&u.__esModule?u:{default:u},s=(t(`./p5.Geometry`),function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`)));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}o.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},o.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},o.default.prototype.buildGeometry=function(t){return this._renderer.buildGeometry(t)},o.default.prototype.freeGeometry=function(t){this._renderer._freeBuffers(t.gid)},o.default.prototype.plane=function(){var t,n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,s=(this._assert3d(`plane`),o.default._validateParameters(`plane`,arguments),`plane|${i}|${a}`);return this._renderer.geometryInHash(s)||((t=new o.default.Geometry(i,a,function(){for(var t,n,r=0;r<=this.detailY;r++)for(var i=r/this.detailY,a=0;a<=this.detailX;a++)t=a/this.detailX,n=new o.default.Vector(t-.5,i-.5,0),this.vertices.push(n),this.uvs.push(t,i)})).computeFaces().computeNormals(),i<=1&&a<=1?t._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log(`Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY`),this._renderer.createBuffers(s,t)),this._renderer.drawBuffersScaled(s,n,r,1),this},o.default.prototype.box=function(t,n,r,i,a){this._assert3d(`box`),o.default._validateParameters(`box`,arguments),t===void 0&&(t=50),n===void 0&&(n=t),r===void 0&&(r=n);var s,c=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,c=(a===void 0&&(a=c?1:4),`box|${i=i===void 0?c?1:4:i}|${a}`);return this._renderer.geometryInHash(c)||((s=new o.default.Geometry(i,a,function(){var t=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(n,r){for(var r=4*r,i=0;i<4;i++){var a=n[i],a=new o.default.Vector((2*(1&a)-1)/2,((2&a)-1)/2,((4&a)/2-1)/2);t.vertices.push(a),t.uvs.push(1&i,(2&i)/2)}t.faces.push([r,1+r,2+r]),t.faces.push([2+r,1+r,3+r])})})).computeNormals(),i<=4&&a<=4?s._edgesToVertices():this._renderer._doStroke&&console.log(`Cannot draw stroke on box objects with more than 4 detailX or 4 detailY`),this._renderer.createBuffers(c,s)),this._renderer.drawBuffersScaled(c,t,n,r),this},o.default.prototype.sphere=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d(`sphere`),o.default._validateParameters(`sphere`,arguments),this.ellipsoid(t,t,t,n,r),this};function l(t,n,r,i,a,s,c){t=t<=0?1:t,n=n<0?0:n,r=r<=0?t:r,i=i<3?3:i;for(var l,u,d=(s=s===void 0||s)?-2:0,f=(a=a<1?1:a)+((c=c===void 0?n!==0:c)?2:0),p=Math.atan2(t-n,r),m=Math.sin(p),h=Math.cos(p),g=d;g<=f;++g){var _=g/a,v=r*_,y=void 0,y=g<0?(_=v=0,t):a<g?(v=r,_=1,n):t+(n-t)*_;for(g!==-2&&g!==a+2||(y=0),v-=r/2,l=0;l<i;++l){var b=l/(i-1),x=2*Math.PI*b,S=Math.sin(x),x=Math.cos(x),C=(this.vertices.push(new o.default.Vector(S*y,v,x*y)),void 0),C=g<0?new o.default.Vector(0,-1,0):a<g&&n?new o.default.Vector(0,1,0):new o.default.Vector(S*h,m,x*h);this.vertexNormals.push(C),this.uvs.push(b,_)}}var w=0;if(s){for(u=0;u<i;++u)this.faces.push([w+u,w+i+(u+1)%i,w+i+u]);w+=2*i}for(g=0;g<a;++g){for(l=0;l<i;++l){var T=(l+1)%i;this.faces.push([w+l,w+T,w+i+T]),this.faces.push([w+l,w+i+T,w+i+l])}w+=i}if(c)for(w+=i,l=0;l<i;++l)this.faces.push([w+l,w+(l+1)%i,w+i])}o.default.prototype.cylinder=function(){var t,n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,s=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],c=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],u=(this._assert3d(`cylinder`),o.default._validateParameters(`cylinder`,arguments),`cylinder|${i}|${a}|${s}|${c}`);return this._renderer.geometryInHash(u)||(t=new o.default.Geometry(i,a),l.call(t,1,1,1,i,a,s,c),i<=24&&a<=16?t._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log(`Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY`),this._renderer.createBuffers(u,t)),this._renderer.drawBuffersScaled(u,n,r,n),this},o.default.prototype.cone=function(){var t,n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,s=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],c=(this._assert3d(`cone`),o.default._validateParameters(`cone`,arguments),`cone|${i}|${a}|${s}`);return this._renderer.geometryInHash(c)||(t=new o.default.Geometry(i,a),l.call(t,1,0,1,i,a,s,!1),i<=24&&a<=16?t._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log(`Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY`),this._renderer.createBuffers(c,t)),this._renderer.drawBuffersScaled(c,n,r,n),this},o.default.prototype.ellipsoid=function(){var t,n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:n,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,c=(this._assert3d(`ellipsoid`),o.default._validateParameters(`ellipsoid`,arguments),`ellipsoid|${a}|${s}`);return this._renderer.geometryInHash(c)||((t=new o.default.Geometry(a,s,function(){for(var t=0;t<=this.detailY;t++)for(var n=t/this.detailY,r=Math.PI*n-Math.PI/2,i=Math.cos(r),a=Math.sin(r),s=0;s<=this.detailX;s++){var c=s/this.detailX,l=2*Math.PI*c,u=Math.cos(l),l=Math.sin(l),l=new o.default.Vector(i*l,a,i*u);this.vertices.push(l),this.vertexNormals.push(l),this.uvs.push(c,n)}})).computeFaces(),a<=24&&s<=24?t._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log(`Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY`),this._renderer.createBuffers(c,t)),this._renderer.drawBuffersScaled(c,n,r,i),this},o.default.prototype.torus=function(t,n,r,i){if(this._assert3d(`torus`),o.default._validateParameters(`torus`,arguments),t===void 0)t=50;else if(!t)return;if(n===void 0)n=10;else if(!n)return;r===void 0&&(r=24),i===void 0&&(i=16);var a,s=(n/t).toPrecision(4),n=`torus|${s}|${r}|${i}`;return this._renderer.geometryInHash(n)||((a=new o.default.Geometry(r,i,function(){for(var t=0;t<=this.detailY;t++)for(var n=t/this.detailY,r=2*Math.PI*n,i=Math.cos(r),a=Math.sin(r),c=1+s*i,l=0;l<=this.detailX;l++){var u=l/this.detailX,d=2*Math.PI*u,f=Math.cos(d),d=Math.sin(d),p=new o.default.Vector(c*f,c*d,s*a),f=new o.default.Vector(i*f,i*d,a);this.vertices.push(p),this.vertexNormals.push(f),this.uvs.push(u,n)}})).computeFaces(),r<=24&&i<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log(`Cannot draw strokes on torus object with more than 24 detailX or 16 detailY`),this._renderer.createBuffers(n,a)),this._renderer.drawBuffersScaled(n,t,t,t),this},o.default.RendererGL.prototype.point=function(t,n){var r=[];return r.push(new o.default.Vector(t,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(r,this.immediateMode.buffers.point),this},o.default.RendererGL.prototype.triangle=function(t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],t=t[5],c=(this.geometryInHash(`tri`)||((c=new o.default.Geometry(1,1,function(){var t=[];t.push(new o.default.Vector(0,0,0)),t.push(new o.default.Vector(1,0,0)),t.push(new o.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=t,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),c.computeNormals(),this.createBuffers(`tri`,c)),this.uModelMatrix.copy());try{var l=Math.sign(n*a-i*r+i*t-s*a+s*r-n*t);this.uModelMatrix=new o.default.Matrix([i-n,a-r,0,0,s-n,t-r,0,0,0,0,l,0,n,r,0,1]).mult(this.uModelMatrix),this.drawBuffers(`tri`)}finally{this.uModelMatrix=c}return this},o.default.RendererGL.prototype.ellipse=function(t){this.arc(t[0],t[1],t[2],t[3],0,s.TWO_PI,s.OPEN,t[4])},o.default.RendererGL.prototype.arc=function(){var t,n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2],a=arguments.length<=3?void 0:arguments[3],c=arguments.length<=4?void 0:arguments[4],l=arguments.length<=5?void 0:arguments[5],u=arguments.length<=6?void 0:arguments[6],d=(arguments.length<=7?void 0:arguments[7])||25,f=(Math.abs(l-c)>=s.TWO_PI?`${p=`ellipse`}|`:`${p=`arc`}|${c}|${l}|${u}|`).concat(d,`|`),p=(this.geometryInHash(f)||((t=new o.default.Geometry(d,1,function(){if(c.toFixed(10)!==l.toFixed(10)){u!==s.PIE&&u!==void 0||(this.vertices.push(new o.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var t=0;t<=d;t++){var n=(l-c)*(t/d)+c,r=.5+Math.cos(n)/2,n=.5+Math.sin(n)/2;this.vertices.push(new o.default.Vector(r,n,0)),this.uvs.push([r,n]),t<d-1&&(this.faces.push([0,t+1,t+2]),this.edges.push([t+1,t+2]))}switch(u){case s.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case s.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case s.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),d<=50?t._edgesToVertices(t):this._doStroke&&console.log(`Cannot apply a stroke to an ${p} with more than 50 detail`),this.createBuffers(f,t)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([n,r,0]),this.uModelMatrix.scale(i,a,1),this.drawBuffers(f)}finally{this.uModelMatrix=p}return this},o.default.RendererGL.prototype.rect=function(t){var n=t[0],r=t[1],i=t[2],a=t[3];if(t[4]===void 0){var c=this._pInst._glAttributes.perPixelLighting,l=t[4]||(c?1:24),u=t[5]||(c?1:16),c=`rect|${l}|${u}`,d=(this.geometryInHash(c)||((d=new o.default.Geometry(l,u,function(){for(var t=0;t<=this.detailY;t++)for(var n=t/this.detailY,r=0;r<=this.detailX;r++){var i=r/this.detailX,a=new o.default.Vector(i,n,0);this.vertices.push(a),this.uvs.push(i,n)}0<l&&0<u&&(this.edges=[[0,l],[l,(l+1)*(u+1)-1],[(l+1)*(u+1)-1,(l+1)*u],[(l+1)*u,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(c,d)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([n,r,0]),this.uModelMatrix.scale(i,a,1),this.drawBuffers(c)}finally{this.uModelMatrix=d}}else{var c=t[4],d=t[5]===void 0?c:t[5],f=t[6]===void 0?d:t[6],t=t[7]===void 0?f:t[7],p=i,m=a,h=((p+=n)<n&&(h=n,n=p,p=h),(m+=r)<r&&(h=r,r=m,m=h),Math.min((p-n)/2,(m-r)/2)),g=(h<c&&(c=h),h<d&&(d=h),h<f&&(f=h),h<t&&(t=h),n),_=r,h=p,n=m,v=(this.beginShape(),d===0?this.vertex(h,_):(this.vertex(h-d,_),this.quadraticVertex(h,_,h,_+d)),f===0?this.vertex(h,n):(this.vertex(h,n-f),this.quadraticVertex(h,n,h-f,n)),t===0?this.vertex(g,n):(this.vertex(g+t,n),this.quadraticVertex(g,n,g,n-t)),c===0?this.vertex(g,_):(this.vertex(g,_+c),this.quadraticVertex(g,_,g+c,_)),!(this.immediateMode.geometry.uvs.length=0)),r=!1,p=void 0;try{for(var y,b=this.immediateMode.geometry.vertices[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value,S=(x.x-g)/i,C=(x.y-_)/a;this.immediateMode.geometry.uvs.push(S,C)}}catch(t){r=!0,p=t}finally{try{v||b.return==null||b.return()}finally{if(r)throw p}}this.endShape(s.CLOSE)}return this},o.default.RendererGL.prototype.quad=function(t,n,r,i,a,s,c,l,u,d,f,p){var m=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,h=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,g=`quad|${t}|${n}|${r}|${i}|${a}|${s}|${c}|${l}|${u}|${d}|${f}|${p}|${m}|${h}`;if(!this.geometryInHash(g)){var _=new o.default.Geometry(m,h,function(){for(var m=1/(this.detailX-1),h=1/(this.detailY-1),g=0;g<this.detailY;g++)for(var _=0;_<this.detailX;_++){var v=_*m,y=g*h;this.vertices.push(new o.default.Vector((1-v)*((1-y)*t+y*d)+v*((1-y)*i+y*c),(1-v)*((1-y)*n+y*f)+v*((1-y)*a+y*l),(1-v)*((1-y)*r+y*p)+v*((1-y)*s+y*u))),this.uvs.push([v,y])}});_.faces=[];for(var v=0;v<h-1;v++)for(var y=0;y<m-1;y++){var b=y+v*m,x=y+1+(v+1)*m,S=y+(v+1)*m;_.faces.push([b,y+1+v*m,x]),_.faces.push([b,x,S])}_.computeNormals();for(var C=[_.edges.length=0,2,3,1],w=0;w<C.length;w++)_.edges.push([C[w],C[(w+1)%C.length]]);_._edgesToVertices(),this.createBuffers(g,_)}return this.drawBuffers(g),this},o.default.RendererGL.prototype.bezier=function(t,n,r,i,a,o,s,c,l,u,d,f){arguments.length===8&&(d=c,u=s,c=o,s=a,a=i,i=r,r=o=l=f=0);var p=this._pInst._bezierDetail||20;this.beginShape();for(var m=0;m<=p;m++){var h=(1-m/p)**3,g=m/p*3*(1-m/p)**2,_=3*(m/p)**2*(1-m/p),v=(m/p)**3;this.vertex(t*h+i*g+s*_+u*v,n*h+a*g+c*_+d*v,r*h+o*g+l*_+f*v)}return this.endShape(),this},o.default.RendererGL.prototype.curve=function(t,n,r,i,a,o,s,c,l,u,d,f){arguments.length===8&&(u=s,d=c,s=a,c=i,a=i=r,r=o=l=f=0);var p=this._pInst._curveDetail;this.beginShape();for(var m=0;m<=p;m++){var h=.5*(m/p)**3,g=.5*(m/p)**2,_=m/p*.5;this.vertex(h*(3*i-t-3*s+u)+g*(2*t-5*i+4*s-u)+_*(-t+s)+2*i*.5,h*(3*a-n-3*c+d)+g*(2*n-5*a+4*c-d)+_*(-n+c)+2*a*.5,h*(3*o-r-3*l+f)+g*(2*r-5*o+4*l-f)+_*(-r+l)+2*o*.5)}return this.endShape(),this},o.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(s.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(s.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},o.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error(`vertex() must be used once before calling bezierVertex()`);var t,n,r,i,a,o,s=[],c=[],l=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,d=u,f=1,p=0;d<1;){if(o=parseFloat(d.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(o),f.toFixed(6)===u.toFixed(6)){o=parseFloat(f.toFixed(6))+parseFloat(d.toFixed(6)),++p,this._lookUpTableBezier[p]=this._bezierCoefficients(o);break}d+=u,f-=u,++p}}for(var m=this._lookUpTableBezier.length,h=[],g=0;g<4;g++)h.push([]);h[0]=this.immediateMode.geometry.vertexColors.slice(-4),h[3]=this.curFillColor.slice();var _=[];for(g=0;g<4;g++)_.push([]);if(_[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),_[3]=this.curStrokeColor.slice(),l===6){this.isBezier=!0;var s=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],c=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],v=Math.hypot(s[0]-s[1],c[0]-c[1]),y=Math.hypot(s[1]-s[2],c[1]-c[2]),b=Math.hypot(s[2]-s[3],c[2]-c[3]),y=v+y+b;for(v/=y,b/=y,a=0;a<4;a++)h[1].push(h[0][a]*(1-v)+h[3][a]*v),h[2].push(h[0][a]*b+h[3][a]*(1-b)),_[1].push(_[0][a]*(1-v)+_[3][a]*v),_[2].push(_[0][a]*b+_[3][a]*(1-b));for(i=0;i<m;i++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],g=t=n=0;g<4;g++){for(a=0;a<4;a++)this.curFillColor[a]+=this._lookUpTableBezier[i][g]*h[g][a],this.curStrokeColor[a]+=this._lookUpTableBezier[i][g]*_[g][a];t+=s[g]*this._lookUpTableBezier[i][g],n+=c[g]*this._lookUpTableBezier[i][g]}this.vertex(t,n)}this.curFillColor=h[3],this.curStrokeColor=_[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(l===9){this.isBezier=!0,s=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],c=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var x=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],S=Math.hypot(s[0]-s[1],c[0]-c[1],x[0]-x[1]),y=Math.hypot(s[1]-s[2],c[1]-c[2],x[1]-x[2]),C=Math.hypot(s[2]-s[3],c[2]-c[3],x[2]-x[3]),l=S+y+C;for(S/=l,C/=l,a=0;a<4;a++)h[1].push(h[0][a]*(1-S)+h[3][a]*S),h[2].push(h[0][a]*C+h[3][a]*(1-C)),_[1].push(_[0][a]*(1-S)+_[3][a]*S),_[2].push(_[0][a]*C+_[3][a]*(1-C));for(i=0;i<m;i++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],g=t=n=r=0;g<4;g++){for(a=0;a<4;a++)this.curFillColor[a]+=this._lookUpTableBezier[i][g]*h[g][a],this.curStrokeColor[a]+=this._lookUpTableBezier[i][g]*_[g][a];t+=s[g]*this._lookUpTableBezier[i][g],n+=c[g]*this._lookUpTableBezier[i][g],r+=x[g]*this._lookUpTableBezier[i][g]}this.vertex(t,n,r)}this.curFillColor=h[3],this.curStrokeColor=_[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},o.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error(`vertex() must be used once before calling quadraticVertex()`);var t,n,r,i,a,o,s=[],c=[],l=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var u=1/this._lutQuadraticDetail,d=u,f=1,p=0;d<1;){if(o=parseFloat(d.toFixed(6)),this._lookUpTableQuadratic[p]=this._quadraticCoefficients(o),f.toFixed(6)===u.toFixed(6)){o=parseFloat(f.toFixed(6))+parseFloat(d.toFixed(6)),++p,this._lookUpTableQuadratic[p]=this._quadraticCoefficients(o);break}d+=u,f-=u,++p}}for(var m=this._lookUpTableQuadratic.length,h=[],g=0;g<3;g++)h.push([]);h[0]=this.immediateMode.geometry.vertexColors.slice(-4),h[2]=this.curFillColor.slice();var _=[];for(g=0;g<3;g++)_.push([]);if(_[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),_[2]=this.curStrokeColor.slice(),l===4){this.isQuadratic=!0;var s=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],c=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],v=Math.hypot(s[0]-s[1],c[0]-c[1]);for(v/=v+Math.hypot(s[1]-s[2],c[1]-c[2]),a=0;a<4;a++)h[1].push(h[0][a]*(1-v)+h[2][a]*v),_[1].push(_[0][a]*(1-v)+_[2][a]*v);for(i=0;i<m;i++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],g=t=n=0;g<3;g++){for(a=0;a<4;a++)this.curFillColor[a]+=this._lookUpTableQuadratic[i][g]*h[g][a],this.curStrokeColor[a]+=this._lookUpTableQuadratic[i][g]*_[g][a];t+=s[g]*this._lookUpTableQuadratic[i][g],n+=c[g]*this._lookUpTableQuadratic[i][g]}this.vertex(t,n)}this.curFillColor=h[2],this.curStrokeColor=_[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(l===6){this.isQuadratic=!0,s=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],c=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var y=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],b=Math.hypot(s[0]-s[1],c[0]-c[1],y[0]-y[1]);for(b/=b+Math.hypot(s[1]-s[2],c[1]-c[2],y[1]-y[2]),a=0;a<4;a++)h[1].push(h[0][a]*(1-b)+h[2][a]*b),_[1].push(_[0][a]*(1-b)+_[2][a]*b);for(i=0;i<m;i++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],g=t=n=r=0;g<3;g++){for(a=0;a<4;a++)this.curFillColor[a]+=this._lookUpTableQuadratic[i][g]*h[g][a],this.curStrokeColor[a]+=this._lookUpTableQuadratic[i][g]*_[g][a];t+=s[g]*this._lookUpTableQuadratic[i][g],n+=c[g]*this._lookUpTableQuadratic[i][g],r+=y[g]*this._lookUpTableQuadratic[i][g]}this.vertex(t,n,r)}this.curFillColor=h[2],this.curStrokeColor=_[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},o.default.RendererGL.prototype.curveVertex=function(){var t,n,r,i,a,o,s=[],c=[],l=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,d=u,f=1,p=0;d<1;){if(o=parseFloat(d.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(o),f.toFixed(6)===u.toFixed(6)){o=parseFloat(f.toFixed(6))+parseFloat(d.toFixed(6)),++p,this._lookUpTableBezier[p]=this._bezierCoefficients(o);break}d+=u,f-=u,++p}}var m=this._lookUpTableBezier.length;if(l===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,s=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),a=0;a<m;a++)n=s[0]*this._lookUpTableBezier[a][0]+s[1]*this._lookUpTableBezier[a][1]+s[2]*this._lookUpTableBezier[a][2]+s[3]*this._lookUpTableBezier[a][3],r=c[0]*this._lookUpTableBezier[a][0]+c[1]*this._lookUpTableBezier[a][1]+c[2]*this._lookUpTableBezier[a][2]+c[3]*this._lookUpTableBezier[a][3],this.vertex(n,r);for(a=0;a<l;a++)this.immediateMode._curveVertex.shift()}}else if(l===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,s=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),t=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),a=0;a<m;a++)n=s[0]*this._lookUpTableBezier[a][0]+s[1]*this._lookUpTableBezier[a][1]+s[2]*this._lookUpTableBezier[a][2]+s[3]*this._lookUpTableBezier[a][3],r=c[0]*this._lookUpTableBezier[a][0]+c[1]*this._lookUpTableBezier[a][1]+c[2]*this._lookUpTableBezier[a][2]+c[3]*this._lookUpTableBezier[a][3],i=t[0]*this._lookUpTableBezier[a][0]+t[1]*this._lookUpTableBezier[a][1]+t[2]*this._lookUpTableBezier[a][2]+t[3]*this._lookUpTableBezier[a][3],this.vertex(n,r,i);for(a=0;a<l;a++)this.immediateMode._curveVertex.shift()}},o.default.RendererGL.prototype.image=function(t,n,r,i,a,o,c,l,u){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(t),this._pInst.textureMode(s.NORMAL);var d=0,f=(n<=t.width&&(d=n/t.width),1),n=(n+i<=t.width&&(f=(n+i)/t.width),0),i=(r<=t.height&&(n=r/t.height),1);r+a<=t.height&&(i=(r+a)/t.height),this.beginShape(),this.vertex(o,c,0,d,n),this.vertex(o+l,c,0,f,n),this.vertex(o+l,c+u,0,f,i),this.vertex(o,c+u,0,d,i),this.endShape(s.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(s.REMOVE)};var u=o.default;r.default=u},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.object.assign`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(d=t(`../core/main`))&&d.__esModule?d:{default:d},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}function u(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(n){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);(this.renderer=n)._pInst.push(),this.identityMatrix=new o.default.Matrix,n.uModelMatrix=new o.default.Matrix,this.geometry=new o.default.Geometry,this.geometry.gid=`_p5_GeometryBuilder_${t.nextGeometryId}`,t.nextGeometryId++,this.hasTransform=!1}var n,r,i;return n=t,(r=[{key:`transformVertices`,value:function(t){var n=this;return this.hasTransform?t.map(function(t){return n.renderer.uModelMatrix.multiplyPoint(t)}):t}},{key:`transformNormals`,value:function(t){var n=this;return this.hasTransform?t.map(function(t){return n.renderer.uNMatrix.multiplyVec3(t)}):t}},{key:`addGeometry`,value:function(t){for(var n,r=this,i=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(t,n){return t===r.identityMatrix.mat4[n]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),a=((n=this.geometry.vertices).push.apply(n,l(this.transformVertices(t.vertices))),(n=this.geometry.vertexNormals).push.apply(n,l(this.transformNormals(t.vertexNormals))),(n=this.geometry.uvs).push.apply(n,l(t.uvs)),this.renderer._doFill&&(n=this.geometry.faces).push.apply(n,l(t.faces.map(function(t){return t.map(function(t){return t+i})}))),this.renderer._doStroke&&(n=this.geometry.edges).push.apply(n,l(t.edges.map(function(t){return t.map(function(t){return t+i})}))),l(t.vertexColors));a.length<4*t.vertices.length;)a.push.apply(a,l(this.renderer.curFillColor));(n=this.geometry.vertexColors).push.apply(n,l(a))}},{key:`addImmediate`,value:function(){var t=this.renderer.immediateMode.geometry,n=this.renderer.immediateMode.shapeMode,r=[];if(this.renderer._doFill)if(n===s.TRIANGLE_STRIP||n===s.QUAD_STRIP)for(var i=2;i<t.vertices.length;i++)i%2==0?r.push([i,i-1,i-2]):r.push([i,i-2,i-1]);else if(n===s.TRIANGLE_FAN)for(var a=2;a<t.vertices.length;a++)r.push([0,a-1,a]);else for(var o=0;o<t.vertices.length;o+=3)r.push([o,o+1,o+2]);this.addGeometry(Object.assign({},t,{faces:r}))}},{key:`addRetained`,value:function(t){this.addGeometry(t.model)}},{key:`finish`,value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&u(n.prototype,r),i&&u(n,i),t}();d.nextGeometryId=0,r.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.math.sign`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.math.sign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var a=(l=t(`../core/main`))&&l.__esModule?l:{default:l},o=function(t){if(t&&t.__esModule)return t;if(t===null||c(t)!==`object`&&typeof t!=`function`)return{default:t};var n=s();if(n&&n.has(t))return n.get(t);var r,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=a?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function s(){var t;return typeof WeakMap==`function`?(t=new WeakMap,s=function(){return t},t):null}function c(t){return(c=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}a.default.prototype.orbitControl=function(t,n,r,i){var o=this,s=(this._assert3d(`orbitControl`),a.default._validateParameters(`orbitControl`,arguments),this._renderer._curCamera);t===void 0&&(t=1),n===void 0&&(n=t),r===void 0&&(r=1),c(i)!==`object`&&(i={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty(`contextMenuDisabled`,!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty(`wheelDefaultDisabled`,!0));var l=i.disableTouchActions;!0===this.touchActionsDisabled||l!==void 0&&!l||(this.canvas.style[`touch-action`]=`none`,this._setProperty(`touchActionsDisabled`,!0));var u,d,f,l=i.freeRotation,i=l!==void 0&&l,p=[],l=(this.touches.forEach(function(t){o._renderer.prevTouches.forEach(function(n){t.id===n.id&&(n={x:t.x,y:t.y,px:n.x,py:n.y},p.push(n))})}),this._renderer.prevTouches=this.touches,0),m=0,h=0,g=0,_=0,v=this.height<this.width?this.height:this.width,y=!1;return 0<p.length?(y=0<p[0].x&&p[0].x<this.width&&0<p[0].y&&p[0].y<this.height,p.length===1?(m=-t*((u=p[0]).x-u.px)/v,h=n*(u.y-u.py)/v):(u=p[0],d=p[1],l=-(Math.hypot(u.x-d.x,u.y-d.y)-Math.hypot(u.px-d.px,u.py-d.py))*r*4e-4,g=.5*(u.x+d.x)-.5*(u.px+d.px),_=.5*(u.y+d.y)-.5*(u.py+d.py)),0<this.touches.length?y&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(y=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY===0?this._renderer.executeZoom=!1:(l=Math.sign(this._mouseWheelDeltaY)*r,l*=.01,this._mouseWheelDeltaY=0,y&&(this._renderer.executeZoom=!0)),this.mouseIsPressed?(this.mouseButton===this.LEFT?(m=-t*this.movedX/v,h=n*this.movedY/v):this.mouseButton===this.RIGHT&&(g=this.movedX,_=this.movedY*s.yScale),y&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),l!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=l),.001<Math.abs(this._renderer.zoomVelocity)?(i?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),s.projMatrix.mat4[15]!==0&&(s.projMatrix.mat4[0]*=10**-this._renderer.zoomVelocity,s.projMatrix.mat4[5]*=10**-this._renderer.zoomVelocity,this._renderer.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,m===0&&h===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*m,.6*h),1e-6<this._renderer.rotateVelocity.magSq()?(i?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),g===0&&_===0||!this._renderer.executeRotateAndMove||(u=2*g/this.width,d=2*-_/this.height,this._renderer.moveVelocity.add(.15*u,.15*d)),1e-6<this._renderer.moveVelocity.magSq()?(r=s._getLocalAxes(),t=s.eyeX-s.centerX,n=s.eyeY-s.centerY,v=s.eyeZ-s.centerZ,y=Math.sqrt(t*t+n*n+v*v),l=new a.default.Vector(s.centerX,s.centerY,s.centerZ),l=s.cameraMatrix.multiplyPoint(l),(l=this._renderer.uPMatrix.multiplyAndNormalizePoint(l)).x-=this._renderer.moveVelocity.x,l.y-=this._renderer.moveVelocity.y,h=(m=this._renderer.uPMatrix.mat4)[15]===0?(f=(m[8]+l.x)/m[0]*y,(m[9]+l.y)/m[5]*y):(f=(l.x-m[12])/m[0],(l.y-m[13])/m[5]),s.setPosition(s.eyeX+f*r.x[0]+h*r.y[0],s.eyeY+f*r.x[1]+h*r.y[1],s.eyeZ+f*r.x[2]+h*r.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},a.default.prototype.debugMode=function(){this._assert3d(`debugMode`);var t=[...arguments];a.default._validateParameters(`debugMode`,t);for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1);t[0]===o.GRID?this.registerMethod(`post`,this._grid(t[1],t[2],t[3],t[4],t[5])):t[0]===o.AXES?this.registerMethod(`post`,this._axesIcon(t[1],t[2],t[3],t[4])):(this.registerMethod(`post`,this._grid(t[0],t[1],t[2],t[3],t[4])),this.registerMethod(`post`,this._axesIcon(t[5],t[6],t[7],t[8])))},a.default.prototype.noDebugMode=function(){this._assert3d(`noDebugMode`);for(var t=this._registeredMethods.post.length-1;0<=t;t--)this._registeredMethods.post[t].toString()!==this._grid().toString()&&this._registeredMethods.post[t].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(t,1)},a.default.prototype._grid=function(t,n,r,i,a){t===void 0&&(t=this.width/2),n===void 0&&(n=Math.round(t/30)<4?4:Math.round(t/30)),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=0);var o=t/n,s=t/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var t=0;t<=n;t++)this.beginShape(this.LINES),this.vertex(-s+r,i,t*o-s+a),this.vertex(s+r,i,t*o-s+a),this.endShape();for(var c=0;c<=n;c++)this.beginShape(this.LINES),this.vertex(c*o-s+r,i,-s+a),this.vertex(c*o-s+r,i,s+a),this.endShape();this.pop()}},a.default.prototype._axesIcon=function(t,n,r,i){return t===void 0&&(t=40<this.width/20?this.width/20:40),n===void 0&&(n=-this.width/4),r===void 0&&(r=n),i===void 0&&(i=n),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,r,i),this.vertex(n+t,r,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,r,i),this.vertex(n,r+t,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,r,i),this.vertex(n,r,i+t),this.endShape(),this.pop()}};var l=a.default;r.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,n,r){t(`core-js/modules/es.array.filter`),t(`core-js/modules/es.array.filter`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};i.default.prototype.ambientLight=function(t,n,r,a){this._assert3d(`ambientLight`),i.default._validateParameters(`ambientLight`,arguments);var o=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),this._renderer._enableLighting=!0,this},i.default.prototype.specularColor=function(t,n,r){this._assert3d(`specularColor`),i.default._validateParameters(`specularColor`,arguments);var a=this.color.apply(this,arguments);return this._renderer.specularColors=[a._array[0],a._array[1],a._array[2]],this},i.default.prototype.directionalLight=function(t,n,r,a,o,s){this._assert3d(`directionalLight`),i.default._validateParameters(`directionalLight`,arguments),t=t instanceof i.default.Color?t:this.color(t,n,r);var c,l,n=arguments[arguments.length-1],r=typeof n==`number`?(c=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(c=n.x,l=n.y,n.z),n=Math.sqrt(c*c+l*l+r*r);return this._renderer.directionalLightDirections.push(c/n,l/n,r/n),this._renderer.directionalLightDiffuseColors.push(t._array[0],t._array[1],t._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},i.default.prototype.pointLight=function(t,n,r,a,o,s){this._assert3d(`pointLight`),i.default._validateParameters(`pointLight`,arguments),t=t instanceof i.default.Color?t:this.color(t,n,r);var c,l,n=arguments[arguments.length-1],r=typeof n==`number`?(c=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(c=n.x,l=n.y,n.z);return this._renderer.pointLightPositions.push(c,l,r),this._renderer.pointLightDiffuseColors.push(t._array[0],t._array[1],t._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},i.default.prototype.imageLight=function(t){this._renderer.activeImageLight=t,this._renderer._enableLighting=!0},i.default.prototype.panorama=function(t){this.filter(this._renderer._getSphereMapping(t))},i.default.prototype.lights=function(){this._assert3d(`lights`);var t=this.color(`rgb(128,128,128)`);return this.ambientLight(t),this.directionalLight(t,0,0,-1),this},i.default.prototype.lightFalloff=function(t,n,r){return this._assert3d(`lightFalloff`),i.default._validateParameters(`lightFalloff`,arguments),t<0&&(t=0,console.warn(`Value of constant argument in lightFalloff() should be never be negative. Set to 0.`)),n<0&&(n=0,console.warn(`Value of linear argument in lightFalloff() should be never be negative. Set to 0.`)),r<0&&(r=0,console.warn(`Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.`)),t===0&&n===0&&r===0&&(t=1,console.warn(`Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.`)),this._renderer.constantAttenuation=t,this._renderer.linearAttenuation=n,this._renderer.quadraticAttenuation=r,this},i.default.prototype.spotLight=function(t,n,r,a,o,s,c,l,u,d,f){this._assert3d(`spotLight`),i.default._validateParameters(`spotLight`,arguments);var p,m,h,g=arguments.length;switch(g){case 11:case 10:p=this.color(t,n,r),m=new i.default.Vector(a,o,s),h=new i.default.Vector(c,l,u);break;case 9:t instanceof i.default.Color?(p=t,m=new i.default.Vector(n,r,a),h=new i.default.Vector(o,s,c),d=l,f=u):a instanceof i.default.Vector?(p=this.color(t,n,r),m=a,h=new i.default.Vector(o,s,c),d=l,f=u):c instanceof i.default.Vector?(p=this.color(t,n,r),m=new i.default.Vector(a,o,s),h=c,d=l,f=u):(p=this.color(t,n,r),m=new i.default.Vector(a,o,s),h=new i.default.Vector(c,l,u));break;case 8:d=(h=t instanceof i.default.Color?(p=t,m=new i.default.Vector(n,r,a),new i.default.Vector(o,s,c)):a instanceof i.default.Vector?(p=this.color(t,n,r),m=a,new i.default.Vector(o,s,c)):(p=this.color(t,n,r),m=new i.default.Vector(a,o,s),c),l);break;case 7:t instanceof i.default.Color&&n instanceof i.default.Vector?(p=t,m=n,h=new i.default.Vector(r,a,o),d=s,f=c):t instanceof i.default.Color&&o instanceof i.default.Vector?(p=t,m=new i.default.Vector(n,r,a),h=o,d=s,f=c):a instanceof i.default.Vector&&o instanceof i.default.Vector?(p=this.color(t,n,r),m=a,h=o,d=s,f=c):h=t instanceof i.default.Color?(p=t,m=new i.default.Vector(n,r,a),new i.default.Vector(o,s,c)):a instanceof i.default.Vector?(p=this.color(t,n,r),m=a,new i.default.Vector(o,s,c)):(p=this.color(t,n,r),m=new i.default.Vector(a,o,s),c);break;case 6:a instanceof i.default.Vector&&o instanceof i.default.Vector?(p=this.color(t,n,r),m=a,h=o,d=s):t instanceof i.default.Color&&o instanceof i.default.Vector?(p=t,m=new i.default.Vector(n,r,a),h=o,d=s):t instanceof i.default.Color&&n instanceof i.default.Vector&&(p=t,m=n,h=new i.default.Vector(r,a,o),d=s);break;case 5:t instanceof i.default.Color&&n instanceof i.default.Vector&&r instanceof i.default.Vector?(p=t,m=n,h=r,d=a,f=o):a instanceof i.default.Vector&&o instanceof i.default.Vector?(p=this.color(t,n,r),m=a,h=o):t instanceof i.default.Color&&o instanceof i.default.Vector?(p=t,m=new i.default.Vector(n,r,a),h=o):t instanceof i.default.Color&&n instanceof i.default.Vector&&(p=t,m=n,h=new i.default.Vector(r,a,o));break;case 4:p=t,m=n,h=r,d=a;break;case 3:p=t,m=n,h=r;break;default:return console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${g<3?`few`:`many`} arguments were provided`),this}return this._renderer.spotLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(m.x,m.y,m.z),h.normalize(),this._renderer.spotLightDirections.push(h.x,h.y,h.z),d===void 0&&(d=Math.PI/3),f!==void 0&&f<1?(f=1,console.warn(`Value of concentration needs to be greater than 1. Setting it to 1`)):f===void 0&&(f=100),d=this._renderer._pInst._toRadians(d),this._renderer.spotLightAngle.push(Math.cos(d)),this._renderer.spotLightConc.push(f),this._renderer._enableLighting=!0,this},i.default.prototype.noLights=function(){this._assert3d(`noLights`);var t=[...arguments];return i.default._validateParameters(`noLights`,t),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=i.default,r.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.splice`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.promise`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.match`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.trim`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t(`regenerator-runtime/runtime`);var a=(p=t(`../core/main`))&&p.__esModule?p:{default:p};function o(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}function s(t,n,r,i,a,o,s){try{var c=t[o](s),l=c.value}catch(t){r(t);return}c.done?n(l):Promise.resolve(l).then(i,a)}function c(t){return function(){var n=this,r=arguments;return new Promise(function(i,a){var o=t.apply(n,r);function c(t){s(o,i,a,c,l,`next`,t)}function l(t){s(o,i,a,c,l,`throw`,t)}c(void 0)})}}function l(t){return(l=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}function u(t,n,r){for(var i=2<arguments.length&&r!==void 0?r:{},o={v:[],vt:[],vn:[]},s={},c=null,l=new Set,u=!1,d=!1,f=0;f<n.length;++f){var p=n[f].trim().split(/\b\s+/);if(0<p.length){if(p[0]===`usemtl`)c=p[1];else if(p[0]===`v`||p[0]===`vn`){var m=new a.default.Vector(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));o[p[0]].push(m)}else if(p[0]===`vt`)m=[parseFloat(p[1]),1-parseFloat(p[2])],o[p[0]].push(m);else if(p[0]===`f`)for(var h=3;h<p.length;++h){for(var g=[],_=[1,h-1,h],v=0;v<_.length;++v){for(var y,b=p[_[v]],x=b.split(`/`),S=0;S<x.length;S++)x[S]=parseInt(x[S])-1;s[b]||(s[b]={}),s[b][c]===void 0?(y=t.vertices.length,t.vertices.push(o.v[x[0]].copy()),t.uvs.push(o.vt[x[1]]?o.vt[x[1]].slice():[0,0]),t.vertexNormals.push(o.vn[x[2]]?o.vn[x[2]].copy():new a.default.Vector),s[b][c]=y,g.push(y),c&&i[c]&&i[c].diffuseColor&&l.add(o.v[x[0]])):g.push(s[b][c])}if(g[0]!==g[1]&&g[0]!==g[2]&&g[1]!==g[2])if(t.faces.push(g),c&&i[c]&&i[c].diffuseColor)for(var u=u=!0,C=i[c].diffuseColor,w=0;w<g.length;w++)t.vertexColors.push(C[0]),t.vertexColors.push(C[1]),t.vertexColors.push(C[2]);else d=!0}}}if(t.vertexNormals.length===0&&t.computeNormals(),u===d)throw Error(`Model coloring is inconsistent. Either all vertices should have colors or none should.`)}function d(t,n){if(function(t){for(var n=new DataView(t),r=[115,111,108,105,100],i=0;i<5;i++)if(function(t,n,r){for(var i=0,a=t.length;i<a;i++)if(t[i]!==n.getUint8(r+i,!1))return;return 1}(r,n,i))return;return 1}(n)){for(var r,i,o,s,c,l,u,d=t,f=new DataView(n),p=f.getUint32(80,!0),m=!1,h=0;h<70;h++)f.getUint32(h,!1)===1129270351&&f.getUint8(h+4)===82&&f.getUint8(h+5)===61&&(m=!0,s=[],c=f.getUint8(h+6)/255,l=f.getUint8(h+7)/255,u=f.getUint8(h+8)/255);for(var g=0;g<p;g++){for(var _,v=84+50*g,y=f.getFloat32(v,!0),b=f.getFloat32(4+v,!0),x=f.getFloat32(8+v,!0),S=(m&&(_=f.getUint16(48+v,!0),o=32768&_?(r=c,i=l,u):(r=(31&_)/31,i=(_>>5&31)/31,(_>>10&31)/31)),new a.default.Vector(y,b,x)),C=1;C<=3;C++){var w=v+12*C,w=new a.default.Vector(f.getFloat32(w,!0),f.getFloat32(4+w,!0),f.getFloat32(8+w,!0));d.vertices.push(w),d.vertexNormals.push(S),m&&s.push(r,i,o)}d.faces.push([3*g,3*g+1,3*g+2]),d.uvs.push([0,0],[0,0],[0,0])}}else if(n=new DataView(n),`TextDecoder`in window)for(var T,E,D=t,O=new TextDecoder(`utf-8`).decode(n).split(`
`),k=``,A=[],j=0;j<O.length;++j){for(var M=O[j].trim(),N=M.split(` `),P=0;P<N.length;++P)N[P]===``&&N.splice(P,1);if(N.length!==0)switch(k){case``:if(N[0]!==`solid`)return void(console.error(M),console.error(`Invalid state "${N[0]}", should be "solid"`));k=`solid`;break;case`solid`:if(N[0]!==`facet`||N[1]!==`normal`)return void(console.error(M),console.error(`Invalid state "${N[0]}", should be "facet normal"`));T=new a.default.Vector(parseFloat(N[2]),parseFloat(N[3]),parseFloat(N[4])),D.vertexNormals.push(T,T,T),k=`facet normal`;break;case`facet normal`:if(N[0]!==`outer`||N[1]!==`loop`)return void(console.error(M),console.error(`Invalid state "${N[0]}", should be "outer loop"`));k=`vertex`;break;case`vertex`:if(N[0]===`vertex`)E=new a.default.Vector(parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])),D.vertices.push(E),D.uvs.push([0,0]),A.push(D.vertices.indexOf(E));else{if(N[0]!==`endloop`)return void(console.error(M),console.error(`Invalid state "${N[0]}", should be "vertex" or "endloop"`));D.faces.push(A),A=[],k=`endloop`}break;case`endloop`:if(N[0]!==`endfacet`)return void(console.error(M),console.error(`Invalid state "${N[0]}", should be "endfacet"`));k=`endfacet`;break;case`endfacet`:if(N[0]!==`endsolid`){if(N[0]!==`facet`||N[1]!==`normal`)return void(console.error(M),console.error(`Invalid state "${N[0]}", should be "endsolid" or "facet normal"`));T=new a.default.Vector(parseFloat(N[2]),parseFloat(N[3]),parseFloat(N[4])),D.vertexNormals.push(T,T,T),k=`facet normal`}break;default:console.error(`Invalid state "${k}"`)}}else console.warn(`Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)`)}t(`./p5.Geometry`),a.default.prototype.loadModel=function(t,n){a.default._validateParameters(`loadModel`,arguments);var r,i,s=!1,f=!1,p=!1,m=t.slice(-4),h=(n&&l(n)===`object`?(s=n.normalize||!1,r=n.successCallback,i=n.failureCallback,m=n.fileType||m,f=n.flipU||!1,p=n.flipV||!1):typeof n==`boolean`?(s=n,r=arguments[2],i=arguments[3],arguments[4]!==void 0&&(m=arguments[4])):(r=typeof n==`function`?n:void 0,i=arguments[2],arguments[3]!==void 0&&(m=arguments[3])),new a.default.Geometry),g=(h.gid=`${t}|${s}`,this);function _(){return(_=c(regeneratorRuntime.mark(function n(r){var i,a,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=[],a=0;a<r.length;a++)(s=r[a].match(/^mtllib (.+)/))&&function(){var n=``,r=s[1],a=t.split(`/`);n=1<a.length?(a.pop(),a.join(`/`)+`/`+r):r,i.push(function(){return v.apply(this,arguments)}(n).then(function(t){return t?(r=g,i=n,new Promise(function(t,n){var a=null,o={};r.loadStrings(i,function(n){for(var r=0;r<n.length;++r){var i,s=n[r].trim().split(/\s+/);s[0]===`newmtl`?(i=s[1],o[a=i]={}):s[0]===`Kd`?o[a].diffuseColor=[parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])]:s[0]===`Ka`?o[a].ambientColor=[parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])]:s[0]===`Ks`?o[a].specularColor=[parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])]:s[0]===`map_Kd`&&(o[a].texturePath=s[1])}t(o)},n)})):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${n}`),{});var r,i}).catch(function(t){return console.warn(`Error loading MTL file: ${n}`,t),{}}))}();return n.prev=2,n.next=5,Promise.all(i);case 5:return c=n.sent,c=Object.assign.apply(Object,[{}].concat(o(c))),n.abrupt(`return`,c);case 10:return n.prev=10,n.t0=n.catch(2),n.abrupt(`return`,{});case 13:case`end`:return n.stop()}},n,null,[[2,10]])}))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(n,{method:`HEAD`});case 3:return r=t.sent,t.abrupt(`return`,r.ok);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt(`return`,!1);case 10:case`end`:return t.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}return m.match(/\.stl$/i)?this.httpDo(t,`GET`,`arrayBuffer`,function(t){d(h,t),s&&h.normalize(),f&&h.flipU(),p&&h.flipV(),g._decrementPreload(),typeof r==`function`&&r(h)},i):m.match(/\.obj$/i)?this.loadStrings(t,function(){var t=c(regeneratorRuntime.mark(function t(n){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,function(){return _.apply(this,arguments)}(n);case 3:o=t.sent,u(h,n,o),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),i?i(t.t0):a.default._friendlyError(`Error during parsing: `+t.t0.message),t.abrupt(`return`);case 11:return t.prev=11,s&&h.normalize(),f&&h.flipU(),p&&h.flipV(),h._makeTriangleEdges(),g._decrementPreload(),typeof r==`function`&&r(h),t.finish(11);case 19:case`end`:return t.stop()}},t,null,[[0,7,11,19]])}));return function(n){return t.apply(this,arguments)}}(),i):(a.default._friendlyFileLoadError(3,t),i?i():a.default._friendlyError(`Sorry, the file type is invalid. Only OBJ and STL files are supported.`)),h},a.default.prototype.model=function(t){this._assert3d(`model`),a.default._validateParameters(`model`,arguments),0<t.vertices.length&&(this._renderer.geometryInHash(t.gid)||(t._edgesToVertices(),this._renderer.createBuffers(t.gid,t)),this._renderer.drawBuffers(t.gid))};var f=0,p=(a.default.prototype.createModel=function(t){var n,r,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:` `,o=2<arguments.length?arguments[2]:void 0,s=(a.default._validateParameters(`createModel`,arguments),!1),c=!1,p=!1,o=(o&&l(o)===`object`?(s=o.normalize||!1,n=o.successCallback,r=o.failureCallback,c=o.flipU||!1,p=o.flipV||!1):r=typeof o==`boolean`?(s=o,n=arguments[3],arguments[4]):(n=typeof arguments[2]==`function`?arguments[2]:void 0,arguments[3]),new a.default.Geometry);if(o.gid=`${i}|${s}|${f++}`,i.match(/\.stl$/i))try{d(o,new TextEncoder().encode(t).buffer)}catch(t){r?r(t):a.default._friendlyError(`Error during parsing: `+t.message);return}else if(i.match(/\.obj$/i))try{u(o,t.split(`
`))}catch(t){r?r(t):a.default._friendlyError(`Error during parsing: `+t.message);return}else a.default._friendlyFileLoadError(3,t),r?r():a.default._friendlyError(`Sorry, the file type is invalid. Only OBJ and STL files are supported.`);return s&&o.normalize(),c&&o.flipU(),p&&o.flipV(),o._makeTriangleEdges(),typeof n==`function`&&n(o),o},a.default);r.default=p},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.join`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(l=t(`../core/main`))&&l.__esModule?l:{default:l},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}t(`./p5.Texture`),o.default.prototype.loadShader=function(t,n,r,i){o.default._validateParameters(`loadShader`,arguments),i||=console.error;function a(){c._decrementPreload(),r&&r(s)}var s=new o.default.Shader,c=this,l=!1,u=!1;return this.loadStrings(t,function(t){s._vertSrc=t.join(`
`),u=!0,l&&a()},i),this.loadStrings(n,function(t){s._fragSrc=t.join(`
`),l=!0,u&&a()},i),s},o.default.prototype.createShader=function(t,n,r){return o.default._validateParameters(`createShader`,arguments),new o.default.Shader(this._renderer,t,n,r)},o.default.prototype.createFilterShader=function(t){o.default._validateParameters(`createFilterShader`,arguments);var n=t.includes(`#version 300 es`)?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,n=new o.default.Shader(this._renderer,n,t);return this._renderer.GL?n.ensureCompiledOnContext(this):n.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),n},o.default.prototype.shader=function(t){return this._assert3d(`shader`),o.default._validateParameters(`shader`,arguments),t.ensureCompiledOnContext(this),t.isStrokeShader()?this._renderer.userStrokeShader=t:(this._renderer.userFillShader=t,this._renderer._useNormalMaterial=!1),t.setDefaultUniforms(),this},o.default.prototype.baseMaterialShader=function(){return this._assert3d(`baseMaterialShader`),this._renderer.baseMaterialShader()},o.default.prototype.baseNormalShader=function(){return this._assert3d(`baseNormalShader`),this._renderer.baseNormalShader()},o.default.prototype.baseColorShader=function(){return this._assert3d(`baseColorShader`),this._renderer.baseColorShader()},o.default.prototype.baseStrokeShader=function(){return this._assert3d(`baseStrokeShader`),this._renderer.baseStrokeShader()},o.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},o.default.prototype.texture=function(t){return this._assert3d(`texture`),o.default._validateParameters(`texture`,arguments),t.gifProperties&&t._animateGif(this),this._renderer.drawMode=s.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=t,this._renderer._setProperty(`_doFill`,!0),this},o.default.prototype.textureMode=function(t){t!==s.IMAGE&&t!==s.NORMAL?console.warn(`You tried to set ${t} textureMode only supports IMAGE & NORMAL `):this._renderer.textureMode=t},o.default.prototype.textureWrap=function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:t,r=(this._renderer.textureWrapX=t,this._renderer.textureWrapY=n,!0),i=!1,a=void 0;try{for(var o,s=this._renderer.textures.values()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)o.value.setWrapMode(t,n)}catch(t){i=!0,a=t}finally{try{r||s.return==null||s.return()}finally{if(i)throw a}}},o.default.prototype.normalMaterial=function(){this._assert3d(`normalMaterial`);var t=[...arguments];return o.default._validateParameters(`normalMaterial`,t),this._renderer.drawMode=s.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty(`_doFill`,!0),this.noStroke(),this},o.default.prototype.ambientMaterial=function(t,n,r){this._assert3d(`ambientMaterial`),o.default._validateParameters(`ambientMaterial`,arguments);var i=o.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=i._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty(`_doFill`,!0),this},o.default.prototype.emissiveMaterial=function(t,n,r,i){this._assert3d(`emissiveMaterial`),o.default._validateParameters(`emissiveMaterial`,arguments);var a=o.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=a._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},o.default.prototype.specularMaterial=function(t,n,r,i){this._assert3d(`specularMaterial`),o.default._validateParameters(`specularMaterial`,arguments);var a=o.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=a._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},o.default.prototype.shininess=function(t){return this._assert3d(`shininess`),o.default._validateParameters(`shininess`,arguments),this._renderer._useShininess=t=t<1?1:t,this},o.default.prototype.metalness=function(t){return this._assert3d(`metalness`),t=1-Math.exp(-t/100),this._renderer._useMetalness=t,this},o.default.RendererGL.prototype._applyColorBlend=function(t,n){var r=this.GL,i=this.drawMode===s.TEXTURE,n=n||this.userFillShader||this.userStrokeShader||this.userPointShader||i||this.curBlendMode!==s.BLEND||t[t.length-1]<1||this._isErasing;return n!==this._isBlending&&(n||this.curBlendMode!==s.BLEND&&this.curBlendMode!==s.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=n),this._applyBlendMode(),t},o.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var t=this.GL;switch(this.curBlendMode){case s.BLEND:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case s.ADD:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE);break;case s.REMOVE:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_ALPHA);break;case s.MULTIPLY:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA);break;case s.SCREEN:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_COLOR);break;case s.EXCLUSION:t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE_MINUS_DST_COLOR,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE);break;case s.REPLACE:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO);break;case s.SUBTRACT:t.blendEquationSeparate(t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case s.DARKEST:this.blendExt?(t.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):console.warn(`blendMode(DARKEST) does not work in your browser in WEBGL mode.`);break;case s.LIGHTEST:this.blendExt?(t.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):console.warn(`blendMode(LIGHTEST) does not work in your browser in WEBGL mode.`);break;default:console.error(`Oops! Somehow RendererGL set curBlendMode to an unsupported mode.`)}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var l=o.default;r.default=l},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,n,r){t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.string.sub`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.hypot`),t(`core-js/modules/es.string.sub`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i.default.prototype.camera=function(){var t;this._assert3d(`camera`);var n=[...arguments];return i.default._validateParameters(`camera`,n),(t=this._renderer._curCamera).camera.apply(t,n),this},i.default.prototype.perspective=function(){var t;this._assert3d(`perspective`);var n=[...arguments];return i.default._validateParameters(`perspective`,n),(t=this._renderer._curCamera).perspective.apply(t,n),this},i.default.prototype.linePerspective=function(t){if(i.default._validateParameters(`linePerspective`,arguments),!(this._renderer instanceof i.default.RendererGL))throw Error(`linePerspective() must be called in WebGL mode.`);if(t===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=t},i.default.prototype.ortho=function(){var t;this._assert3d(`ortho`);var n=[...arguments];return i.default._validateParameters(`ortho`,n),(t=this._renderer._curCamera).ortho.apply(t,n),this},i.default.prototype.frustum=function(){var t;this._assert3d(`frustum`);var n=[...arguments];return i.default._validateParameters(`frustum`,n),(t=this._renderer._curCamera).frustum.apply(t,n),this},i.default.prototype.createCamera=function(){this._assert3d(`createCamera`);var t=new i.default.Camera(this._renderer);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),this._renderer._curCamera=t},i.default.Camera=function(){function t(n){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this._renderer=n,this.cameraType=`default`,this.useLinePerspective=!0,this.cameraMatrix=new i.default.Matrix,this.projMatrix=new i.default.Matrix,this.yScale=1}var n,r,o;return n=t,(r=[{key:`perspective`,value:function(t,n,r,a){this.cameraType=0<arguments.length?`custom`:`default`,t===void 0?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),n===void 0&&(n=this.defaultAspectRatio),r===void 0&&(r=this.defaultCameraNear),a===void 0&&(a=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log(`Avoid perspective near plane values close to or below 0. Setting value to 0.01.`)),a<r&&console.log(`Perspective far plane value is less than near plane value. Nothing will be shown.`),this.aspectRatio=n,this.cameraNear=r,this.cameraFar=a,this.projMatrix=i.default.Matrix.identity();var t=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(t/n,0,0,0,0,-t*this.yScale,0,0,0,0,(a+r)*o,-1,0,0,2*a*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:`ortho`,value:function(t,n,r,a,o,s){var c=this.fbo||this._renderer,c=(t===void 0&&(t=-c.width/2),n===void 0&&(n=c.width/2),r===void 0&&(r=-c.height/2),a===void 0&&(a=c.height/2),o===void 0&&(o=0),s===void 0&&(s=Math.max(c.width,c.height)+800),this.cameraNear=o,n-t),l=a-r,u=(this.cameraFar=s)-o,d=2/c,f=2/l*this.yScale,p=-2/u,n=-(n+t)/c,t=-(a+r)/l,c=-(s+o)/u;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(d,0,0,0,0,-f,0,0,0,0,p,0,n,t,c,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType=`custom`}},{key:`frustum`,value:function(t,n,r,a,o,s){t===void 0&&(t=.05*-this._renderer.width),n===void 0&&(n=.05*this._renderer.width),r===void 0&&(r=.05*this._renderer.height),a===void 0&&(a=.05*-this._renderer.height),o===void 0&&(o=this.defaultCameraNear),s===void 0&&(s=this.defaultCameraFar),this.cameraNear=o;var c=n-t,l=a-r,u=(this.cameraFar=s)-o,d=2*o/c,f=2*o/l*this.yScale,p=-2*s*o/u,n=(n+t)/c,t=(a+r)/l,c=-(s+o)/u;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(d,0,0,0,0,-f,0,0,n,t,c,-1,0,0,p,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType=`custom`}},{key:`_rotateView`,value:function(t,n,r,a){var o=this.centerX,s=this.centerY,c=this.centerZ,l=(o-=this.eyeX,s-=this.eyeY,c-=this.eyeZ,i.default.Matrix.identity(this._renderer._pInst)),t=(l.rotate(this._renderer._pInst._toRadians(t),n,r,a),[o*l.mat4[0]+s*l.mat4[4]+c*l.mat4[8],o*l.mat4[1]+s*l.mat4[5]+c*l.mat4[9],o*l.mat4[2]+s*l.mat4[6]+c*l.mat4[10]]),n=(t[0]+=this.eyeX,t[1]+=this.eyeY,t[2]+=this.eyeZ,this.upX*l.mat4[0]+this.upY*l.mat4[4]+this.upZ*l.mat4[8]),r=this.upX*l.mat4[1]+this.upY*l.mat4[5]+this.upZ*l.mat4[9],a=this.upX*l.mat4[2]+this.upY*l.mat4[6]+this.upZ*l.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,t[0],t[1],t[2],n,r,a)}},{key:`roll`,value:function(t){var n=this._getLocalAxes(),t=i.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(t),n.z[0],n.z[1],n.z[2]).rotateVector(new i.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,t.x,t.y,t.z)}},{key:`pan`,value:function(t){var n=this._getLocalAxes();this._rotateView(t,n.y[0],n.y[1],n.y[2])}},{key:`tilt`,value:function(t){var n=this._getLocalAxes();this._rotateView(t,n.x[0],n.x[1],n.x[2])}},{key:`lookAt`,value:function(t,n,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,n,r,this.upX,this.upY,this.upZ)}},{key:`camera`,value:function(t,n,r,i,a,o,s,c,l){return t===void 0&&(t=this.defaultEyeX,n=this.defaultEyeY,r=this.defaultEyeZ,i=t,a=n,c=1,l=s=o=0),this.eyeX=t,this.eyeY=n,this.eyeZ=r,i!==void 0&&(this.centerX=i,this.centerY=a,this.centerZ=o),s!==void 0&&(this.upX=s,this.upY=c,this.upZ=l),i=this._getLocalAxes(),this.cameraMatrix.set(i.x[0],i.y[0],i.z[0],0,i.x[1],i.y[1],i.z[1],0,i.x[2],i.y[2],i.z[2],0,0,0,0,1),a=-t,this.cameraMatrix.translate([a,-n,-r]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:`move`,value:function(t,n,r){var i=this._getLocalAxes(),t=[i.x[0]*t,i.x[1]*t,i.x[2]*t],n=[i.y[0]*n,i.y[1]*n,i.y[2]*n],i=[i.z[0]*r,i.z[1]*r,i.z[2]*r];this.camera(this.eyeX+t[0]+n[0]+i[0],this.eyeY+t[1]+n[1]+i[1],this.eyeZ+t[2]+n[2]+i[2],this.centerX+t[0]+n[0]+i[0],this.centerY+t[1]+n[1]+i[1],this.centerZ+t[2]+n[2]+i[2],this.upX,this.upY,this.upZ)}},{key:`setPosition`,value:function(t,n,r){var i=t-this.eyeX,a=n-this.eyeY,o=r-this.eyeZ;this.camera(t,n,r,this.centerX+i,this.centerY+a,this.centerZ+o,this.upX,this.upY,this.upZ)}},{key:`set`,value:function(t){for(var n=0,r=[`eyeX`,`eyeY`,`eyeZ`,`centerX`,`centerY`,`centerZ`,`upX`,`upY`,`upZ`,`cameraFOV`,`aspectRatio`,`cameraNear`,`cameraFar`,`cameraType`,`yScale`,`useLinePerspective`];n<r.length;n++){var i=r[n];this[i]=t[i]}this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:`slerp`,value:function(t,n,r){var a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S;r===0?this.set(t):r===1?this.set(n):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=t.projMatrix.mat4[0]*(n.projMatrix.mat4[0]/t.projMatrix.mat4[0])**+r,this.projMatrix.mat4[5]=t.projMatrix.mat4[5]*(n.projMatrix.mat4[5]/t.projMatrix.mat4[5])**+r,this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),c=new i.default.Vector(t.eyeX,t.eyeY,t.eyeZ),l=new i.default.Vector(n.eyeX,n.eyeY,n.eyeZ),b=new i.default.Vector(t.centerX,t.centerY,t.centerZ),S=new i.default.Vector(n.centerX,n.centerY,n.centerZ),s=i.default.Vector.dist(c,b),a=i.default.Vector.dist(l,S),a=s*(a/s)**+r,s=i.default.Vector.sub(c,l),o=1,1e-6<(x=(v=c.copy().sub(l).sub(b).add(S)).magSq())&&(o=i.default.Vector.dot(s,v)/x,o=Math.max(0,Math.min(o,1))),s=i.default.Vector.lerp(i.default.Vector.lerp(c,b,o),i.default.Vector.lerp(l,S,o),r),v=t.cameraMatrix.createSubMatrix3x3(),x=n.cameraMatrix.createSubMatrix3x3(),c=v.row(2),b=x.row(2),l=v.row(1),S=x.row(1),t=new i.default.Vector,n=new i.default.Vector,u=new i.default.Vector,d=new i.default.Vector,1-(f=.5*((v=(x=x.mult3x3(v.copy().transpose3x3())).diagonal())[0]+v[1]+v[2]-1))<1e-7?(t.set(i.default.Vector.lerp(c,b,r)).normalize(),u.set(t).mult(o*a).add(s),d.set(t).mult((o-1)*a).add(s),n.set(i.default.Vector.lerp(l,S,r)).normalize()):(b=1/(1-f),S=Math.max(v[0],v[1],v[2]),g=x.mat3[1]+x.mat3[3],_=x.mat3[2]+x.mat3[6],y=x.mat3[5]+x.mat3[7],S=S===v[0]?(m=.5*g*(b/=p=Math.sqrt((v[0]-f)*b)),h=.5*_*b,.5*(x.mat3[7]-x.mat3[5])/p):S===v[1]?(h=.5*y*(b/=m=Math.sqrt((v[1]-f)*b)),p=.5*g*b,.5*(x.mat3[2]-x.mat3[6])/m):(p=.5*_*(b/=h=Math.sqrt((v[2]-f)*b)),m=.5*y*b,.5*(x.mat3[3]-x.mat3[1])/h),g=r*Math.atan2(S,f),_=Math.cos(g),v=Math.sin(g),(S=new i.default.Matrix(`mat3`,[_+(y=1-_)*p*p,y*(b=p*m)+v*h,y*(x=h*p)-v*m,y*b-v*h,_+y*m*m,y*(r=m*h)+v*p,y*x+v*m,y*r-v*p,_+y*h*h])).multiplyVec3(c,t),u.set(t).mult(o*a).add(s),d.set(t).mult((o-1)*a).add(s),S.multiplyVec3(l,n)),this.camera(u.x,u.y,u.z,d.x,d.y,d.z,n.x,n.y,n.z))}},{key:`_computeCameraDefaultSettings`,value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:`_setDefaultCamera`,value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType=`default`}},{key:`_resize`,value:function(){this.cameraType===`default`&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:`copy`,value:function(){var t=new i.default.Camera(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t}},{key:`_getLocalAxes`,value:function(){var t=this.eyeX-this.centerX,n=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,i=Math.sqrt(t*t+n*n+r*r),i=(i!==0&&(t/=i,n/=i,r/=i),this.upX),a=(c=this.upY)*r-(l=this.upZ)*n,o=-i*r+l*t,s=i*n-c*t,i=n*s-r*o,c=-t*s+r*a,l=t*o-n*a,u=Math.sqrt(a*a+o*o+s*s),u=(u!==0&&(a/=u,o/=u,s/=u),Math.sqrt(i*i+c*c+l*l));return u!==0&&(i/=u,c/=u,l/=u),{x:[a,o,s],y:[i,c,l],z:[t,n,r]}}},{key:`_orbit`,value:function(t,n,r){var a=this.eyeX-this.centerX,o=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,c=Math.hypot(a,o,s),a=new i.default.Vector(a,o,s).normalize(),o=new i.default.Vector(this.upX,this.upY,this.upZ).normalize(),s=i.default.Vector.cross(o,a).normalize(),l=i.default.Vector.cross(s,o),r=((c=(c*=10**r)<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,i.default.Vector.dot(a,o))))+n),n=t;(r<=0||r>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),o.mult(Math.cos(r)),l.mult(Math.cos(n)*Math.sin(r)),s.mult(Math.sin(n)*Math.sin(r)),a.set(o).add(l).add(s),this.eyeX=c*a.x+this.centerX,this.eyeY=c*a.y+this.centerY,this.eyeZ=c*a.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:`_orbitFree`,value:function(t,n,r){var a=this.eyeX-this.centerX,o=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,c=Math.hypot(a,o,s),a=new i.default.Vector(a,o,s).normalize(),o=new i.default.Vector(this.upX,this.upY,this.upZ),s=i.default.Vector.cross(o,a).normalize(),l=i.default.Vector.cross(a,s),u=Math.atan2(n,t),u=(l.mult(Math.sin(u)),s.mult(Math.cos(u)).add(l),Math.sqrt(t*t+n*n)),l=i.default.Vector.cross(a,s),t=((c=(c*=10**r)<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),Math.cos(u)),n=Math.sin(u),r=o.dot(a),u=o.dot(s),d=r*t+u*n,r=-r*n+u*t,u=o.dot(l);o.x=d*a.x+r*s.x+u*l.x,o.y=d*a.y+r*s.y+u*l.y,o.z=d*a.z+r*s.z+u*l.z,s.mult(-n),a.mult(t).add(s).mult(c),this.camera(a.x+this.centerX,a.y+this.centerY,a.z+this.centerZ,this.centerX,this.centerY,this.centerZ,o.x,o.y,o.z)}},{key:`_isActive`,value:function(){return this===this._renderer._curCamera}}])&&a(n.prototype,r),o&&a(n,o),t}(),i.default.prototype.setCamera=function(t){this._renderer._curCamera=t,this._renderer.uPMatrix.set(t.projMatrix),this._renderer.uViewMatrix.set(t.cameraMatrix)},t=i.default.Camera,r.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,n,r){t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.log2`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.math.log2`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function i(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.default.DataArray=function(){function t(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128;if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.length=0,this.data=new Float32Array(n),this.initialLength=n}var n,r,a;return n=t,(r=[{key:`dataArray`,value:function(){return this.subArray(0,this.length)}},{key:`clear`,value:function(){this.length=0}},{key:`rescale`,value:function(){var t;this.length<this.data.length/2&&(t=1<<Math.ceil(Math.log2(this.length)),(t=new Float32Array(t)).set(this.data.subarray(0,this.length),0),this.data=t)}},{key:`reset`,value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:`push`,value:function(){var t=[...arguments];this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}},{key:`slice`,value:function(t,n){return this.data.slice(t,Math.min(n,this.length))}},{key:`subArray`,value:function(t,n){return this.data.subarray(t,Math.min(n,this.length))}},{key:`ensureLength`,value:function(t){for(;this.data.length<t;){var n=new Float32Array(2*this.data.length);n.set(this.data,0),this.data=n}}}])&&i(n.prototype,r),a&&i(n,a),t}(),t=t.default.DataArray,r.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.reflect.get`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint8-clamped-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint8-clamped-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(S=t(`../core/main`))&&S.__esModule?S:{default:S},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=u();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`)),c=t(`./p5.Texture`),l=t(`./p5.RendererGL`);function u(){var t;return typeof WeakMap==`function`?(t=new WeakMap,u=function(){return t},t):null}function d(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`){var r=[],i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done)&&(r.push(s.value),!n||r.length!==n);i=!0);}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return r}}(t,n)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance`)}()}function f(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function p(t,n){if(!(t instanceof n))throw TypeError(`Cannot call a class as a function`)}function m(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,n,r){n&&m(t.prototype,n),r&&m(t,r)}function g(t,n,r){return(g=typeof Reflect<`u`&&Reflect.get?Reflect.get:function(t,n,r){var t=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&(t=y(t))!==null;);return t}(t,n);if(t)return(t=Object.getOwnPropertyDescriptor(t,n)).get?t.get.call(r):t.value})(t,n,r||t)}function _(t,n){return(_=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function v(t){return function(){var n,r=y(t),r=(n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),this);if(!n||a(n)!==`object`&&typeof n!=`function`){if(r!==void 0)return r;throw ReferenceError(`this hasn't been initialised - super() hasn't been called`)}return n}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){var n=i;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&_(n,t);var r=v(i);function i(t){var n;return p(this,i),(n=r.call(this,t.target._renderer)).fbo=t,n.yScale=-1,n}return h(i,[{key:`_computeCameraDefaultSettings`,value:function(){g(y(i.prototype),`_computeCameraDefaultSettings`,this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),i}(o.default.Camera),x=(o.default.FramebufferCamera=b,function(){function t(n,r){p(this,t),this.framebuffer=n,this.property=r}return h(t,[{key:`rawTexture`,value:function(){return this.framebuffer[this.property]}},{key:`width`,get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:`height`,get:function(){return this.framebuffer.height*this.framebuffer.density}}]),t}()),S=(o.default.FramebufferTexture=x,function(){function t(n){var r=this,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=(p(this,t),this.target=n,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=i.format||s.UNSIGNED_BYTE,this.channels=i.channels||(n._renderer._pInst._glAttributes.alpha?s.RGBA:s.RGB),this.useDepth=i.depth===void 0||i.depth,this.depthFormat=i.depthFormat||s.FLOAT,this.textureFiltering=i.textureFiltering||s.LINEAR,i.antialias===void 0?this.antialiasSamples=n._renderer._pInst._glAttributes.antialias?2:0:typeof i.antialias==`number`?this.antialiasSamples=i.antialias:this.antialiasSamples=i.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&n.webglVersion!==s.WEBGL2&&(console.warn(`Antialiasing is unsupported in a WebGL 1 context`),this.antialias=!1),this.density=i.density||n.pixelDensity(),n._renderer.GL);if(this.gl=a,i.width&&i.height?(o=n._renderer._adjustDimensions(i.width,i.height),this.width=o.adjustedWidth,this.height=o.adjustedHeight,this._autoSized=!1):(i.width===void 0!=(i.height===void 0)&&console.warn(`Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas.`),this.width=n.width,this.height=n.height,this._autoSized=!0),this._checkIfFormatsAvailable(),i.stencil&&!this.useDepth&&console.warn(`A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored.`),this.useStencil=this.useDepth&&(i.stencil===void 0||i.stencil),this.framebuffer=a.createFramebuffer(),!this.framebuffer)throw Error(`Unable to create a framebuffer`);if(this.antialias&&(this.aaFramebuffer=a.createFramebuffer(),!this.aaFramebuffer))throw Error(`Unable to create a framebuffer for antialiasing`);this._recreateTextures();var o=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=o,this.draw(function(){return r.target.clear()})}return h(t,[{key:`resize`,value:function(t,n){this._autoSized=!1;var r=this.target._renderer._adjustDimensions(t,n);t=r.adjustedWidth,n=r.adjustedHeight,this.width=t,this.height=n,this._handleResize()}},{key:`pixelDensity`,value:function(t){if(!t)return this.density;this._autoSized=!1,this.density=t,this._handleResize()}},{key:`autoSized`,value:function(t){if(t===void 0)return this._autoSized;this._autoSized=t,this._handleResize()}},{key:`_checkIfFormatsAvailable`,value:function(){var t=this.gl,t=(this.useDepth&&this.target.webglVersion===s.WEBGL&&!t.getExtension(`WEBGL_depth_texture`)&&(console.warn(`Unable to create depth textures in this environment. Falling back to a framebuffer without depth.`),this.useDepth=!1),this.useDepth&&this.target.webglVersion===s.WEBGL&&this.depthFormat===s.FLOAT&&(console.warn(`FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT.`),this.depthFormat=s.UNSIGNED_INT),[s.UNSIGNED_BYTE,s.FLOAT,s.HALF_FLOAT].includes(this.format)||(console.warn(`Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE.`),this.format=s.UNSIGNED_BYTE),this.useDepth&&![s.UNSIGNED_INT,s.FLOAT].includes(this.depthFormat)&&(console.warn(`Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT.`),this.depthFormat=s.FLOAT),(0,c.checkWebGLCapabilities)(this.target._renderer));t.float||this.format!==s.FLOAT||(console.warn(`This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE.`),this.format=s.UNSIGNED_BYTE),this.useDepth&&!t.float&&this.depthFormat===s.FLOAT&&(console.warn(`This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT.`),this.depthFormat=s.UNSIGNED_INT),t.halfFloat||this.format!==s.HALF_FLOAT||(console.warn(`This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE.`),this.format=s.UNSIGNED_BYTE),this.channels===s.RGB&&[s.FLOAT,s.HALF_FLOAT].includes(this.format)&&(console.warn(`FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA.`),this.channels=s.RGBA)}},{key:`_recreateTextures`,value:function(){var t=this.gl,n=(this._updateSize(),t.getParameter(t.TEXTURE_BINDING_2D)),r=t.getParameter(t.FRAMEBUFFER_BINDING),i=t.createTexture();if(!i)throw Error(`Unable to create color texture`);t.bindTexture(t.TEXTURE_2D,i);var a=this._glColorFormat();if(t.texImage2D(t.TEXTURE_2D,0,a.internalFormat,this.width*this.density,this.height*this.density,0,a.format,a.type,null),this.colorTexture=i,t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),this.useDepth){var i=t.createTexture();if(!i)throw Error(`Unable to create depth texture`);var c=this._glDepthFormat();t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,c.internalFormat,this.width*this.density,this.height*this.density,0,c.format,c.type,null),t.framebufferTexture2D(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0),this.depthTexture=i}this.antialias&&(this.colorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.colorRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),a.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(c=this._glDepthFormat(),this.depthRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),c.internalFormat,this.width*this.density,this.height*this.density)),t.bindFramebuffer(t.FRAMEBUFFER,this.aaFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&t.framebufferRenderbuffer(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new x(this,`depthTexture`),i=t.NEAREST,this.depthP5Texture=new o.default.Texture(this.target._renderer,this.depth,{minFilter:i,magFilter:i}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new x(this,`colorTexture`),a=this.textureFiltering===s.LINEAR?t.LINEAR:t.NEAREST,this.colorP5Texture=new o.default.Texture(this.target._renderer,this.color,{minFilter:a,magFilter:a}),this.target._renderer.textures.set(this.color,this.colorP5Texture),t.bindTexture(t.TEXTURE_2D,n),t.bindFramebuffer(t.FRAMEBUFFER,r)}},{key:`_glColorFormat`,value:function(){var t,n,r=this.gl,i=this.format===s.FLOAT?r.FLOAT:this.format===s.HALF_FLOAT?this.target.webglVersion===s.WEBGL2?r.HALF_FLOAT:r.getExtension(`OES_texture_half_float`).HALF_FLOAT_OES:r.UNSIGNED_BYTE,a=this.channels===s.RGBA?r.RGBA:r.RGB;return{internalFormat:this.target.webglVersion===s.WEBGL2?(f(n={},r.FLOAT,f({},r.RGBA,r.RGBA32F)),f(n,r.HALF_FLOAT,f({},r.RGBA,r.RGBA16F)),f(n,r.UNSIGNED_BYTE,(f(t={},r.RGBA,r.RGBA8),f(t,r.RGB,r.RGB8),t)),n[i][a]):this.format===s.HALF_FLOAT?r.RGBA:a,format:a,type:i}}},{key:`_glDepthFormat`,value:function(){var t=this.gl,n=this.useStencil?this.depthFormat===s.FLOAT?t.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===s.WEBGL2?t.UNSIGNED_INT_24_8:t.getExtension(`WEBGL_depth_texture`).UNSIGNED_INT_24_8_WEBGL:this.depthFormat===s.FLOAT?t.FLOAT:t.UNSIGNED_INT,r=this.useStencil?t.DEPTH_STENCIL:t.DEPTH_COMPONENT,t=this.useStencil?this.depthFormat===s.FLOAT?t.DEPTH32F_STENCIL8:this.target.webglVersion===s.WEBGL2?t.DEPTH24_STENCIL8:t.DEPTH_STENCIL:this.target.webglVersion===s.WEBGL2?this.depthFormat===s.FLOAT?t.DEPTH_COMPONENT32F:t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT;return{internalFormat:t,format:r,type:n}}},{key:`_updateSize`,value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:`_canvasSizeChanged`,value:function(){this._autoSized&&this._handleResize()}},{key:`_handleResize`,value:function(){var t=this.color,n=this.depth,r=this.colorRenderbuffer,i=this.depthRenderbuffer,t=(this._deleteTexture(t),n&&this._deleteTexture(n),this.gl);r&&t.deleteRenderbuffer(r),i&&t.deleteRenderbuffer(i),this._recreateTextures(),this.defaultCamera._resize()}},{key:`createCamera`,value:function(){var t=new b(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),this.target._renderer._curCamera=t}},{key:`_deleteTexture`,value:function(t){this.gl.deleteTexture(t.rawTexture()),this.target._renderer.textures.delete(t)}},{key:`remove`,value:function(){var t=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),t.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&t.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&t.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&t.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:`begin`,value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:`_framebufferToBind`,value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:`_beforeBegin`,value:function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:`_beforeEnd`,value:function(){if(this.antialias){var t=this.gl,n=(t.bindFramebuffer(t.READ_FRAMEBUFFER,this.aaFramebuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,this.framebuffer),[[t.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&n.push([t.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var r=0,i=n;r<i.length;r++){var a=d(i[r],2),o=a[0],a=a[1];t.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,o,a)}}}},{key:`end`,value:function(){var t=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw Error(`It looks like you've called end() while another Framebuffer is active.`);this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(t.bindFramebuffer(t.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:`draw`,value:function(t){this.begin(),t(),this.end()}},{key:`loadPixels`,value:function(){var t=this.gl,n=this.target._renderer.activeFramebuffer(),r=(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,l.readPixelsWebGL)(this.pixels,t,this.framebuffer,0,0,this.width*this.density,this.height*this.density,r.format,r.type),n?t.bindFramebuffer(t.FRAMEBUFFER,n._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:`get`,value:function(t,n,r,i){o.default._validateParameters(`p5.Framebuffer.get`,arguments);var a=this._glColorFormat();if(t===void 0&&n===void 0)n=t=0,r=this.width,i=this.height;else if(r===void 0&&i===void 0)return(t<0||n<0||t>=this.width||n>=this.height)&&(console.warn(`The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped.`),t=this.target.constrain(t,0,this.width-1),n=this.target.constrain(n,0,this.height-1)),(0,l.readPixelWebGL)(this.gl,this.framebuffer,t*this.density,n*this.density,a.format,a.type);t=this.target.constrain(t,0,this.width-1),n=this.target.constrain(n,0,this.height-1),r=this.target.constrain(r,1,this.width-t),i=this.target.constrain(i,1,this.height-n);for(var s=(0,l.readPixelsWebGL)(void 0,this.gl,this.framebuffer,t*this.density,n*this.density,r*this.density,i*this.density,a.format,a.type),c=new Uint8ClampedArray(r*i*this.density*this.density*4),u=(c.fill(255),a.type===this.gl.RGB?3:4),d=0;d<i*this.density;d++)for(var f=0;f<r*this.density;f++)for(var p=0;p<4;p++){var m,h=4*(d*r*this.density+f)+p;p<u&&(m=u==4?h:(d*r*this.density+f)*u+p,c[h]=s[m])}return t=new o.default.Image(r*this.density,i*this.density),t.imageData=t.canvas.getContext(`2d`).createImageData(t.width,t.height),t.imageData.data.set(c),t.pixels=t.imageData.data,t.updatePixels(),this.density!==1&&t.resize(r,i),t}},{key:`updatePixels`,value:function(){var t=this.gl,n=(this.colorP5Texture.bindTexture(),this._glColorFormat()),r=n.format===t.RGBA?4:3,r=this.width*this.height*this.density*this.density*r,i=n.type===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof i)||this.pixels.length!==r)throw Error(`The pixels array has not been set correctly. Please call loadPixels() before updatePixels().`);t.texImage2D(t.TEXTURE_2D,0,n.internalFormat,this.width*this.density,this.height*this.density,0,n.format,n.type,this.pixels),this.colorP5Texture.unbindTexture(),i=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),this.end()):(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),i?t.bindFramebuffer(t.FRAMEBUFFER,i._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null))}}]),t}()),t=o.default.Framebuffer=S;r.default=t},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.flat`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.unscopables.flat`),t(`core-js/modules/es.array-buffer.constructor`),t(`core-js/modules/es.map`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.entries`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.sub`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.flat`),t(`core-js/modules/es.array.for-each`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.last-index-of`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.unscopables.flat`),t(`core-js/modules/es.array-buffer.constructor`),t(`core-js/modules/es.map`),t(`core-js/modules/es.number.constructor`),t(`core-js/modules/es.object.entries`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.sub`),t(`core-js/modules/web.dom-collections.for-each`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(f=t(`../core/main`))&&f.__esModule?f:{default:f},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}function u(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`){var r=[],i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done)&&(r.push(s.value),!n||r.length!==n);i=!0);}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return r}}(t,n)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance`)}()}function d(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}o.default.Geometry=function(){function t(n,r,i){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new o.default.DataArray,this.lineTangentsIn=new o.default.DataArray,this.lineTangentsOut=new o.default.DataArray,this.lineSides=new o.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new o.default.DataArray,this.detailX=n===void 0?1:n,this.detailY=r===void 0?1:r,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,i instanceof Function&&i.call(this)}var n,r,i;return n=t,(r=[{key:`calculateBoundingBox`,value:function(){if(!this.boundingBoxCache){for(var t=new o.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=new o.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),r=0;r<this.vertices.length;r++){var i=this.vertices[r];t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),t.z=Math.min(t.z,i.z),n.x=Math.max(n.x,i.x),n.y=Math.max(n.y,i.y),n.z=Math.max(n.z,i.z)}var a=new o.default.Vector(n.x-t.x,n.y-t.y,n.z-t.z),s=new o.default.Vector((t.x+n.x)/2,(t.y+n.y)/2,(t.z+n.z)/2);this.boundingBoxCache={min:t,max:n,size:a,offset:s}}return this.boundingBoxCache}},{key:`reset`,value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:`hasFillTransparency`,value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var t=0;t<this.vertexColors.length;t+=4)if(this.vertexColors[t+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:`hasStrokeTransparency`,value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var t=0;t<this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:`clearColors`,value:function(){return this.vertexColors=[],this}},{key:`saveObj`,value:function(){var t=this,n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:`model.obj`,r=``;if(this.vertices.forEach(function(t){r+=`v ${t.x} ${t.y} ${t.z}
`}),this.uvs&&0<this.uvs.length)for(var i=0;i<this.uvs.length;i+=2)r+=`vt ${this.uvs[i]} ${this.uvs[i+1]}
`;this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(t){r+=`vn ${t.x} ${t.y} ${t.z}
`}),this.faces.forEach(function(n){var i=`f`;n.forEach(function(n){i=i+` `+(n+1),(0<t.vertexNormals.length||0<t.uvs.length)&&(i+=`/`,0<t.uvs.length&&(i+=n+1),i+=`/`,0<t.vertexNormals.length&&(i+=n+1))}),r+=i+`
`});var a=new Blob([r],{type:`text/plain`});o.default.prototype.downloadFile(a,n,`obj`)}},{key:`saveStl`,value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:`model.stl`,n=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,n=n!==void 0&&n,r=t.substring(0,t.lastIndexOf(`.`)),i=[],a=!0,s=!1,c=void 0;try{for(var l,d=this.faces[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var f=l.value,p=o.default.Vector.sub(this.vertices[f[1]],this.vertices[f[0]]),m=o.default.Vector.sub(this.vertices[f[2]],this.vertices[f[0]]),h=p.y*m.z-p.z*m.y,g=p.z*m.x-p.x*m.z,_=p.x*m.y-p.y*m.x;i.push(new o.default.Vector(h,g,_).normalize())}}catch(t){s=!0,c=t}finally{try{a||d.return==null||d.return()}finally{if(s)throw c}}if(n){var v,y=80,s=2*this.faces.length+3*this.faces.length*4*4+80+4,c=new ArrayBuffer(s);(v=new DataView(c)).setUint32(y,this.faces.length,!0),y+=4;for(var b=0,x=Object.entries(this.faces);b<x.length;b++){var S=u(x[b],2),C=S[0],S=S[1],C=i[C],w=(v.setFloat32(y,C.x,!0),y+=4,v.setFloat32(y,C.y,!0),y+=4,v.setFloat32(y,C.z,!0),y+=4,!0),C=!1,T=void 0;try{for(var E,D=S[Symbol.iterator]();!(w=(E=D.next()).done);w=!0){var O=E.value,k=this.vertices[O];v.setFloat32(y,k.x,!0),y+=4,v.setFloat32(y,k.y,!0),y+=4,v.setFloat32(y,k.z,!0),y+=4}}catch(t){C=!0,T=t}finally{try{w||D.return==null||D.return()}finally{if(C)throw T}}v.setUint16(y,0,!0),y+=2}}else{v=`solid `+r+`
`;for(var A=0,j=Object.entries(this.faces);A<j.length;A++){var M=u(j[A],2),N=M[0],M=M[1],N=i[N],P=(v=v+(` facet norm `+N.x+` `+N.y+` `+N.z+`
`)+`  outer loop
`,!0),N=!1,F=void 0;try{for(var I,L=M[Symbol.iterator]();!(P=(I=L.next()).done);P=!0){var R=I.value,z=this.vertices[R];v+=`   vertex `+z.x+` `+z.y+` `+z.z+`
`}}catch(t){N=!0,F=t}finally{try{P||L.return==null||L.return()}finally{if(N)throw F}}v+=`  endloop
 endfacet
`}v+=`endsolid `+r+`
`}n=new Blob([v],{type:`text/plain`}),o.default.prototype.downloadFile(n,t,`stl`)}},{key:`flipU`,value:function(){this.uvs=this.uvs.flat().map(function(t,n){return n%2==0?1-t:t})}},{key:`flipV`,value:function(){this.uvs=this.uvs.flat().map(function(t,n){return n%2==0?t:1-t})}},{key:`computeFaces`,value:function(){this.faces.length=0;for(var t,n,r,i=this.detailX+1,a=0;a<this.detailY;a++)for(var o=0;o<this.detailX;o++)n=(a+1)*i+o+1,this.faces.push([a*i+o,t=a*i+o+1,r=(a+1)*i+o]),this.faces.push([r,t,n]);return this}},{key:`_getFaceNormal`,value:function(t){var t=this.faces[t],n=this.vertices[t[0]],r=this.vertices[t[1]],t=this.vertices[t[2]],r=o.default.Vector.sub(r,n),t=o.default.Vector.sub(t,n),n=o.default.Vector.cross(r,t),i=o.default.Vector.mag(n),r=i/(o.default.Vector.mag(r)*o.default.Vector.mag(t));return r===0||isNaN(r)?(console.warn(`p5.Geometry.prototype._getFaceNormal:`,`face has colinear sides or a repeated vertex`),n):(1<r&&(r=1),n.mult(Math.asin(r)/i))}},{key:`computeNormals`,value:function(){var t,n=this,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:s.FLAT,i=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,a=this.vertexNormals,c=this.vertices,l=this.faces;if(r===s.SMOOTH){for(var u={},d=[],f=10**(i===void 0?3:i),p=function(t){return Math.round(t*f)/f},m=function(t){return`${p(t.x)},${p(t.y)},${p(t.z)}`},h=0;h<c.length;h++){var g=c[h],_=m(g);u[_]===void 0&&(u[_]=d.length,d.push(g))}l.forEach(function(t){for(var n=0;n<3;++n){var r=t[n],r=c[r],r=m(r);t[n]=u[r]}}),this.edges.forEach(function(t){for(var n=0;n<2;++n){var r=t[n],r=c[r],r=m(r);t[n]=u[r]}}),this.vertices=c=d}for(t=a.length=0;t<c.length;++t)a.push(new o.default.Vector);for(l.forEach(function(t,r){for(var i=n._getFaceNormal(r),o=0;o<3;++o){var s=t[o];a[s].add(i)}}),t=0;t<c.length;++t)a[t].normalize();return this}},{key:`averageNormals`,value:function(){for(var t=0;t<=this.detailY;t++){var n=this.detailX+1,r=o.default.Vector.add(this.vertexNormals[t*n],this.vertexNormals[t*n+this.detailX]),r=o.default.Vector.div(r,2);this.vertexNormals[t*n]=r,this.vertexNormals[t*n+this.detailX]=r}return this}},{key:`averagePoleNormals`,value:function(){for(var t=new o.default.Vector(0,0,0),n=0;n<this.detailX;n++)t.add(this.vertexNormals[n]);for(var t=o.default.Vector.div(t,this.detailX),r=0;r<this.detailX;r++)this.vertexNormals[r]=t;t=new o.default.Vector(0,0,0);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)t.add(this.vertexNormals[i]);t=o.default.Vector.div(t,this.detailX);for(var a=this.vertices.length-1;a>this.vertices.length-1-this.detailX;a--)this.vertexNormals[a]=t;return this}},{key:`_makeTriangleEdges`,value:function(){for(var t=this.edges.length=0;t<this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}},{key:`_edgesToVertices`,value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var t,n=new Map,r=new Set,i=0;i<this.edges.length;i++){var a,o=this.edges[i-1],s=this.edges[i],c=this.vertices[s[0]],l=this.vertices[s[1]],u=0<this.vertexStrokeColors.length&&o?this.vertexStrokeColors.slice(4*o[1],4*(o[1]+1)):[0,0,0,0],d=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*s[0],4*(s[0]+1)):[0,0,0,0],f=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*s[1],4*(s[1]+1)):[0,0,0,0],p=l.copy().sub(c).normalize(),m=0<p.magSq();m&&this._addSegment(c,l,d,f,p),0<i&&o[1]===s[0]?r.has(s[0])||(r.add(s[0]),n.delete(s[0]),t&&m&&p.dot(t)<.99999999&&this._addJoin(c,t,p,d)):(m&&!r.has(s[0])&&((a=n.get(s[0]))?(this._addJoin(c,a.dir,p,d),n.delete(s[0]),r.add(s[0])):n.set(s[0],{point:c,dir:p.copy().mult(-1),color:d})),t&&!r.has(o[1])&&((a=n.get(o[1]))?(this._addJoin(this.vertices[o[1]],t,a.dir.copy().mult(-1),u),n.delete(o[1]),r.add(o[1])):n.set(o[1],{point:this.vertices[o[1]],dir:t,color:u}),t=void 0)),i!==this.edges.length-1||r.has(s[1])||((c=n.get(s[1]))?(this._addJoin(l,p,c.dir.copy().mult(-1),f),n.delete(s[1]),r.add(s[1])):n.set(s[1],{point:l,dir:p,color:f})),m&&(t=p)}var h=!0,g=!1,_=void 0;try{for(var v,y=n.values()[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var b=v.value,x=b.point,S=b.dir,C=b.color;this._addCap(x,S,C)}}catch(t){g=!0,_=t}finally{try{h||y.return==null||y.return()}finally{if(g)throw _}}return this}},{key:`_addSegment`,value:function(t,n,r,i,a){var t=t.array(),n=n.array(),o=a.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var s=0,c=[this.lineTangentsIn,this.lineTangentsOut];s<c.length;s++)for(var u=c[s],d=0;d<6;d++)u.push.apply(u,l(o));return(a=this.lineVertices).push.apply(a,l(t).concat(l(n),l(t),l(n),l(n),l(t))),(a=this.lineVertexColors).push.apply(a,l(r).concat(l(i),l(r),l(i),l(i),l(r))),this}},{key:`_addCap`,value:function(t,n,r){for(var i,a=t.array(),o=n.array(),s=[0,0,0],c=0;c<6;c++)(i=this.lineVertices).push.apply(i,l(a)),(i=this.lineTangentsIn).push.apply(i,l(o)),(i=this.lineTangentsOut).push.apply(i,s),(i=this.lineVertexColors).push.apply(i,l(r));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:`_addJoin`,value:function(t,n,r,i){for(var a,o=t.array(),s=n.array(),c=r.array(),u=0;u<12;u++)(a=this.lineVertices).push.apply(a,l(o)),(a=this.lineTangentsIn).push.apply(a,l(s)),(a=this.lineTangentsOut).push.apply(a,l(c)),(a=this.lineVertexColors).push.apply(a,l(i));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:`normalize`,value:function(){if(0<this.vertices.length){for(var t=this.vertices[0].copy(),n=this.vertices[0].copy(),r=0;r<this.vertices.length;r++)t.x=Math.max(t.x,this.vertices[r].x),n.x=Math.min(n.x,this.vertices[r].x),t.y=Math.max(t.y,this.vertices[r].y),n.y=Math.min(n.y,this.vertices[r].y),t.z=Math.max(t.z,this.vertices[r].z),n.z=Math.min(n.z,this.vertices[r].z);for(var i=o.default.Vector.lerp(t,n,.5),a=o.default.Vector.sub(t,n),s=200/Math.max(Math.max(a.x,a.y),a.z),c=0;c<this.vertices.length;c++)this.vertices[c].sub(i),this.vertices[c].mult(s)}return this}}])&&d(n.prototype,r),i&&d(n,i),t}();var f=o.default.Geometry;r.default=f},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(t,n,r){t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Array,s=function(t){return Array.isArray(t)},t=(typeof Float32Array<`u`&&(o=Float32Array,s=function(t){return Array.isArray(t)||t instanceof Float32Array}),i.default.Matrix=function(){function t(){var n=this,r=t;if(n instanceof r)return arguments.length&&((n=arguments.length-1)<0||arguments.length<=n?void 0:arguments[n])instanceof i.default&&(this.p5=(r=arguments.length-1)<0||arguments.length<=r?void 0:arguments[r]),(arguments.length<=0?void 0:arguments[0])===`mat3`?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new o([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new o([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw TypeError(`Cannot call a class as a function`)}var n,r,c;return n=t,c=[{key:`identity`,value:function(t){return new i.default.Matrix(t)}}],(r=[{key:`reset`,value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:`set`,value:function(t){var n=arguments;if(t instanceof i.default.Matrix?n=t.mat4:s(t)&&(n=t),n.length!==16)i.default._friendlyError(`Expected 16 values but received ${n.length}.`,`p5.Matrix.set`);else for(var r=0;r<16;r++)this.mat4[r]=n[r];return this}},{key:`get`,value:function(){return new i.default.Matrix(this.mat4,this.p5)}},{key:`copy`,value:function(){var t;return this.mat3===void 0?((t=new i.default.Matrix(this.p5)).mat4[0]=this.mat4[0],t.mat4[1]=this.mat4[1],t.mat4[2]=this.mat4[2],t.mat4[3]=this.mat4[3],t.mat4[4]=this.mat4[4],t.mat4[5]=this.mat4[5],t.mat4[6]=this.mat4[6],t.mat4[7]=this.mat4[7],t.mat4[8]=this.mat4[8],t.mat4[9]=this.mat4[9],t.mat4[10]=this.mat4[10],t.mat4[11]=this.mat4[11],t.mat4[12]=this.mat4[12],t.mat4[13]=this.mat4[13],t.mat4[14]=this.mat4[14],t.mat4[15]=this.mat4[15]):((t=new i.default.Matrix(`mat3`,this.p5)).mat3[0]=this.mat3[0],t.mat3[1]=this.mat3[1],t.mat3[2]=this.mat3[2],t.mat3[3]=this.mat3[3],t.mat3[4]=this.mat3[4],t.mat3[5]=this.mat3[5],t.mat3[6]=this.mat3[6],t.mat3[7]=this.mat3[7],t.mat3[8]=this.mat3[8]),t}},{key:`transpose`,value:function(t){var n,r,a,o,c,l;return t instanceof i.default.Matrix?(n=t.mat4[1],r=t.mat4[2],a=t.mat4[3],o=t.mat4[6],c=t.mat4[7],l=t.mat4[11],this.mat4[0]=t.mat4[0],this.mat4[1]=t.mat4[4],this.mat4[2]=t.mat4[8],this.mat4[3]=t.mat4[12],this.mat4[4]=n,this.mat4[5]=t.mat4[5],this.mat4[6]=t.mat4[9],this.mat4[7]=t.mat4[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=t.mat4[10],this.mat4[11]=t.mat4[14],this.mat4[12]=a,this.mat4[13]=c,this.mat4[14]=l,this.mat4[15]=t.mat4[15]):s(t)&&(n=t[1],r=t[2],a=t[3],o=t[6],c=t[7],l=t[11],this.mat4[0]=t[0],this.mat4[1]=t[4],this.mat4[2]=t[8],this.mat4[3]=t[12],this.mat4[4]=n,this.mat4[5]=t[5],this.mat4[6]=t[9],this.mat4[7]=t[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=t[10],this.mat4[11]=t[14],this.mat4[12]=a,this.mat4[13]=c,this.mat4[14]=l,this.mat4[15]=t[15]),this}},{key:`invert`,value:function(t){t instanceof i.default.Matrix?(n=t.mat4[0],r=t.mat4[1],a=t.mat4[2],o=t.mat4[3],c=t.mat4[4],l=t.mat4[5],u=t.mat4[6],d=t.mat4[7],f=t.mat4[8],p=t.mat4[9],m=t.mat4[10],h=t.mat4[11],g=t.mat4[12],_=t.mat4[13],v=t.mat4[14],y=t.mat4[15]):s(t)&&(n=t[0],r=t[1],a=t[2],o=t[3],c=t[4],l=t[5],u=t[6],d=t[7],f=t[8],p=t[9],m=t[10],h=t[11],g=t[12],_=t[13],v=t[14],y=t[15]);var n,r,a,o,c,l,u,d,f,p,m,h,g,_,v,y,t=n*l-r*c,b=n*u-a*c,x=n*d-o*c,S=r*u-a*l,C=r*d-o*l,w=a*d-o*u,T=f*_-p*g,E=f*v-m*g,D=f*y-h*g,O=p*v-m*_,k=p*y-h*_,A=m*y-h*v,j=t*A-b*k+x*O+S*D-C*E+w*T;return j?(this.mat4[0]=(l*A-u*k+d*O)*(j=1/j),this.mat4[1]=(a*k-r*A-o*O)*j,this.mat4[2]=(_*w-v*C+y*S)*j,this.mat4[3]=(m*C-p*w-h*S)*j,this.mat4[4]=(u*D-c*A-d*E)*j,this.mat4[5]=(n*A-a*D+o*E)*j,this.mat4[6]=(v*x-g*w-y*b)*j,this.mat4[7]=(f*w-m*x+h*b)*j,this.mat4[8]=(c*k-l*D+d*T)*j,this.mat4[9]=(r*D-n*k-o*T)*j,this.mat4[10]=(g*C-_*x+y*t)*j,this.mat4[11]=(p*x-f*C-h*t)*j,this.mat4[12]=(l*E-c*O-u*T)*j,this.mat4[13]=(n*O-r*E+a*T)*j,this.mat4[14]=(_*b-g*S-v*t)*j,this.mat4[15]=(f*S-p*b+m*t)*j,this):null}},{key:`invert3x3`,value:function(){var t=this.mat3[0],n=this.mat3[1],r=this.mat3[2],i=this.mat3[3],a=this.mat3[4],o=this.mat3[5],s=this.mat3[6],c=this.mat3[7],l=this.mat3[8],u=l*a-o*c,d=-l*i+o*s,f=c*i-a*s,p=t*u+n*d+r*f;return p?(this.mat3[0]=u*(p=1/p),this.mat3[1]=(-l*n+r*c)*p,this.mat3[2]=(o*n-r*a)*p,this.mat3[3]=d*p,this.mat3[4]=(l*t-r*s)*p,this.mat3[5]=(-o*t+r*i)*p,this.mat3[6]=f*p,this.mat3[7]=(-c*t+n*s)*p,this.mat3[8]=(a*t-n*i)*p,this):null}},{key:`transpose3x3`,value:function(t){var n=(t=t===void 0?this.mat3:t)[1],r=t[2],i=t[5];return this.mat3[0]=t[0],this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=n,this.mat3[4]=t[4],this.mat3[5]=t[7],this.mat3[6]=r,this.mat3[7]=i,this.mat3[8]=t[8],this}},{key:`inverseTranspose`,value:function(t){if(t=t.mat4,this.mat3===void 0?i.default._friendlyError(`sorry, this function only works with mat3`):(this.mat3[0]=t[0],this.mat3[1]=t[1],this.mat3[2]=t[2],this.mat3[3]=t[4],this.mat3[4]=t[5],this.mat3[5]=t[6],this.mat3[6]=t[8],this.mat3[7]=t[9],this.mat3[8]=t[10]),t=this.invert3x3(),t)t.transpose3x3(this.mat3);else for(var n=0;n<9;n++)this.mat3[n]=0;return this}},{key:`determinant`,value:function(){var t=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],n=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],i=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],a=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],s=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],c=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],d=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return t*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-n*d+r*u+i*l-a*c+o*s}},{key:`mult`,value:function(t){var n;if(t===this||t===this.mat4)n=this.copy().mat4;else if(t instanceof i.default.Matrix)n=t.mat4;else if(s(t))n=t;else{if(arguments.length!==16)return;n=arguments}var t=this.mat4[0],r=this.mat4[1],a=this.mat4[2],o=this.mat4[3];return this.mat4[0]=t*n[0]+r*n[4]+a*n[8]+o*n[12],this.mat4[1]=t*n[1]+r*n[5]+a*n[9]+o*n[13],this.mat4[2]=t*n[2]+r*n[6]+a*n[10]+o*n[14],this.mat4[3]=t*n[3]+r*n[7]+a*n[11]+o*n[15],t=this.mat4[4],r=this.mat4[5],a=this.mat4[6],o=this.mat4[7],this.mat4[4]=t*n[0]+r*n[4]+a*n[8]+o*n[12],this.mat4[5]=t*n[1]+r*n[5]+a*n[9]+o*n[13],this.mat4[6]=t*n[2]+r*n[6]+a*n[10]+o*n[14],this.mat4[7]=t*n[3]+r*n[7]+a*n[11]+o*n[15],t=this.mat4[8],r=this.mat4[9],a=this.mat4[10],o=this.mat4[11],this.mat4[8]=t*n[0]+r*n[4]+a*n[8]+o*n[12],this.mat4[9]=t*n[1]+r*n[5]+a*n[9]+o*n[13],this.mat4[10]=t*n[2]+r*n[6]+a*n[10]+o*n[14],this.mat4[11]=t*n[3]+r*n[7]+a*n[11]+o*n[15],t=this.mat4[12],r=this.mat4[13],a=this.mat4[14],o=this.mat4[15],this.mat4[12]=t*n[0]+r*n[4]+a*n[8]+o*n[12],this.mat4[13]=t*n[1]+r*n[5]+a*n[9]+o*n[13],this.mat4[14]=t*n[2]+r*n[6]+a*n[10]+o*n[14],this.mat4[15]=t*n[3]+r*n[7]+a*n[11]+o*n[15],this}},{key:`apply`,value:function(t){var n;if(t===this||t===this.mat4)n=this.copy().mat4;else if(t instanceof i.default.Matrix)n=t.mat4;else if(s(t))n=t;else{if(arguments.length!==16)return;n=arguments}var t=this.mat4,r=t[0],a=t[4],o=t[8],c=t[12],r=(t[0]=n[0]*r+n[1]*a+n[2]*o+n[3]*c,t[4]=n[4]*r+n[5]*a+n[6]*o+n[7]*c,t[8]=n[8]*r+n[9]*a+n[10]*o+n[11]*c,t[12]=n[12]*r+n[13]*a+n[14]*o+n[15]*c,t[1]),a=t[5],o=t[9],c=t[13],r=(t[1]=n[0]*r+n[1]*a+n[2]*o+n[3]*c,t[5]=n[4]*r+n[5]*a+n[6]*o+n[7]*c,t[9]=n[8]*r+n[9]*a+n[10]*o+n[11]*c,t[13]=n[12]*r+n[13]*a+n[14]*o+n[15]*c,t[2]),a=t[6],o=t[10],c=t[14],r=(t[2]=n[0]*r+n[1]*a+n[2]*o+n[3]*c,t[6]=n[4]*r+n[5]*a+n[6]*o+n[7]*c,t[10]=n[8]*r+n[9]*a+n[10]*o+n[11]*c,t[14]=n[12]*r+n[13]*a+n[14]*o+n[15]*c,t[3]),a=t[7],o=t[11],c=t[15];return t[3]=n[0]*r+n[1]*a+n[2]*o+n[3]*c,t[7]=n[4]*r+n[5]*a+n[6]*o+n[7]*c,t[11]=n[8]*r+n[9]*a+n[10]*o+n[11]*c,t[15]=n[12]*r+n[13]*a+n[14]*o+n[15]*c,this}},{key:`scale`,value:function(t,n,r){return t instanceof i.default.Vector?(n=t.y,r=t.z,t=t.x):t instanceof Array&&(n=t[1],r=t[2],t=t[0]),this.mat4[0]*=t,this.mat4[1]*=t,this.mat4[2]*=t,this.mat4[3]*=t,this.mat4[4]*=n,this.mat4[5]*=n,this.mat4[6]*=n,this.mat4[7]*=n,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this}},{key:`rotate`,value:function(t,n,r,a){n instanceof i.default.Vector?(r=n.y,a=n.z,n=n.x):n instanceof Array&&(r=n[1],a=n[2],n=n[0]);var o=Math.sqrt(n*n+r*r+a*a),o=(n*=1/o,r*=1/o,a*=1/o,this.mat4[0]),s=this.mat4[1],c=this.mat4[2],l=this.mat4[3],u=this.mat4[4],d=this.mat4[5],f=this.mat4[6],p=this.mat4[7],m=this.mat4[8],h=this.mat4[9],g=this.mat4[10],_=this.mat4[11],v=Math.sin(t),t=Math.cos(t),y=1-t,b=n*n*y+t,x=r*n*y+a*v,S=a*n*y-r*v,C=n*r*y-a*v,w=r*r*y+t,T=a*r*y+n*v,E=n*a*y+r*v,r=r*a*y-n*v,n=a*a*y+t;return this.mat4[0]=o*b+u*x+m*S,this.mat4[1]=s*b+d*x+h*S,this.mat4[2]=c*b+f*x+g*S,this.mat4[3]=l*b+p*x+_*S,this.mat4[4]=o*C+u*w+m*T,this.mat4[5]=s*C+d*w+h*T,this.mat4[6]=c*C+f*w+g*T,this.mat4[7]=l*C+p*w+_*T,this.mat4[8]=o*E+u*r+m*n,this.mat4[9]=s*E+d*r+h*n,this.mat4[10]=c*E+f*r+g*n,this.mat4[11]=l*E+p*r+_*n,this}},{key:`translate`,value:function(t){var n=t[0],r=t[1],t=t[2]||0;this.mat4[12]+=this.mat4[0]*n+this.mat4[4]*r+this.mat4[8]*t,this.mat4[13]+=this.mat4[1]*n+this.mat4[5]*r+this.mat4[9]*t,this.mat4[14]+=this.mat4[2]*n+this.mat4[6]*r+this.mat4[10]*t,this.mat4[15]+=this.mat4[3]*n+this.mat4[7]*r+this.mat4[11]*t}},{key:`rotateX`,value:function(t){this.rotate(t,1,0,0)}},{key:`rotateY`,value:function(t){this.rotate(t,0,1,0)}},{key:`rotateZ`,value:function(t){this.rotate(t,0,0,1)}},{key:`perspective`,value:function(t,n,r,i){var t=1/Math.tan(t/2),a=1/(r-i);return this.mat4[0]=t/n,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=t,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(i+r)*a,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*i*r*a,this.mat4[15]=0,this}},{key:`ortho`,value:function(t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return this.mat4[0]=-2*s,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*c,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(t+n)*s,this.mat4[13]=(i+r)*c,this.mat4[14]=(o+a)*l,this.mat4[15]=1,this}},{key:`multiplyVec4`,value:function(t,n,r,i){var a=[,,,,],o=this.mat4;return a[0]=o[0]*t+o[4]*n+o[8]*r+o[12]*i,a[1]=o[1]*t+o[5]*n+o[9]*r+o[13]*i,a[2]=o[2]*t+o[6]*n+o[10]*r+o[14]*i,a[3]=o[3]*t+o[7]*n+o[11]*r+o[15]*i,a}},{key:`multiplyPoint`,value:function(t){var n=t.x,r=t.y,t=t.z,n=this.multiplyVec4(n,r,t,1);return new i.default.Vector(n[0],n[1],n[2])}},{key:`multiplyAndNormalizePoint`,value:function(t){var n=t.x,r=t.y,t=t.z,n=this.multiplyVec4(n,r,t,1);return n[0]/=n[3],n[1]/=n[3],n[2]/=n[3],new i.default.Vector(n[0],n[1],n[2])}},{key:`multiplyDirection`,value:function(t){var n=t.x,r=t.y,t=t.z,n=this.multiplyVec4(n,r,t,0);return new i.default.Vector(n[0],n[1],n[2])}},{key:`mult3x3`,value:function(t){var n;if(t===this||t===this.mat3)n=this.copy().mat3;else if(t instanceof i.default.Matrix)n=t.mat3;else if(s(t))n=t;else{if(arguments.length!==9)return;n=arguments}var t=this.mat3[0],r=this.mat3[1],a=this.mat3[2];return this.mat3[0]=t*n[0]+r*n[3]+a*n[6],this.mat3[1]=t*n[1]+r*n[4]+a*n[7],this.mat3[2]=t*n[2]+r*n[5]+a*n[8],t=this.mat3[3],r=this.mat3[4],a=this.mat3[5],this.mat3[3]=t*n[0]+r*n[3]+a*n[6],this.mat3[4]=t*n[1]+r*n[4]+a*n[7],this.mat3[5]=t*n[2]+r*n[5]+a*n[8],t=this.mat3[6],r=this.mat3[7],a=this.mat3[8],this.mat3[6]=t*n[0]+r*n[3]+a*n[6],this.mat3[7]=t*n[1]+r*n[4]+a*n[7],this.mat3[8]=t*n[2]+r*n[5]+a*n[8],this}},{key:`column`,value:function(t){return new i.default.Vector(this.mat3[3*t],this.mat3[3*t+1],this.mat3[3*t+2])}},{key:`row`,value:function(t){return new i.default.Vector(this.mat3[t],this.mat3[t+3],this.mat3[t+6])}},{key:`diagonal`,value:function(){return this.mat3===void 0?[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]:[this.mat3[0],this.mat3[4],this.mat3[8]]}},{key:`multiplyVec3`,value:function(t,n){return(n=n===void 0?t.copy():n).x=this.row(0).dot(t),n.y=this.row(1).dot(t),n.z=this.row(2).dot(t),n}},{key:`createSubMatrix3x3`,value:function(){var t=new i.default.Matrix(`mat3`);return t.mat3[0]=this.mat4[0],t.mat3[1]=this.mat4[1],t.mat3[2]=this.mat4[2],t.mat3[3]=this.mat4[4],t.mat3[4]=this.mat4[5],t.mat3[5]=this.mat4[6],t.mat3[6]=this.mat4[8],t.mat3[7]=this.mat4[9],t.mat3[8]=this.mat4[10],t}}])&&a(n.prototype,r),c&&a(n,c),t}(),i.default.Matrix);r.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,n,r){Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i.default.Quat=function(){function t(n,r,a,o){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.w=n,this.vec=new i.default.Vector(r,a,o)}var n,r,o;return n=t,o=[{key:`fromAxisAngle`,value:function(t,n,r,a){var o=Math.cos(t/2),n=new i.default.Vector(n,r,a).normalize().mult(Math.sin(t/2));return new i.default.Quat(o,n.x,n.y,n.z)}}],(r=[{key:`conjugate`,value:function(){return new i.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:`multiply`,value:function(t){return new i.default.Quat(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}},{key:`rotateVector`,value:function(t){return new i.default.Vector.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(i.default.Vector.mult(this.vec,2*t.dot(this.vec))).add(i.default.Vector.mult(this.vec,2*this.w).cross(t)).clampToZero()}},{key:`rotateBy`,value:function(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}}])&&a(n.prototype,r),o&&a(n,o),t}(),t=i.default.Quat,r.default=t},{"../core/main":283}],338:[function(t,n,r){t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.map`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0,t=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function i(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.default.RenderBuffer=function(){function t(n,r,i,a,o,s){if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this.size=n,this.src=r,this.dst=i,this.attr=a,this._renderer=o,this.map=s}var n,r,a;return n=t,(r=[{key:`_prepareBuffer`,value:function(t,n){var r,i,a,o=n.attributes,s=this._renderer.GL,c=t.model||t,o=o[this.attr];o&&(r=t[this.dst],0<(i=c[this.src]).length?((a=!r)&&(t[this.dst]=r=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,r),!a&&!1===c.dirtyFlags[this.src]||(a=(t=this.map)?t(i):i,this._renderer._bindBuffer(r,s.ARRAY_BUFFER,a),c.dirtyFlags[this.src]=!1),n.enableAttrib(o,this.size)):(t=o.location)!==-1&&this._renderer.registerEnabled.has(t)&&(s.disableVertexAttribArray(t),this._renderer.registerEnabled.delete(t)))}}])&&i(n.prototype,r),a&&i(n,a),t}(),t=t.default.RenderBuffer,r.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.find-index`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.map`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.find-index`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.map`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(d=t(`../core/main`))&&d.__esModule?d:{default:d},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}t(`./p5.RenderBuffer`),o.default.RendererGL.prototype.beginShape=function(t){return this.immediateMode.shapeMode=t===void 0?s.TESS:t,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var u={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},d=(o.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==s.TESS)throw Error(`WebGL mode can only use contours with beginShape(TESS).`);this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},o.default.RendererGL.prototype.vertex=function(t,n){if(this.immediateMode.shapeMode===s.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var r in u){var i=u[r],r=this.immediateMode.geometry[r];r.push.apply(r,l(r.slice(r.length-3*i,r.length-2*i)).concat(l(r.slice(r.length-i,r.length))))}var a,c,d=a=c=0,f=(arguments.length===3?d=arguments[2]:arguments.length===4?(a=arguments[2],c=arguments[3]):arguments.length===5&&(d=arguments[2],a=arguments[3],c=arguments[4]),new o.default.Vector(t,n,d)),f=(this.immediateMode.geometry.vertices.push(f),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),f=(this.immediateMode.geometry.vertexColors.push(f[0],f[1],f[2],f[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(f[0],f[1],f[2],f[3]),this.textureMode!==s.IMAGE||this.isProcessingVertices||(this._tex===null?this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn(`You must first call texture() before using vertex() with image based u and v coordinates`):0<this._tex.width&&0<this._tex.height&&(a/=this._tex.width,c/=this._tex.height)),this.immediateMode.geometry.uvs.push(a,c),this.immediateMode._bezierVertex[0]=t,this.immediateMode._bezierVertex[1]=n,this.immediateMode._bezierVertex[2]=d,this.immediateMode._quadraticVertex[0]=t,this.immediateMode._quadraticVertex[1]=n,this.immediateMode._quadraticVertex[2]=d,this},o.default.RendererGL.prototype.normal=function(t,n,r){return t instanceof o.default.Vector?this._currentNormal=t:this._currentNormal=new o.default.Vector(t,n,r),this},o.default.RendererGL.prototype.endShape=function(t,n,r,i,a,o){var c,l=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===s.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===s.TESS&&(this.immediateMode.shapeMode=s.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),c=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==s.LINE_STRIP&&this.immediateMode.shapeMode!==s.LINES||(this.immediateMode.shapeMode=s.TRIANGLE_FAN,c=!0),this.immediateMode.shapeMode===s.QUADS?this.immediateMode.shapeMode=s.TRIANGLES:this.immediateMode.shapeMode===s.QUAD_STRIP&&(this.immediateMode.shapeMode=s.TRIANGLE_STRIP),this._doFill&&!c&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(l),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},o.default.RendererGL.prototype._processVertices=function(t){var n;this.immediateMode.geometry.vertices.length!==0&&(n=this._doStroke,t=t===s.CLOSE,n&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,t),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),n=this.immediateMode.shapeMode===s.TESS,t=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||n||t)&&this.immediateMode.shapeMode!==s.LINES&&this._tesselateShape())},o.default.RendererGL.prototype._calculateEdges=function(t,n,r){var i=[],a=0,o=this.immediateMode.contourIndices.slice(),c=0;switch(t){case s.TRIANGLE_STRIP:for(a=0;a<n.length-2;a++)i.push([a,a+1]),i.push([a,a+2]);i.push([a,a+1]);break;case s.TRIANGLE_FAN:for(a=1;a<n.length-1;a++)i.push([0,a]),i.push([a,a+1]);i.push([0,n.length-1]);break;case s.TRIANGLES:for(a=0;a<n.length-2;a+=3)i.push([a,a+1]),i.push([a+1,a+2]),i.push([a+2,a]);break;case s.LINES:for(a=0;a<n.length-1;a+=2)i.push([a,a+1]);break;case s.QUADS:for(a=0;a<n.length-5;a+=6)i.push([a,a+1]),i.push([a+1,a+2]),i.push([a+3,a+5]),i.push([a+4,a+5]);break;case s.QUAD_STRIP:for(a=0;a<n.length-2;a+=2)i.push([a,a+1]),i.push([a,a+2]),i.push([a+1,a+3]);i.push([a,a+1]);break;default:for(a=0;a<n.length;a++)a+1<n.length&&a+1!==o[0]?i.push([a,a+1]):((r||c)&&i.push([a,c]),0<o.length&&(c=o.shift()))}return t!==s.TESS&&r&&i.push([n.length-1,0]),i},o.default.RendererGL.prototype._tesselateShape=function(){for(var t=this,n=(this.immediateMode.shapeMode=s.TRIANGLES,[[]]),r=0;r<this.immediateMode.geometry.vertices.length;r++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===r&&(this.immediateMode.contourIndices.shift(),n.push([])),n[n.length-1].push(this.immediateMode.geometry.vertices[r].x,this.immediateMode.geometry.vertices[r].y,this.immediateMode.geometry.vertices[r].z,this.immediateMode.geometry.uvs[2*r],this.immediateMode.geometry.uvs[2*r+1],this.immediateMode.geometry.vertexColors[4*r],this.immediateMode.geometry.vertexColors[4*r+1],this.immediateMode.geometry.vertexColors[4*r+2],this.immediateMode.geometry.vertexColors[4*r+3],this.immediateMode.geometry.vertexNormals[r].x,this.immediateMode.geometry.vertexNormals[r].y,this.immediateMode.geometry.vertexNormals[r].z);for(var i,a=this._triangulate(n),c=this.immediateMode.geometry.vertices,u=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),d=0,f=a.length;d<f;d+=o.default.RendererGL.prototype.tessyVertexSize)u.push.apply(u,l(a.slice(d+5,d+9))),this.normal.apply(this,l(a.slice(d+9,d+12))),this.vertex.apply(this,l(a.slice(d,d+5)));this.geometryBuilder&&(i=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(n){return n.map(function(n){if(!i.has(n)){var r=c[n],a=t.immediateMode.geometry.vertices.findIndex(function(t){return r.x===t.x&&r.y===t.y&&r.z===t.z});if(a===-1){for(var o=1/0,s=0,l=0;l<t.immediateMode.geometry.vertices.length;l++){var u=t.immediateMode.geometry.vertices[l],d=r.x-u.x,f=r.y-u.y,u=r.z-u.z,d=d*d+f*f+u*u;d<o&&(o=d,s=l)}a=s}i.set(n,a)}return i.get(n)})})),this.immediateMode.geometry.vertexColors=u},o.default.RendererGL.prototype._drawImmediateFill=function(){var t,n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,r=this.GL,i=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,t=this._getImmediateFillShader(),this._setFillUniforms(t),!0),a=!1,o=void 0;try{for(var s,c=this.immediateMode.buffers.fill[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)s.value._prepareBuffer(this.immediateMode.geometry,t)}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}if(t.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),n===1)r.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{r.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,n)}catch{console.log(` p5.js says: Instancing is only supported in WebGL2 mode`)}t.unbindShader()},o.default.RendererGL.prototype._drawImmediateStroke=function(){var t=this.GL,n=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),r=(this._setStrokeUniforms(n),!0),i=!1,a=void 0;try{for(var o,s=this.immediateMode.buffers.stroke[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)o.value._prepareBuffer(this.immediateMode.geometry,n)}catch(t){i=!0,a=t}finally{try{r||s.return==null||s.return()}finally{if(i)throw a}}n.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),t.drawArrays(t.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),n.unbindShader()},o.default.RendererGL);r.default=d},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.uint16-array`),t(`core-js/modules/es.typed-array.uint32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.uint16-array`),t(`core-js/modules/es.typed-array.uint32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var o=(l=t(`../core/main`))&&l.__esModule?l:{default:l},s=(t(`./p5.RendererGL`),t(`./p5.RenderBuffer`),function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`)));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}o.default.RendererGL.prototype.freeGeometry=function(t){t.gid?this._freeBuffers(t.gid):console.warn(`The model you passed to freeGeometry does not have an id!`)},o.default.RendererGL.prototype._initBufferDefaults=function(t){var n;return this._freeBuffers(t),1e3<Object.keys(this.retainedMode.geometry).length&&(n=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(n)),this.retainedMode.geometry[t]={}},o.default.RendererGL.prototype._freeBuffers=function(t){var n,r=this.retainedMode.geometry[t];function i(t){var i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;r[l.dst]&&(n.deleteBuffer(r[l.dst]),r[l.dst]=null)}}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}}r&&(delete this.retainedMode.geometry[t],n=this.GL,r.indexBuffer&&n.deleteBuffer(r.indexBuffer),i(this.retainedMode.buffers.stroke),i(this.retainedMode.buffers.fill))},o.default.RendererGL.prototype.createBuffers=function(t,n){var r,i,a,s=this.GL,t=this._initBufferDefaults(t),c=(t.model=n,t.indexBuffer);return n.faces.length?(c||=t.indexBuffer=s.createBuffer(),a=(i=(r=o.default.RendererGL.prototype._flatten(n.faces)).some(function(t){return 65535<t}))?Uint32Array:Uint16Array,this._bindBuffer(c,s.ELEMENT_ARRAY_BUFFER,r,a),t.indexBufferType=i?s.UNSIGNED_INT:s.UNSIGNED_SHORT,t.vertexCount=3*n.faces.length):(c&&(s.deleteBuffer(c),t.indexBuffer=null),t.vertexCount=n.vertices?n.vertices.length:0),t.lineVertexCount=n.lineVertices?n.lineVertices.length/3:0,t},o.default.RendererGL.prototype.drawBuffers=function(t){var n=this.GL,r=this.retainedMode.geometry[t];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[t].vertexCount){this._useVertexColor=0<r.model.vertexColors.length;var i=this._getRetainedFillShader(),a=(this._setFillUniforms(i),!0),o=!1,s=void 0;try{for(var c,l=this.retainedMode.buffers.fill[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)c.value._prepareBuffer(r,i)}catch(t){o=!0,s=t}finally{try{a||l.return==null||l.return()}finally{if(o)throw s}}i.disableRemainingAttributes(),r.indexBuffer&&this._bindBuffer(r.indexBuffer,n.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,r.model.hasFillTransparency()),this._drawElements(n.TRIANGLES,t),i.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<r.lineVertexCount){this._useLineColor=0<r.model.vertexStrokeColors.length;var u=this._getRetainedStrokeShader(),d=(this._setStrokeUniforms(u),!0),o=!1,s=void 0;try{for(var f,p=this.retainedMode.buffers.stroke[Symbol.iterator]();!(d=(f=p.next()).done);d=!0)f.value._prepareBuffer(r,u)}catch(t){o=!0,s=t}finally{try{d||p.return==null||p.return()}finally{if(o)throw s}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,r.model.hasStrokeTransparency()),this._drawArrays(n.TRIANGLES,t),u.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(r),this},o.default.RendererGL.prototype.drawBuffersScaled=function(t,n,r,i){var a=this.uModelMatrix.copy();try{this.uModelMatrix.scale(n,r,i),this.drawBuffers(t)}finally{this.uModelMatrix=a}},o.default.RendererGL.prototype._drawArrays=function(t,n){return this.GL.drawArrays(t,0,this.retainedMode.geometry[n].lineVertexCount),this},o.default.RendererGL.prototype._drawElements=function(t,n){var n=this.retainedMode.geometry[n],r=this.GL;if(n.indexBuffer){if(this._pInst.webglVersion!==s.WEBGL2&&n.indexBufferType===r.UNSIGNED_INT&&!r.getExtension(`OES_element_index_uint`))throw Error(`Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.`);r.drawElements(r.TRIANGLES,n.vertexCount,n.indexBufferType,0)}else r.drawArrays(t||r.TRIANGLES,0,n.vertexCount)},o.default.RendererGL.prototype._drawPoints=function(t,n){var r=this.GL,i=this._getImmediatePointShader();this._setPointUniforms(i),this._bindBuffer(n,r.ARRAY_BUFFER,this._vToNArray(t),Float32Array,r.STATIC_DRAW),i.enableAttrib(i.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),r.drawArrays(r.Points,0,t.length),i.unbindShader()};var l=o.default.RendererGL;r.default=l},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.copy-within`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.flat`),t(`core-js/modules/es.array.flat-map`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.array.unscopables.flat`),t(`core-js/modules/es.array.unscopables.flat-map`),t(`core-js/modules/es.map`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.reflect.get`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.float64-array`),t(`core-js/modules/es.typed-array.int16-array`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint16-array`),t(`core-js/modules/es.typed-array.uint32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.copy-within`),t(`core-js/modules/es.array.every`),t(`core-js/modules/es.array.fill`),t(`core-js/modules/es.array.flat`),t(`core-js/modules/es.array.flat-map`),t(`core-js/modules/es.array.from`),t(`core-js/modules/es.array.includes`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.map`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.array.unscopables.flat`),t(`core-js/modules/es.array.unscopables.flat-map`),t(`core-js/modules/es.map`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.set`),t(`core-js/modules/es.string.includes`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.float32-array`),t(`core-js/modules/es.typed-array.float64-array`),t(`core-js/modules/es.typed-array.int16-array`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.uint16-array`),t(`core-js/modules/es.typed-array.uint32-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.readPixelsWebGL=A,r.readPixelWebGL=j,r.default=void 0;var o=f(t(`../core/main`)),s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=d();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`)),c=f(t(`./GeometryBuilder`)),l=f(t(`libtess`)),u=(t(`./p5.Shader`),t(`./p5.Camera`),t(`../core/p5.Renderer`),t(`./p5.Matrix`),t(`./p5.Framebuffer`),t(`path`),t(`./p5.Texture`));function d(){var t;return typeof WeakMap==`function`?(t=new WeakMap,d=function(){return t},t):null}function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`)return Array.from(t)}(t)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance`)}()}function m(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,n,r){return(h=typeof Reflect<`u`&&Reflect.get?Reflect.get:function(t,n,r){var t=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&(t=y(t))!==null;);return t}(t,n);if(t)return(t=Object.getOwnPropertyDescriptor(t,n)).get?t.get.call(r):t.value})(t,n,r||t)}function g(t,n){return(g=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _(t){return function(){var n,r,i=y(t);return n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=y(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this,!(r=n)||a(r)!==`object`&&typeof r!=`function`?v(i):r}}function v(t){if(t===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,n,r){n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}function x(t,n){E+=`#define STROKE_CAP_${t} ${n}
`,w[s[t]]=n}function S(t,n){E+=`#define STROKE_JOIN_${t} ${n}
`,T[s[t]]=n}var C,w={},T={},E=``,t=(x(`ROUND`,0),x(`PROJECT`,1),x(`SQUARE`,2),S(`ROUND`,0),S(`MITER`,1),S(`BEVEL`,2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),D={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:t+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:t+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:E+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision highp int;
precision highp float;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:E+`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},O=D.sphereMappingFrag;for(C in D)D[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+D[C];b(t={},s.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),b(t,s.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),b(t,s.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),b(t,s.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),b(t,s.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),b(t,s.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),b(t,s.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),b(t,s.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var k=t;function A(t,n,r,i,a,o,s,c,l,u){var d=n.getParameter(n.FRAMEBUFFER_BINDING),r=(n.bindFramebuffer(n.FRAMEBUFFER,r),c===n.RGBA?4:3),f=o*s*r,p=l===n.UNSIGNED_BYTE?Uint8Array:Float32Array;if(t instanceof p&&t.length===f||(t=new p(f)),n.readPixels(i,u?u-a-s:a,o,s,c,l,t),n.bindFramebuffer(n.FRAMEBUFFER,d),u)for(var m=Math.floor(s/2),h=new p(o*r),g=0;g<m;g++){var _=g*o*4,v=(s-g-1)*o*4;h.set(t.subarray(_,_+4*o)),t.copyWithin(_,v,v+4*o),t.set(h,v)}return t}function j(t,n,r,i,a,o,s){var c=t.getParameter(t.FRAMEBUFFER_BINDING),n=(t.bindFramebuffer(t.FRAMEBUFFER,n),a===t.RGBA?4:3),n=new(o===t.UNSIGNED_BYTE?Uint8Array:Float32Array)(n);return t.readPixels(r,s?s-i-1:i,1,1,a,o,n),t.bindFramebuffer(t.FRAMEBUFFER,c),Array.from(n)}o.default.prototype.setAttributes=function(t,n){if(this._glAttributes===void 0)console.log(`You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.`);else{var r=!0;if(n===void 0?t instanceof Object&&this._glAttributes!==t&&(this._glAttributes=t,r=!1):(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[t]!==n&&(this._glAttributes[t]=n,r=!1)),this._renderer.isP3D&&!r){if(!this._setupDone){for(var i in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(i))return void o.default._friendlyError(`Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()`)}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},o.default.RendererGL=function(t){var n=a;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&g(n,t);var r,i=_(a);function a(t,n,r,c){if(this instanceof a)return(t=i.call(this,t,n,r))._setAttributeDefaults(n),t._initContext(),t.isP3D=!0,t.geometryBuilder=void 0,t.GL=t.drawingContext,t._pInst._setProperty(`drawingContext`,t.drawingContext),t._isErasing=!1,t._clipDepths=[],t._isClipApplied=!1,t._stencilTestOn=!1,t._enableLighting=!1,t.ambientLightColors=[],t.mixedAmbientLight=[],t.mixedSpecularColor=[],t.specularColors=[1,1,1],t.directionalLightDirections=[],t.directionalLightDiffuseColors=[],t.directionalLightSpecularColors=[],t.pointLightPositions=[],t.pointLightDiffuseColors=[],t.pointLightSpecularColors=[],t.spotLightPositions=[],t.spotLightDirections=[],t.spotLightDiffuseColors=[],t.spotLightSpecularColors=[],t.spotLightAngle=[],t.spotLightConc=[],t.activeImageLight=null,t.diffusedTextures=new Map,t.specularTextures=new Map,t.drawMode=s.FILL,t.curFillColor=t._cachedFillStyle=[1,1,1,1],t.curAmbientColor=t._cachedFillStyle=[1,1,1,1],t.curSpecularColor=t._cachedFillStyle=[0,0,0,0],t.curEmissiveColor=t._cachedFillStyle=[0,0,0,0],t.curStrokeColor=t._cachedStrokeStyle=[0,0,0,1],t.curBlendMode=s.BLEND,t.preEraseBlend=void 0,t._cachedBlendMode=void 0,t.webglVersion===s.WEBGL2?t.blendExt=t.GL:t.blendExt=t.GL.getExtension(`EXT_blend_minmax`),t._isBlending=!1,t._hasSetAmbient=!1,t._useSpecularMaterial=!1,t._useEmissiveMaterial=!1,t._useNormalMaterial=!1,t._useShininess=1,t._useMetalness=0,t._useLineColor=!1,t._useVertexColor=!1,t.registerEnabled=new Set,t._tint=[255,255,255,255],t.constantAttenuation=1,t.linearAttenuation=0,t.quadraticAttenuation=0,t.uModelMatrix=new o.default.Matrix,t.uViewMatrix=new o.default.Matrix,t.uMVMatrix=new o.default.Matrix,t.uPMatrix=new o.default.Matrix,t.uNMatrix=new o.default.Matrix(`mat3`),t.curMatrix=new o.default.Matrix(`mat3`),t._currentNormal=new o.default.Vector(0,0,1),t._curCamera=new o.default.Camera(v(t)),t._curCamera._computeCameraDefaultSettings(),t._curCamera._setDefaultCamera(),t.filterCamera=new o.default.Camera(v(t)),t.filterCamera._computeCameraDefaultSettings(),t.filterCamera._setDefaultCamera(),t.prevTouches=[],t.zoomVelocity=0,t.rotateVelocity=new o.default.Vector(0,0),t.moveVelocity=new o.default.Vector(0,0),t.executeZoom=!1,t.executeRotateAndMove=!1,t.specularShader=void 0,t.sphereMapping=void 0,t.diffusedShader=void 0,t._defaultLightShader=void 0,t._defaultImmediateModeShader=void 0,t._defaultNormalShader=void 0,t._defaultColorShader=void 0,t._defaultPointShader=void 0,t.userFillShader=void 0,t.userStrokeShader=void 0,t.userPointShader=void 0,t.retainedMode={geometry:{},buffers:{stroke:[new o.default.RenderBuffer(4,`lineVertexColors`,`lineColorBuffer`,`aVertexColor`,v(t)),new o.default.RenderBuffer(3,`lineVertices`,`lineVerticesBuffer`,`aPosition`,v(t)),new o.default.RenderBuffer(3,`lineTangentsIn`,`lineTangentsInBuffer`,`aTangentIn`,v(t)),new o.default.RenderBuffer(3,`lineTangentsOut`,`lineTangentsOutBuffer`,`aTangentOut`,v(t)),new o.default.RenderBuffer(1,`lineSides`,`lineSidesBuffer`,`aSide`,v(t))],fill:[new o.default.RenderBuffer(3,`vertices`,`vertexBuffer`,`aPosition`,v(t),t._vToNArray),new o.default.RenderBuffer(3,`vertexNormals`,`normalBuffer`,`aNormal`,v(t),t._vToNArray),new o.default.RenderBuffer(4,`vertexColors`,`colorBuffer`,`aVertexColor`,v(t)),new o.default.RenderBuffer(3,`vertexAmbients`,`ambientBuffer`,`aAmbientColor`,v(t)),new o.default.RenderBuffer(2,`uvs`,`uvBuffer`,`aTexCoord`,v(t),t._flatten)],text:[new o.default.RenderBuffer(3,`vertices`,`vertexBuffer`,`aPosition`,v(t),t._vToNArray),new o.default.RenderBuffer(2,`uvs`,`uvBuffer`,`aTexCoord`,v(t),t._flatten)]}},t.immediateMode={geometry:new o.default.Geometry,shapeMode:s.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new o.default.RenderBuffer(3,`vertices`,`vertexBuffer`,`aPosition`,v(t),t._vToNArray),new o.default.RenderBuffer(3,`vertexNormals`,`normalBuffer`,`aNormal`,v(t),t._vToNArray),new o.default.RenderBuffer(4,`vertexColors`,`colorBuffer`,`aVertexColor`,v(t)),new o.default.RenderBuffer(3,`vertexAmbients`,`ambientBuffer`,`aAmbientColor`,v(t)),new o.default.RenderBuffer(2,`uvs`,`uvBuffer`,`aTexCoord`,v(t),t._flatten)],stroke:[new o.default.RenderBuffer(4,`lineVertexColors`,`lineColorBuffer`,`aVertexColor`,v(t)),new o.default.RenderBuffer(3,`lineVertices`,`lineVerticesBuffer`,`aPosition`,v(t)),new o.default.RenderBuffer(3,`lineTangentsIn`,`lineTangentsInBuffer`,`aTangentIn`,v(t)),new o.default.RenderBuffer(3,`lineTangentsOut`,`lineTangentsOutBuffer`,`aTangentOut`,v(t)),new o.default.RenderBuffer(1,`lineSides`,`lineSidesBuffer`,`aSide`,v(t))],point:t.GL.createBuffer()}},t.pointSize=5,t.curStrokeWeight=1,t.curStrokeCap=s.ROUND,t.curStrokeJoin=s.ROUND,t.textures=new Map,t.framebuffers=new Set,t.activeFramebuffers=[],t.filterShader=void 0,t.filterLayer=void 0,t.filterLayerTemp=void 0,t.defaultFilterShaders={},t.textureMode=s.IMAGE,t.textureWrapX=s.CLAMP,t.textureWrapY=s.CLAMP,t._tex=null,t._curveTightness=6,t._lookUpTableBezier=[],t._lookUpTableQuadratic=[],t._lutBezierDetail=0,t._lutQuadraticDetail=0,t.isProcessingVertices=!1,t._tessy=t._initTessy(),t.fontInfos={},t._curShader=void 0,t;throw TypeError(`Cannot call a class as a function`)}return n=a,(t=[{key:`beginGeometry`,value:function(){if(this.geometryBuilder)throw Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new c.default(this)}},{key:`endGeometry`,value:function(){var t;if(this.geometryBuilder)return t=this.geometryBuilder.finish(),this.geometryBuilder=void 0,t;throw Error(`Make sure you call beginGeometry() before endGeometry()!`)}},{key:`buildGeometry`,value:function(t){return this.beginGeometry(),t(),this.endGeometry()}},{key:`_setAttributeDefaults`,value:function(t){var n={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes(`safari`),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};t._glAttributes===null?t._glAttributes=n:t._glAttributes=Object.assign(n,t._glAttributes)}},{key:`_initContext`,value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext(`webgl2`,this._pInst._glAttributes)),this.webglVersion=this.drawingContext?s.WEBGL2:s.WEBGL,this._pInst._setProperty(`webglVersion`,this.webglVersion),this.drawingContext||=this.canvas.getContext(`webgl`,this._pInst._glAttributes)||this.canvas.getContext(`experimental-webgl`,this._pInst._glAttributes),this.drawingContext===null)throw Error(`Error creating webgl context`);var t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:`_getParam`,value:function(){var t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}},{key:`_adjustDimensions`,value:function(t,n){this._maxTextureSize||=this._getParam();var r=this._maxTextureSize,r=(o.default.prototype._maxAllowedPixelDimensions,Math.floor(r/this.pixelDensity())),i=Math.min(t,r),r=Math.min(n,r);return i===t&&r===n||console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${i}, height: ${r}.`),{adjustedWidth:i,adjustedHeight:r}}},{key:`_resetContext`,value:function(t,n){var r,i=this.width,a=this.height,s=this.canvas.id,c=this._pInst instanceof o.default.Graphics,s=(c?((r=this._pInst).canvas.parentNode.removeChild(r.canvas),r.canvas=document.createElement(`canvas`),(r._pInst._userNode||document.body).appendChild(r.canvas),o.default.Element.call(r,r.canvas,r._pInst),r.width=i,r.height=a):((r=this.canvas)&&r.parentNode.removeChild(r),(r=document.createElement(`canvas`)).id=s,(this._pInst._userNode||document.body).appendChild(r),this._pInst.canvas=r,this.canvas=r),new o.default.RendererGL(this._pInst.canvas,this._pInst,!c));this._pInst._setProperty(`_renderer`,s),s.resize(i,a),s._applyDefaults(),c||this._pInst._elements.push(s),typeof n==`function`&&setTimeout(function(){n.apply(window._renderer,t)},0)}},{key:`_update`,value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:`background`,value:function(){var t=(t=this._pInst).color.apply(t,arguments),n=t.levels[0]/255,r=t.levels[1]/255,i=t.levels[2]/255,t=t.levels[3]/255;this.clear(n,r,i,t)}},{key:`fill`,value:function(t,n,r,i){this.curFillColor=o.default.prototype.color.apply(this._pInst,arguments)._array,this.drawMode=s.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:`stroke`,value:function(t,n,r,i){this.curStrokeColor=o.default.prototype.color.apply(this._pInst,arguments)._array}},{key:`strokeCap`,value:function(t){this.curStrokeCap=t}},{key:`strokeJoin`,value:function(t){this.curStrokeJoin=t}},{key:`getFilterLayer`,value:function(){return this.filterLayer||=this._pInst.createFramebuffer(),this.filterLayer}},{key:`getFilterLayerTemp`,value:function(){return this.filterLayerTemp||=this._pInst.createFramebuffer(),this.filterLayerTemp}},{key:`matchSize`,value:function(t,n){t.width===n.width&&t.height===n.height||t.resize(n.width,n.height),t.pixelDensity()!==n.pixelDensity()&&t.pixelDensity(n.pixelDensity())}},{key:`filter`,value:function(){var t,n,r=this,i=this.getFilterLayer(),a=void 0,c=void 0,l=(typeof(arguments.length<=0?void 0:arguments[0])==`string`?(c=arguments.length<=0?void 0:arguments[0],b(t={},s.BLUR,3),b(t,s.POSTERIZE,4),b(t,s.THRESHOLD,.5),a=c in(t=t)&&(arguments.length<=1?void 0:arguments[1])===void 0?t[c]:arguments.length<=1?void 0:arguments[1],c in this.defaultFilterShaders||(this.defaultFilterShaders[c]=new o.default.Shader(i._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,k[c])),this.filterShader=this.defaultFilterShaders[c]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),u=(this.matchSize(i,l),i.draw(function(){return r._pInst.clear()}),[1/(l.width*l.pixelDensity()),1/(l.height*l.pixelDensity())]);c===s.BLUR?(n=this.getFilterLayerTemp(),this.matchSize(n,l),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(s.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform(`texelSize`,u),this.filterShader.setUniform(`canvasSize`,[l.width,l.height]),this.filterShader.setUniform(`radius`,Math.max(1,a)),n.draw(function(){r.filterShader.setUniform(`direction`,[1,0]),r.filterShader.setUniform(`tex0`,l),r._pInst.clear(),r._pInst.shader(r.filterShader),r._pInst.noLights(),r._pInst.plane(l.width,l.height)}),i.draw(function(){r.filterShader.setUniform(`direction`,[0,1]),r.filterShader.setUniform(`tex0`,n),r._pInst.clear(),r._pInst.shader(r.filterShader),r._pInst.noLights(),r._pInst.plane(l.width,l.height)}),this._pInst.pop()):i.draw(function(){r._pInst.noStroke(),r._pInst.blendMode(s.BLEND),r._pInst.shader(r.filterShader),r.filterShader.setUniform(`tex0`,l),r.filterShader.setUniform(`texelSize`,u),r.filterShader.setUniform(`canvasSize`,[l.width,l.height]),r.filterShader.setUniform(`filterParameter`,a),r._pInst.noLights(),r._pInst.plane(l.width,l.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(s.CORNER),this._pInst.blendMode(s.BLEND),l.filterCamera._resize(),this._pInst.setCamera(l.filterCamera),this._pInst.resetMatrix(),this._pInst.image(i,-l.width/2,-l.height/2,l.width,l.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:`pixelDensity`,value:function(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}},{key:`blendMode`,value:function(t){t===s.DARKEST||t===s.LIGHTEST||t===s.ADD||t===s.BLEND||t===s.SUBTRACT||t===s.SCREEN||t===s.EXCLUSION||t===s.REPLACE||t===s.MULTIPLY||t===s.REMOVE?this.curBlendMode=t:t!==s.BURN&&t!==s.OVERLAY&&t!==s.HARD_LIGHT&&t!==s.SOFT_LIGHT&&t!==s.DODGE||console.warn(`BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.`)}},{key:`erase`,value:function(t,n){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(s.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,t/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,n/255])}},{key:`noErase`,value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:`drawTarget`,value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:`beginClip`,value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=(h(y(a.prototype),`beginClip`,this).call(this,t),this.drawTarget()._isClipApplied=!0,this.GL);t.clearStencil(0),t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),this._stencilTestOn=!0,t.stencilFunc(t.ALWAYS,1,255),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.disable(t.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:`endClip`,value:function(){this._pInst.pop();var t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),h(y(a.prototype),`endClip`,this).call(this)}},{key:`_clearClip`,value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:`strokeWeight`,value:function(t){this.curStrokeWeight!==t&&(this.pointSize=t,this.curStrokeWeight=t)}},{key:`_getPixel`,value:function(t,n){var r=this.GL;return j(r,null,t,n,r.RGBA,r.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:`loadPixels`,value:function(){var t,n,r=this._pixelsState;!0===this._pInst._glAttributes.preserveDrawingBuffer?(t=this._pInst._pixelDensity,n=this.GL,r._setProperty(`pixels`,A(r.pixels,n,null,0,0,this.width*t,this.height*t,n.RGBA,n.UNSIGNED_BYTE,this.height*t))):console.log(`loadPixels only works in WebGL when preserveDrawingBuffer is true.`)}},{key:`updatePixels`,value:function(){var t=this._getTempFramebuffer();t.pixels=this._pixelsState.pixels,t.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(s.CENTER),this._pInst.image(t,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:`_getTempFramebuffer`,value:function(){return this._tempFramebuffer||=this._pInst.createFramebuffer({format:s.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:s.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias}),this._tempFramebuffer}},{key:`geometryInHash`,value:function(t){return this.retainedMode.geometry[t]!==void 0}},{key:`viewport`,value:function(t,n){this._viewport=[0,0,t,n],this.GL.viewport(0,0,t,n)}},{key:`resize`,value:function(t,n){o.default.Renderer.prototype.resize.call(this,t,n),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var t=this._pixelsState,r=(t.pixels!==void 0&&t._setProperty(`pixels`,new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),n=!1,t=void 0;try{for(var i,a=this.framebuffers[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)i.value._canvasSizeChanged()}catch(r){n=!0,t=r}finally{try{r||a.return==null||a.return()}finally{if(n)throw t}}}},{key:`clear`,value:function(){var t=(arguments.length<=0?void 0:arguments[0])||0,n=(arguments.length<=1?void 0:arguments[1])||0,r=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0,a=this.activeFramebuffer();a&&a.format===s.UNSIGNED_BYTE&&!a.antialias&&i===0&&(i=1e-10),this.GL.clearColor(t*i,n*i,r*i,i),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:`clearDepth`,value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:`applyMatrix`,value:function(t,n,r,i,a,s){arguments.length===16?o.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([t,n,0,0,r,i,0,0,0,0,1,0,a,s,0,1])}},{key:`translate`,value:function(t,n,r){return t instanceof o.default.Vector&&(r=t.z,n=t.y,t=t.x),this.uModelMatrix.translate([t,n,r]),this}},{key:`scale`,value:function(t,n,r){return this.uModelMatrix.scale(t,n,r),this}},{key:`rotate`,value:function(t,n){return n===void 0?this.rotateZ(t):(o.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:`rotateX`,value:function(t){return this.rotate(t,1,0,0),this}},{key:`rotateY`,value:function(t){return this.rotate(t,0,1,0),this}},{key:`rotateZ`,value:function(t){return this.rotate(t,0,0,1),this}},{key:`push`,value:function(){var t=o.default.Renderer.prototype.push.apply(this),n=t.properties;return n.uModelMatrix=this.uModelMatrix.copy(),n.uViewMatrix=this.uViewMatrix.copy(),n.uPMatrix=this.uPMatrix.copy(),n._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),n.ambientLightColors=this.ambientLightColors.slice(),n.specularColors=this.specularColors.slice(),n.directionalLightDirections=this.directionalLightDirections.slice(),n.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),n.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),n.pointLightPositions=this.pointLightPositions.slice(),n.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),n.pointLightSpecularColors=this.pointLightSpecularColors.slice(),n.spotLightPositions=this.spotLightPositions.slice(),n.spotLightDirections=this.spotLightDirections.slice(),n.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),n.spotLightSpecularColors=this.spotLightSpecularColors.slice(),n.spotLightAngle=this.spotLightAngle.slice(),n.spotLightConc=this.spotLightConc.slice(),n.userFillShader=this.userFillShader,n.userStrokeShader=this.userStrokeShader,n.userPointShader=this.userPointShader,n.pointSize=this.pointSize,n.curStrokeWeight=this.curStrokeWeight,n.curStrokeColor=this.curStrokeColor,n.curFillColor=this.curFillColor,n.curAmbientColor=this.curAmbientColor,n.curSpecularColor=this.curSpecularColor,n.curEmissiveColor=this.curEmissiveColor,n._hasSetAmbient=this._hasSetAmbient,n._useSpecularMaterial=this._useSpecularMaterial,n._useEmissiveMaterial=this._useEmissiveMaterial,n._useShininess=this._useShininess,n._useMetalness=this._useMetalness,n.constantAttenuation=this.constantAttenuation,n.linearAttenuation=this.linearAttenuation,n.quadraticAttenuation=this.quadraticAttenuation,n._enableLighting=this._enableLighting,n._useNormalMaterial=this._useNormalMaterial,n._tex=this._tex,n.drawMode=this.drawMode,n._currentNormal=this._currentNormal,n.curBlendMode=this.curBlendMode,n.activeImageLight=this.activeImageLight,n.textureMode=this.textureMode,t}},{key:`pop`,value:function(){var t;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();var n=[...arguments];(t=h(y(a.prototype),`pop`,this)).call.apply(t,[this].concat(n)),this._applyStencilTestIfClipping()}},{key:`_applyStencilTestIfClipping`,value:function(){var t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&&(t._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:`resetMatrix`,value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:`_getImmediateStrokeShader`,value:function(){var t=this.userStrokeShader;return t&&t.isStrokeShader()?t:this._getLineShader()}},{key:`_getRetainedStrokeShader`,value:function(){return this._getImmediateStrokeShader()}},{key:`_getSphereMapping`,value:function(t){return this.sphereMapping||=this._pInst.createFilterShader(O),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform(`uFovY`,this._curCamera.cameraFOV),this.sphereMapping.setUniform(`uAspect`,this._curCamera.aspectRatio),this.sphereMapping.setUniform(`uNewNormalMatrix`,this.uNMatrix.mat3),this.sphereMapping.setUniform(`uSampler`,t),this.sphereMapping}},{key:`_getImmediateFillShader`,value:function(){var t=this.userFillShader;if(this._useNormalMaterial&&(!t||!t.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getImmediateModeShader();return t}},{key:`_getRetainedFillShader`,value:function(){if(this._useNormalMaterial)return this._getNormalShader();var t=this.userFillShader;if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getColorShader();return t}},{key:`_getImmediatePointShader`,value:function(){var t=this.userPointShader;return t&&t.isPointShader()?t:this._getPointShader()}},{key:`_getRetainedLineShader`,value:function(){return this._getImmediateLineShader()}},{key:`baseMaterialShader`,value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw Error(`The material shader does not support hooks without perPixelLighting. Try turning it back on.`)}},{key:`_getLightShader`,value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`highp`)+D.phongVert,this._webGL2CompatibilityPrefix(`frag`,`highp`)+D.phongFrag,{vertex:{"void beforeVertex":`() {}`,"vec3 getLocalPosition":`(vec3 position) { return position; }`,"vec3 getWorldPosition":`(vec3 position) { return position; }`,"vec3 getLocalNormal":`(vec3 normal) { return normal; }`,"vec3 getWorldNormal":`(vec3 normal) { return normal; }`,"vec2 getUV":`(vec2 uv) { return uv; }`,"vec4 getVertexColor":`(vec4 color) { return color; }`,"void afterVertex":`() {}`},fragment:{"void beforeFragment":`() {}`,"Inputs getPixelInputs":`(Inputs inputs) { return inputs; }`,"vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":`(vec4 color) { return color; }`,"void afterFragment":`() {}`}}):this._defaultLightShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`highp`)+D.lightVert,this._webGL2CompatibilityPrefix(`frag`,`highp`)+D.lightTextureFrag)),this._defaultLightShader}},{key:`_getImmediateModeShader`,value:function(){return this._defaultImmediateModeShader||=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`mediump`)+D.immediateVert,this._webGL2CompatibilityPrefix(`frag`,`mediump`)+D.vertexColorFrag),this._defaultImmediateModeShader}},{key:`baseNormalShader`,value:function(){return this._getNormalShader()}},{key:`_getNormalShader`,value:function(){return this._defaultNormalShader||=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`mediump`)+D.normalVert,this._webGL2CompatibilityPrefix(`frag`,`mediump`)+D.normalFrag,{vertex:{"void beforeVertex":`() {}`,"vec3 getLocalPosition":`(vec3 position) { return position; }`,"vec3 getWorldPosition":`(vec3 position) { return position; }`,"vec3 getLocalNormal":`(vec3 normal) { return normal; }`,"vec3 getWorldNormal":`(vec3 normal) { return normal; }`,"vec2 getUV":`(vec2 uv) { return uv; }`,"vec4 getVertexColor":`(vec4 color) { return color; }`,"void afterVertex":`() {}`},fragment:{"void beforeFragment":`() {}`,"vec4 getFinalColor":`(vec4 color) { return color; }`,"void afterFragment":`() {}`}}),this._defaultNormalShader}},{key:`baseColorShader`,value:function(){return this._getColorShader()}},{key:`_getColorShader`,value:function(){return this._defaultColorShader||=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`mediump`)+D.normalVert,this._webGL2CompatibilityPrefix(`frag`,`mediump`)+D.basicFrag,{vertex:{"void beforeVertex":`() {}`,"vec3 getLocalPosition":`(vec3 position) { return position; }`,"vec3 getWorldPosition":`(vec3 position) { return position; }`,"vec3 getLocalNormal":`(vec3 normal) { return normal; }`,"vec3 getWorldNormal":`(vec3 normal) { return normal; }`,"vec2 getUV":`(vec2 uv) { return uv; }`,"vec4 getVertexColor":`(vec4 color) { return color; }`,"void afterVertex":`() {}`},fragment:{"void beforeFragment":`() {}`,"vec4 getFinalColor":`(vec4 color) { return color; }`,"void afterFragment":`() {}`}}),this._defaultColorShader}},{key:`pointShader`,value:function(){return this._getPointShader()}},{key:`_getPointShader`,value:function(){return this._defaultPointShader||=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`mediump`)+D.pointVert,this._webGL2CompatibilityPrefix(`frag`,`mediump`)+D.pointFrag,{vertex:{"void beforeVertex":`() {}`,"vec3 getLocalPosition":`(vec3 position) { return position; }`,"vec3 getWorldPosition":`(vec3 position) { return position; }`,"float getPointSize":`(float size) { return size; }`,"void afterVertex":`() {}`},fragment:{"void beforeFragment":`() {}`,"vec4 getFinalColor":`(vec4 color) { return color; }`,"bool shouldDiscard":`(bool outside) { return outside; }`,"void afterFragment":`() {}`}}),this._defaultPointShader}},{key:`baseStrokeShader`,value:function(){return this._getLineShader()}},{key:`_getLineShader`,value:function(){return this._defaultLineShader||=new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`mediump`)+D.lineVert,this._webGL2CompatibilityPrefix(`frag`,`mediump`)+D.lineFrag,{vertex:{"void beforeVertex":`() {}`,"vec3 getLocalPosition":`(vec3 position) { return position; }`,"vec3 getWorldPosition":`(vec3 position) { return position; }`,"float getStrokeWeight":`(float weight) { return weight; }`,"vec2 getLineCenter":`(vec2 center) { return center; }`,"vec2 getLinePosition":`(vec2 position) { return position; }`,"vec4 getVertexColor":`(vec4 color) { return color; }`,"void afterVertex":`() {}`},fragment:{"void beforeFragment":`() {}`,"Inputs getPixelInputs":`(Inputs inputs) { return inputs; }`,"vec4 getFinalColor":`(vec4 color) { return color; }`,"bool shouldDiscard":`(bool outside) { return outside; }`,"void afterFragment":`() {}`}}),this._defaultLineShader}},{key:`_getFontShader`,value:function(){return this._defaultFontShader||=(this.webglVersion===s.WEBGL&&this.GL.getExtension(`OES_standard_derivatives`),new o.default.Shader(this,this._webGL2CompatibilityPrefix(`vert`,`highp`)+D.fontVert,this._webGL2CompatibilityPrefix(`frag`,`highp`)+D.fontFrag)),this._defaultFontShader}},{key:`_webGL2CompatibilityPrefix`,value:function(t,n){var r=``;return this.webglVersion===s.WEBGL2&&(r+=`#version 300 es
#define WEBGL2
`),t===`vert`?r+=`#define VERTEX_SHADER
`:t===`frag`&&(r+=`#define FRAGMENT_SHADER
`),n&&(r+=`precision ${n} float;
`),r}},{key:`_getEmptyTexture`,value:function(){var t;return this._emptyTexture||=((t=new o.default.Image(1,1)).set(0,0,255),new o.default.Texture(this,t)),this._emptyTexture}},{key:`getTexture`,value:function(t){t instanceof o.default.Framebuffer&&(t=t.color);var n=this.textures.get(t);return n||(n=new o.default.Texture(this,t),this.textures.set(t,n),n)}},{key:`getDiffusedTexture`,value:function(t){var n,r,i=this;return this.diffusedTextures.get(t)==null?(n=Math.floor(t.height/t.width*200),r=this._pInst.createFramebuffer({width:200,height:n,density:1}),this.diffusedShader||=this._pInst.createShader(D.imageLightVert,D.imageLightDiffusedFrag),r.draw(function(){i._pInst.shader(i.diffusedShader),i.diffusedShader.setUniform(`environmentMap`,t),i._pInst.noStroke(),i._pInst.rectMode(s.CENTER),i._pInst.noLights(),i._pInst.rect(0,0,200,n)}),this.diffusedTextures.set(t,r),r):this.diffusedTextures.get(t)}},{key:`getSpecularTexture`,value:function(t){var n=this;if(this.specularTextures.get(t)!=null)return this.specularTextures.get(t);for(var r,i=[],a=this._pInst.createFramebuffer({width:512,height:512,density:1}),o=Math.log(512)/Math.log(2),s=(this.specularShader||=this._pInst.createShader(D.imageLightVert,D.imageLightSpecularFrag),512);1<=s;s/=2)(function(r){a.resize(r,r);var s=1-Math.log(r)/Math.log(2)/o;a.draw(function(){n._pInst.shader(n.specularShader),n._pInst.clear(),n.specularShader.setUniform(`environmentMap`,t),n.specularShader.setUniform(`roughness`,s),n._pInst.noStroke(),n._pInst.noLights(),n._pInst.plane(r,r)}),i.push(a.get().drawingContext.getImageData(0,0,r,r))})(s);return a.remove(),r=new u.MipmapTexture(this,i,{}),this.specularTextures.set(t,r),r}},{key:`activeFramebuffer`,value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:`createFramebuffer`,value:function(t){return new o.default.Framebuffer(this,t)}},{key:`_setStrokeUniforms`,value:function(t){t.bindShader(),t.setUniform(`uUseLineColor`,this._useLineColor),t.setUniform(`uMaterialColor`,this.curStrokeColor),t.setUniform(`uStrokeWeight`,this.curStrokeWeight),t.setUniform(`uStrokeCap`,w[this.curStrokeCap]),t.setUniform(`uStrokeJoin`,T[this.curStrokeJoin])}},{key:`_setFillUniforms`,value:function(t){var n=this,r=(t.bindShader(),this.mixedSpecularColor=p(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(t,r){return n.curFillColor[r]*n._useMetalness+t*(1-n._useMetalness)})),t.setUniform(`uUseVertexColor`,this._useVertexColor),t.setUniform(`uMaterialColor`,this.curFillColor),t.setUniform(`isTexture`,!!this._tex),this._tex&&t.setUniform(`uSampler`,this._tex),t.setUniform(`uTint`,this._tint),t.setUniform(`uHasSetAmbient`,this._hasSetAmbient),t.setUniform(`uAmbientMatColor`,this.curAmbientColor),t.setUniform(`uSpecularMatColor`,this.mixedSpecularColor),t.setUniform(`uEmissiveMatColor`,this.curEmissiveColor),t.setUniform(`uSpecular`,this._useSpecularMaterial),t.setUniform(`uEmissive`,this._useEmissiveMaterial),t.setUniform(`uShininess`,this._useShininess),t.setUniform(`uMetallic`,this._useMetalness),this._setImageLightUniforms(t),t.setUniform(`uUseLighting`,this._enableLighting),this.pointLightDiffuseColors.length/3),r=(t.setUniform(`uPointLightCount`,r),t.setUniform(`uPointLightLocation`,this.pointLightPositions),t.setUniform(`uPointLightDiffuseColors`,this.pointLightDiffuseColors),t.setUniform(`uPointLightSpecularColors`,this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),r=(t.setUniform(`uDirectionalLightCount`,r),t.setUniform(`uLightingDirection`,this.directionalLightDirections),t.setUniform(`uDirectionalDiffuseColors`,this.directionalLightDiffuseColors),t.setUniform(`uDirectionalSpecularColors`,this.directionalLightSpecularColors),this.ambientLightColors.length/3),r=(this.mixedAmbientLight=p(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(t){return t-=n._useMetalness,Math.max(0,t)})),t.setUniform(`uAmbientLightCount`,r),t.setUniform(`uAmbientColor`,this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);t.setUniform(`uSpotLightCount`,r),t.setUniform(`uSpotLightAngle`,this.spotLightAngle),t.setUniform(`uSpotLightConc`,this.spotLightConc),t.setUniform(`uSpotLightDiffuseColors`,this.spotLightDiffuseColors),t.setUniform(`uSpotLightSpecularColors`,this.spotLightSpecularColors),t.setUniform(`uSpotLightLocation`,this.spotLightPositions),t.setUniform(`uSpotLightDirection`,this.spotLightDirections),t.setUniform(`uConstantAttenuation`,this.constantAttenuation),t.setUniform(`uLinearAttenuation`,this.linearAttenuation),t.setUniform(`uQuadraticAttenuation`,this.quadraticAttenuation),t.bindTextures()}},{key:`_setImageLightUniforms`,value:function(t){var n;t.setUniform(`uUseImageLight`,this.activeImageLight!=null),this.activeImageLight&&(n=this.getDiffusedTexture(this.activeImageLight),t.setUniform(`environmentMapDiffused`,n),n=this.getSpecularTexture(this.activeImageLight),t.setUniform(`environmentMapSpecular`,n))}},{key:`_setPointUniforms`,value:function(t){t.bindShader(),t.setUniform(`uMaterialColor`,this.curStrokeColor),t.setUniform(`uPointSize`,this.pointSize*this._pInst._pixelDensity)}},{key:`_bindBuffer`,value:function(t,n,r,i,a){n||=this.GL.ARRAY_BUFFER,this.GL.bindBuffer(n,t),r!==void 0&&((t=r)instanceof o.default.DataArray?t=r.dataArray():t instanceof(i||Float32Array)||(t=new(i||Float32Array)(t)),this.GL.bufferData(n,t,a||this.GL.STATIC_DRAW))}},{key:`_arraysEqual`,value:function(t,n){return t.length===n.length&&t.every(function(t,r){return t===n[r]})}},{key:`_isTypedArray`,value:function(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(n){return t instanceof n})}},{key:`_flatten`,value:function(t){return t.flat()}},{key:`_vToNArray`,value:function(t){return t.flatMap(function(t){return[t.x,t.y,t.z]})}},{key:`_bezierCoefficients`,value:function(t){var n=t*t,r=1-t,i=r*r;return[i*r,3*i*t,3*r*n,n*t]}},{key:`_quadraticCoefficients`,value:function(t){var n=1-t;return[n*n,2*n*t,t*t]}},{key:`_bezierToCatmull`,value:function(t){return[t[1],t[1]+(t[2]-t[0])/this._curveTightness,t[2]-(t[3]-t[1])/this._curveTightness,t[2]]}},{key:`_initTessy`,value:function(){var t=new l.default.GluTesselator;return t.gluTessCallback(l.default.gluEnum.GLU_TESS_VERTEX_DATA,function(t,n){var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;n.push(c)}}catch(t){i=!0,a=t}finally{try{r||s.return==null||s.return()}finally{if(i)throw a}}}),t.gluTessCallback(l.default.gluEnum.GLU_TESS_BEGIN,function(t){t!==l.default.primitiveType.GL_TRIANGLES&&console.log(`expected TRIANGLES but got type: ${t}`)}),t.gluTessCallback(l.default.gluEnum.GLU_TESS_ERROR,function(t){console.log(`error callback`),console.log(`error number: ${t}`)}),t.gluTessCallback(l.default.gluEnum.GLU_TESS_COMBINE,function(t,n,r){for(var i=Array(o.default.RendererGL.prototype.tessyVertexSize).fill(0),a=0;a<r.length;a++)for(var s=0;s<i.length;s++)r[a]!==0&&n[a]&&(i[s]+=n[a][s]*r[a]);return i}),t.gluTessCallback(l.default.gluEnum.GLU_TESS_EDGE_FLAG,function(t){}),t.gluTessProperty(l.default.gluEnum.GLU_TESS_WINDING_RULE,l.default.windingRule.GLU_TESS_WINDING_NONZERO),t}},{key:`_triangulate`,value:function(t){var n=t[0]?t[0][2]:void 0,r=!0,i=!0,a=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)for(var u=c.value,d=0;d<u.length;d+=o.default.RendererGL.prototype.tessyVertexSize)if(u[d+2]!==n){r=!1;break}}catch(t){a=!0,s=t}finally{try{i||l.return==null||l.return()}finally{if(a)throw s}}r?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var a=[],f=(this._tessy.gluTessBeginPolygon(a),!0),s=!1,p=void 0;try{for(var m,h=t[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var g=m.value;this._tessy.gluTessBeginContour();for(var _=0;_<g.length;_+=o.default.RendererGL.prototype.tessyVertexSize){var v=g.slice(_,_+o.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(v,v)}this._tessy.gluTessEndContour()}}catch(t){s=!0,p=t}finally{try{f||h.return==null||h.return()}finally{if(s)throw p}}return this._tessy.gluTessEndPolygon(),a}}])&&m(n.prototype,t),r&&m(n,r),a}(o.default.Renderer),o.default.prototype._assert3d=function(t){if(!this._renderer.isP3D)throw Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see https://p5js.org/examples/3d-geometries/ for more information.`)},o.default.RendererGL.prototype.tessyVertexSize=12,t=o.default.RendererGL,r.default=t},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,n,r){t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.concat`),t(`core-js/modules/es.array.index-of`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.array.slice`),t(`core-js/modules/es.array.some`),t(`core-js/modules/es.function.name`),t(`core-js/modules/es.object.assign`),t(`core-js/modules/es.object.keys`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/web.dom-collections.iterator`),Object.defineProperty(r,`__esModule`,{value:!0}),r.default=void 0;var i=(t=t(`../core/main`))&&t.__esModule?t:{default:t};function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)===`[object Arguments]`){var r=[],i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done)&&(r.push(s.value),!n||r.length!==n);i=!0);}catch(t){a=!0,o=t}finally{try{i||c.return==null||c.return()}finally{if(a)throw o}}return r}}(t,n)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance`)}()}function o(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i.default.Shader=function(){function t(n,r,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(!(this instanceof t))throw TypeError(`Cannot call a class as a function`);this._renderer=n,this._vertSrc=r,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:a.uniforms||{},declarations:a.declarations,helpers:a.helpers||{},vertex:a.vertex||{},fragment:a.fragment||{},modified:{vertex:a.modified&&a.modified.vertex||{},fragment:a.modified&&a.modified.fragment||{}}}}var n,r,s;return n=t,(r=[{key:`shaderSrc`,value:function(t,n){var r,i,o,s,c,t=a(t.split(`void main`),2),l=t[0],t=t[1],u=``;for(r in this.hooks.uniforms)u+=`uniform ${r};
`;for(i in this.hooks.declarations&&(u+=this.hooks.declarations+`
`),this.hooks[n].declarations&&(u+=this.hooks[n].declarations+`
`),this.hooks.helpers)u+=`${i}${this.hooks.helpers[i]}
`;for(o in this.hooks[n])o!==`declarations`&&(s=(c=a(o.split(` `),2))[0],c=c[1],this.hooks.modified[n][o]&&(u+=`#define AUGMENTED_HOOK_`+c+`
`),u+=s+` HOOK_`+c+this.hooks[n][o]+`
`);return l+u+`void main`+t}},{key:`version`,value:function(){var t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:`100 es`}},{key:`vertSrc`,value:function(){return this.shaderSrc(this._vertSrc,`vertex`)}},{key:`fragSrc`,value:function(){return this.shaderSrc(this._fragSrc,`fragment`)}},{key:`inspectHooks`,value:function(){for(var t in console.log(`==== Vertex shader hooks: ====`),this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?`[MODIFIED] `:``)+t+this.hooks.vertex[t]);for(var n in console.log(``),console.log(`==== Fragment shader hooks: ====`),this.hooks.fragment)console.log((this.hooks.modified.fragment[n]?`[MODIFIED] `:``)+n+this.hooks.fragment[n]);for(var r in console.log(``),console.log(`==== Helper functions: ====`),this.hooks.helpers)console.log(r+this.hooks.helpers[r])}},{key:`modify`,value:function(t){i.default._validateParameters(`p5.Shader.modify`,arguments);var n,r={vertex:{},fragment:{},helpers:{}};for(n in t)n!==`declarations`&&n!==`uniforms`&&(n===`vertexDeclarations`?r.vertex.declarations=(r.vertex.declarations||``)+`
`+t[n]:n===`fragmentDeclarations`?r.fragment.declarations=(r.fragment.declarations||``)+`
`+t[n]:this.hooks.vertex[n]?r.vertex[n]=t[n]:this.hooks.fragment[n]?r.fragment[n]=t[n]:r.helpers[n]=t[n]);var a,o,s=Object.assign({},this.hooks.modified.vertex),c=Object.assign({},this.hooks.modified.fragment);for(a in r.vertex||{})a!==`declarations`&&(s[a]=!0);for(o in r.fragment||{})o!==`declarations`&&(c[o]=!0);return new i.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||``)+`
`+(t.declarations||``),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,r.fragment||{}),vertex:Object.assign({},this.hooks.vertex,r.vertex||{}),helpers:Object.assign({},this.hooks.helpers,r.helpers||{}),modified:{vertex:s,fragment:c}})}},{key:`init`,value:function(){if(this._glProgram===0){var t,n=this._renderer.GL;if(this._vertShader=n.createShader(n.VERTEX_SHADER),n.shaderSource(this._vertShader,this.vertSrc()),n.compileShader(this._vertShader),!n.getShaderParameter(this._vertShader,n.COMPILE_STATUS))return t=n.getShaderInfoLog(this._vertShader),console.error(t),null;if(this._fragShader=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(this._fragShader,this.fragSrc()),n.compileShader(this._fragShader),!n.getShaderParameter(this._fragShader,n.COMPILE_STATUS))return t=n.getShaderInfoLog(this._fragShader),console.error(t),null;this._glProgram=n.createProgram(),n.attachShader(this._glProgram,this._vertShader),n.attachShader(this._glProgram,this._fragShader),n.linkProgram(this._glProgram),n.getProgramParameter(this._glProgram,n.LINK_STATUS)||i.default._friendlyError(`Snap! Error linking shader program: ${n.getProgramInfoLog(this._glProgram)}`),this._loadAttributes(),this._loadUniforms()}return this}},{key:`setDefaultUniforms`,value:function(){for(var t in this.hooks.uniforms){var n=a(t.split(` `),2)[1],t=this.hooks.uniforms[t],r=void 0;(r=t instanceof Function?t():t)!=null&&this.setUniform(n,r)}}},{key:`copyToContext`,value:function(t){var n=new i.default.Shader(t._renderer,this._vertSrc,this._fragSrc);return n.ensureCompiledOnContext(t),n}},{key:`ensureCompiledOnContext`,value:function(t){if(this._glProgram!==0&&this._renderer!==t._renderer)throw Error(`The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?`);this._glProgram===0&&(this._renderer=t._renderer,this.init())}},{key:`_loadAttributes`,value:function(){if(!this._loadedAttributes){this.attributes={};for(var t=this._renderer.GL,n=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES),r=0;r<n;++r){var i=t.getActiveAttrib(this._glProgram,r),a=i.name,o=t.getAttribLocation(this._glProgram,a),s={};s.name=a,s.location=o,s.index=r,s.type=i.type,s.size=i.size,this.attributes[a]=s}this._loadedAttributes=!0}}},{key:`_loadUniforms`,value:function(){if(!this._loadedUniforms){for(var t=this._renderer.GL,n=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS),r=0,i=0;i<n;++i){var a=t.getActiveUniform(this._glProgram,i),o={},s=(o.location=t.getUniformLocation(this._glProgram,a.name),o.size=a.size,a.name);1<a.size&&(s=s.substring(0,s.indexOf(`[0]`))),o.name=s,o.type=a.type,o._cachedData=void 0,o.type===t.SAMPLER_2D&&(o.samplerIndex=r,r++,this.samplers.push(o)),o.isArray=1<a.size||o.type===t.FLOAT_MAT3||o.type===t.FLOAT_MAT4||o.type===t.FLOAT_VEC2||o.type===t.FLOAT_VEC3||o.type===t.FLOAT_VEC4||o.type===t.INT_VEC2||o.type===t.INT_VEC4||o.type===t.INT_VEC3,this.uniforms[s]=o}this._loadedUniforms=!0}}},{key:`compile`,value:function(){}},{key:`bindShader`,value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform(`uViewport`,this._renderer._viewport))}},{key:`unbindShader`,value:function(){return this._bound&&=(this.unbindTextures(),!1),this}},{key:`bindTextures`,value:function(){var t=this._renderer.GL,n=!0,r=!1,i=void 0;try{for(var a,o=this.samplers[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=s.texture;c===void 0&&(c=this._renderer._getEmptyTexture()),t.activeTexture(t.TEXTURE0+s.samplerIndex),c.bindTexture(),c.update(),t.uniform1i(s.location,s.samplerIndex)}}catch(t){r=!0,i=t}finally{try{n||o.return==null||o.return()}finally{if(r)throw i}}}},{key:`updateTextures`,value:function(){var t=!0,n=!1,r=void 0;try{for(var i,a=this.samplers[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value.texture;o&&o.update()}}catch(t){n=!0,r=t}finally{try{t||a.return==null||a.return()}finally{if(n)throw r}}}},{key:`unbindTextures`,value:function(){var t=!0,n=!1,r=void 0;try{for(var i,a=this.samplers[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.setUniform(o.name,this._renderer._getEmptyTexture())}}catch(t){n=!0,r=t}finally{try{t||a.return==null||a.return()}finally{if(n)throw r}}}},{key:`_setMatrixUniforms`,value:function(){var t=this._renderer.uModelMatrix,n=this._renderer.uViewMatrix,r=this._renderer.uPMatrix,i=t.copy().mult(n),a=(this._renderer.uMVMatrix=i).copy();a.mult(r),this.isStrokeShader()&&this.setUniform(`uPerspective`,this._renderer._curCamera.useLinePerspective?1:0),this.setUniform(`uViewMatrix`,n.mat4),this.setUniform(`uProjectionMatrix`,r.mat4),this.setUniform(`uModelMatrix`,t.mat4),this.setUniform(`uModelViewMatrix`,i.mat4),this.setUniform(`uModelViewProjectionMatrix`,a.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform(`uNormalMatrix`,this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform(`uCameraRotation`,this._renderer.curMatrix.mat3))}},{key:`useProgram`,value:function(){var t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:`setUniform`,value:function(t,n){var r=this.uniforms[t];if(r){var a=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,n))return;r._cachedData=n.slice(0)}else{if(r._cachedData&&r._cachedData===n)return;Array.isArray(n)?r._cachedData=n.slice(0):r._cachedData=n}var o=r.location;switch(this.useProgram(),r.type){case a.BOOL:!0===n?a.uniform1i(o,1):a.uniform1i(o,0);break;case a.INT:1<r.size?n.length&&a.uniform1iv(o,n):a.uniform1i(o,n);break;case a.FLOAT:1<r.size?n.length&&a.uniform1fv(o,n):a.uniform1f(o,n);break;case a.FLOAT_MAT3:a.uniformMatrix3fv(o,!1,n);break;case a.FLOAT_MAT4:a.uniformMatrix4fv(o,!1,n);break;case a.FLOAT_VEC2:1<r.size?n.length&&a.uniform2fv(o,n):a.uniform2f(o,n[0],n[1]);break;case a.FLOAT_VEC3:1<r.size?n.length&&a.uniform3fv(o,n):a.uniform3f(o,n[0],n[1],n[2]);break;case a.FLOAT_VEC4:1<r.size?n.length&&a.uniform4fv(o,n):a.uniform4f(o,n[0],n[1],n[2],n[3]);break;case a.INT_VEC2:1<r.size?n.length&&a.uniform2iv(o,n):a.uniform2i(o,n[0],n[1]);break;case a.INT_VEC3:1<r.size?n.length&&a.uniform3iv(o,n):a.uniform3i(o,n[0],n[1],n[2]);break;case a.INT_VEC4:1<r.size?n.length&&a.uniform4iv(o,n):a.uniform4i(o,n[0],n[1],n[2],n[3]);break;case a.SAMPLER_2D:if(typeof n==`number`){if(n<a.TEXTURE0||n>a.TEXTURE31||n!==Math.ceil(n))return console.log(` p5.js says: You're trying to use a number as the data for a texture.Please use a texture.`),this;a.activeTexture(n),a.uniform1i(o,n)}else a.activeTexture(a.TEXTURE0+r.samplerIndex),r.texture=n instanceof i.default.Texture?n:this._renderer.getTexture(n),a.uniform1i(o,r.samplerIndex),r.texture.src.gifProperties&&r.texture.src._animateGif(this._renderer._pInst);break;case a.SAMPLER_CUBE:case a.SAMPLER_3D:case a.SAMPLER_2D_SHADOW:case a.SAMPLER_2D_ARRAY:case a.SAMPLER_2D_ARRAY_SHADOW:case a.SAMPLER_CUBE_SHADOW:case a.INT_SAMPLER_2D:case a.INT_SAMPLER_3D:case a.INT_SAMPLER_CUBE:case a.INT_SAMPLER_2D_ARRAY:case a.UNSIGNED_INT_SAMPLER_2D:case a.UNSIGNED_INT_SAMPLER_3D:case a.UNSIGNED_INT_SAMPLER_CUBE:case a.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof n==`number`&&(n<a.TEXTURE0||n>a.TEXTURE31||n!==Math.ceil(n)?console.log(` p5.js says: You're trying to use a number as the data for a texture.Please use a texture.`):(a.activeTexture(n),a.uniform1i(o,n)))}return this}}},{key:`isLightShader`,value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(t){return t!==void 0})}},{key:`isNormalShader`,value:function(){return this.attributes.aNormal!==void 0}},{key:`isTextureShader`,value:function(){return 0<this.samplers.length}},{key:`isColorShader`,value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:`isTexLightShader`,value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:`isStrokeShader`,value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:`enableAttrib`,value:function(t,n,r,i,a,o){var s;return t&&(t=t.location)!==-1&&(s=this._renderer.GL,this._renderer.registerEnabled.has(t)||(s.enableVertexAttribArray(t),this._renderer.registerEnabled.add(t)),this._renderer.GL.vertexAttribPointer(t,n,r||s.FLOAT,i||!1,a||0,o||0)),this}},{key:`disableRemainingAttributes`,value:function(){var t=this,n=!0,r=!1,i=void 0;try{for(var a,o=this._renderer.registerEnabled.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)(function(){var n=a.value;Object.keys(t.attributes).some(function(r){return t.attributes[r].location===n})||(t._renderer.GL.disableVertexAttribArray(n),t._renderer.registerEnabled.delete(n))})()}catch(t){r=!0,i=t}finally{try{n||o.return==null||o.return()}finally{if(r)throw i}}}}])&&o(n.prototype,r),s&&o(n,s),t}(),t=i.default.Shader,r.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.get-prototype-of`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.reflect.construct`),t(`core-js/modules/es.regexp.to-string`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.typed-array.uint8-array`),t(`core-js/modules/es.typed-array.copy-within`),t(`core-js/modules/es.typed-array.every`),t(`core-js/modules/es.typed-array.fill`),t(`core-js/modules/es.typed-array.filter`),t(`core-js/modules/es.typed-array.find`),t(`core-js/modules/es.typed-array.find-index`),t(`core-js/modules/es.typed-array.for-each`),t(`core-js/modules/es.typed-array.includes`),t(`core-js/modules/es.typed-array.index-of`),t(`core-js/modules/es.typed-array.iterator`),t(`core-js/modules/es.typed-array.join`),t(`core-js/modules/es.typed-array.last-index-of`),t(`core-js/modules/es.typed-array.map`),t(`core-js/modules/es.typed-array.reduce`),t(`core-js/modules/es.typed-array.reduce-right`),t(`core-js/modules/es.typed-array.reverse`),t(`core-js/modules/es.typed-array.set`),t(`core-js/modules/es.typed-array.slice`),t(`core-js/modules/es.typed-array.some`),t(`core-js/modules/es.typed-array.sort`),t(`core-js/modules/es.typed-array.subarray`),t(`core-js/modules/es.typed-array.to-locale-string`),t(`core-js/modules/es.typed-array.to-string`),Object.defineProperty(r,`__esModule`,{value:!0}),r.checkWebGLCapabilities=g,r.default=r.MipmapTexture=void 0;var o=(h=t(`../core/main`))&&h.__esModule?h:{default:h},s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=c();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function c(){var t;return typeof WeakMap==`function`?(t=new WeakMap,c=function(){return t},t):null}function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t){return function(){var n,r=d(t),r=(n=function(){if(typeof Reflect<`u`&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy==`function`)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(n=d(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),this);if(!n||a(n)!==`object`&&typeof n!=`function`){if(r!==void 0)return r;throw ReferenceError(`this hasn't been initialised - super() hasn't been called`)}return n}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,n){if(!(t instanceof n))throw TypeError(`Cannot call a class as a function`)}function p(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,n,r){n&&p(t.prototype,n),r&&p(t,r)}o.default.Texture=function(){function t(n,r,i){f(this,t),this._renderer=n;var a=this._renderer.GL,i=(i||={},this.src=r,this.glTex=void 0,this.glTarget=a.TEXTURE_2D,this.glFormat=i.format||a.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||a.LINEAR,this.glMagFilter=i.magFilter||a.LINEAR,this.glWrapS=i.wrapS||a.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||a.CLAMP_TO_EDGE,this.glDataType=i.dataType||a.UNSIGNED_BYTE,g(n)),n=(this.glFormat!==a.HALF_FLOAT||i.halfFloat||(console.log(`This device does not support dataType HALF_FLOAT. Falling back to FLOAT.`),this.glDataType=a.FLOAT),this.glFormat!==a.HALF_FLOAT||this.glMinFilter!==a.LINEAR&&this.glMagFilter!==a.LINEAR||i.halfFloatLinear||(console.log(`This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST.`),this.glMinFilter===a.LINEAR&&(this.glMinFilter=a.NEAREST),this.glMagFilter===a.LINEAR&&(this.glMagFilter=a.NEAREST)),this.glFormat!==a.FLOAT||i.float||(console.log(`This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE.`),this.glDataType=a.UNSIGNED_BYTE),this.glFormat!==a.FLOAT||this.glMinFilter!==a.LINEAR&&this.glMagFilter!==a.LINEAR||i.floatLinear||(console.log(`This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST.`),this.glMinFilter===a.LINEAR&&(this.glMinFilter=a.NEAREST),this.glMagFilter===a.LINEAR&&(this.glMagFilter=a.NEAREST)),this.isSrcMediaElement=o.default.MediaElement!==void 0&&r instanceof o.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=o.default.Element!==void 0&&r instanceof o.default.Element&&!(r instanceof o.default.Graphics)&&!(r instanceof o.default.Renderer),this.isSrcP5Image=r instanceof o.default.Image,this.isSrcP5Graphics=r instanceof o.default.Graphics,this.isSrcP5Renderer=r instanceof o.default.Renderer,this.isImageData=typeof ImageData<`u`&&r instanceof ImageData,this.isFramebufferTexture=r instanceof o.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=n.width,this.height=n.height,this.init(n),this}return m(t,[{key:`_getTextureDataFromSource`,value:function(){var t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),t=this.src.canvas||this.src.elt):this.isImageData&&(t=this.src),t}},{key:`init`,value:function(t){var n,r=this._renderer.GL;this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(n=new Uint8Array([1,1,1,1]),r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,n)):r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t))}},{key:`update`,value:function(){var t,n,r,i=this.src;return i.width!==0&&i.height!==0&&!this.isFramebufferTexture&&(t=this._getTextureDataFromSource(),n=!1,r=this._renderer.GL,t.width!==this.width||t.height!==this.height?(n=!0,this.width=t.width||i.width,this.height=t.height||i.height,this.isSrcP5Image?i.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&i.setModified(!0)):this.isSrcP5Image?i.isModified()&&i.setModified(!(n=!0)):this.isSrcMediaElement?i.isModified()?i.setModified(!(n=!0)):i.loadedmetadata&&this._videoPrevUpdateTime!==i.time()&&(this._videoPrevUpdateTime=i.time(),n=!0):this.isImageData?i._dirty&&(n=!(i._dirty=!1)):n=!0,n&&(this.bindTexture(),r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)),n)}},{key:`bindTexture`,value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:`unbindTexture`,value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:`getTexture`,value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:`setInterpolation`,value:function(t,n){var r=this._renderer.GL;this.glMinFilter=this.glFilter(t),this.glMagFilter=this.glFilter(n),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:`glFilter`,value:function(t){var n=this._renderer.GL;return t===s.NEAREST?n.NEAREST:n.LINEAR}},{key:`setWrapMode`,value:function(t,n){function r(t){return(t&t-1)==0}var i=this._renderer.GL,a=this._getTextureDataFromSource(),a=a.naturalWidth&&a.naturalHeight?(o=a.naturalWidth,a.naturalHeight):(o=this.width,this.height),o=r(o),a=r(a);t===s.REPEAT?this._renderer.webglVersion===s.WEBGL2||o&&a?this.glWrapS=i.REPEAT:(console.warn(`You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead`),this.glWrapS=i.CLAMP_TO_EDGE):t===s.MIRROR?this._renderer.webglVersion===s.WEBGL2||o&&a?this.glWrapS=i.MIRRORED_REPEAT:(console.warn(`You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead`),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,n===s.REPEAT?this._renderer.webglVersion===s.WEBGL2||o&&a?this.glWrapT=i.REPEAT:(console.warn(`You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead`),this.glWrapT=i.CLAMP_TO_EDGE):n===s.MIRROR?this._renderer.webglVersion===s.WEBGL2||o&&a?this.glWrapT=i.MIRRORED_REPEAT:(console.warn(`You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead`),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),t}();var h=function(t){var n=i;if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&l(n,t);var r=u(i);function i(t,n,a){return f(this,i),n=(t=r.call(this,t,n,a))._renderer.GL,t.glMinFilter===n.LINEAR&&(t.glMinFilter=n.LINEAR_MIPMAP_LINEAR),t}return m(i,[{key:`glFilter`,value:function(t){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:`_getTextureDataFromSource`,value:function(){return this.src}},{key:`init`,value:function(t){var n=this._renderer.GL;this.glTex=n.createTexture(),this.bindTexture();for(var r=0;r<t.length;r++)n.texImage2D(this.glTarget,r,this.glFormat,this.glFormat,this.glDataType,t[r]);this.glMinFilter=n.LINEAR_MIPMAP_LINEAR,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:`update`,value:function(){}}]),i}(o.default.Texture);function g(t){var n=t.GL,t=t.webglVersion,r=t===s.WEBGL2?n.getExtension(`EXT_color_buffer_float`)&&n.getExtension(`EXT_float_blend`):n.getExtension(`OES_texture_float`),i=r&&n.getExtension(`OES_texture_float_linear`),t=t===s.WEBGL2?n.getExtension(`EXT_color_buffer_float`):n.getExtension(`OES_texture_half_float`);return{float:r,floatLinear:i,halfFloat:t,halfFloatLinear:t&&n.getExtension(`OES_texture_half_float_linear`)}}r.MipmapTexture=h,t=o.default.Texture,r.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,n,r){function i(t){return(i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(t){return typeof t}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:typeof t})(t)}function a(t){return(a=typeof Symbol==`function`&&i(Symbol.iterator)===`symbol`?function(t){return i(t)}:function(t){return t&&typeof Symbol==`function`&&t.constructor===Symbol&&t!==Symbol.prototype?`symbol`:i(t)})(t)}t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.get-own-property-descriptor`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.sub`),t(`core-js/modules/es.weak-map`),t(`core-js/modules/web.dom-collections.iterator`),t(`core-js/modules/es.symbol`),t(`core-js/modules/es.symbol.description`),t(`core-js/modules/es.symbol.iterator`),t(`core-js/modules/es.array.iterator`),t(`core-js/modules/es.object.to-string`),t(`core-js/modules/es.regexp.exec`),t(`core-js/modules/es.string.iterator`),t(`core-js/modules/es.string.split`),t(`core-js/modules/es.string.sub`),t(`core-js/modules/web.dom-collections.iterator`);var o,s=(o=t(`../core/main`))&&o.__esModule?o:{default:o},c=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!==`object`&&typeof t!=`function`)return{default:t};var n=l();if(n&&n.has(t))return n.get(t);var r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in t){var s;Object.prototype.hasOwnProperty.call(t,r)&&((s=o?Object.getOwnPropertyDescriptor(t,r):null)&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r])}return i.default=t,n&&n.set(t,i),i}(t(`../core/constants`));function l(){var t;return typeof WeakMap==`function`?(t=new WeakMap,l=function(){return t},t):null}function u(t,n){if(!(t instanceof n))throw TypeError(`Cannot call a class as a function`)}function d(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,`value`in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,n,r){n&&d(t.prototype,n),r&&d(t,r)}t(`./p5.Shader`),t(`./p5.RendererGL.Retained`),s.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty(`_textAscent`,null),this._setProperty(`_textDescent`,null)},s.default.RendererGL.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):0};var p=function(){function t(n,r){u(this,t),this.width=n,this.height=r,this.infos=[]}return f(t,[{key:`findImage`,value:function(t){var n,r,i=this.width*this.height;if(i<t)throw Error(`font is too complex to render in 3D`);for(var a=this.infos.length-1;0<=a;--a){var o=this.infos[a];if(o.index+t<i){r=(n=o).imageData;break}}if(!n){try{r=new ImageData(this.width,this.height)}catch{var s=document.getElementsByTagName(`canvas`)[0],c=!s,l=(s||((s=document.createElement(`canvas`)).style.display=`none`,document.body.appendChild(s)),s.getContext(`2d`));l&&(r=l.createImageData(this.width,this.height)),c&&document.body.removeChild(s)}this.infos.push(n={index:0,imageData:r})}return l=n.index,n.index+=t,r._dirty=!0,{imageData:r,index:l}}}]),t}();function m(t,n,r,i,a){var o=t.imageData.data,t=4*t.index++;o[t++]=n,o[t++]=r,o[t++]=i,o[+t]=a}var h=Math.sqrt(3),g=function(){function t(n){u(this,t),this.font=n,this.strokeImageInfos=new p(64,64),this.colDimImageInfos=new p(64,64),this.rowDimImageInfos=new p(64,64),this.colCellImageInfos=new p(64,64),this.rowCellImageInfos=new p(64,64),this.glyphInfos={}}return f(t,[{key:`getGlyphInfo`,value:function(t){var n=this.glyphInfos[t.index];if(!n){var r=t.getBoundingBox(),i=r.x1,a=r.y1,o=r.x2-i,c=r.y2-a,l=t.path.commands;if(o==0||c==0||!l.length)return this.glyphInfos[t.index]={};for(var d=[],p=[],g=[],_=8;0<=_;--_)g.push([]);for(_=8;0<=_;--_)p.push([]);var v,y,b,x,S=function(){function t(n,r,i,a){u(this,t),this.p0=n,this.c0=r,this.c1=i,this.p1=a}return f(t,[{key:`toQuadratic`,value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:`quadError`,value:function(){return s.default.Vector.sub(s.default.Vector.sub(this.p1,this.p0),s.default.Vector.mult(s.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:`split`,value:function(n){var r=s.default.Vector.lerp(this.p0,this.c0,n),i=s.default.Vector.lerp(this.c0,this.c1,n),a=s.default.Vector.lerp(r,i,n),i=(this.c1=s.default.Vector.lerp(this.c1,this.p1,n),this.c0=s.default.Vector.lerp(i,this.c1,n),s.default.Vector.lerp(a,this.c0,n)),n=new t(this.p0,r,a,i);return this.p0=i,n}},{key:`splitInflections`,value:function(){var t=s.default.Vector.sub(this.c0,this.p0),n=s.default.Vector.sub(s.default.Vector.sub(this.c1,this.c0),t),r=s.default.Vector.sub(s.default.Vector.sub(s.default.Vector.sub(this.p1,this.c1),t),s.default.Vector.mult(n,2)),i=[],a=n.x*r.y-n.y*r.x;return a!==0&&0<=(t=(r=t.x*r.y-t.y*r.x)*r-4*a*(t.x*n.y-t.y*n.x))&&(a<0&&(a=-a,r=-r),t=(-r+(n=Math.sqrt(t)))/(2*a),0<(r=(-r-n)/(2*a))&&r<1&&(i.push(this.split(r)),t=1-(1-t)/(1-r)),0<t&&t<1&&i.push(this.split(t))),i.push(this),i}}]),t}(),C=!0,w=!1,T=void 0;try{for(var E,D=l[Symbol.iterator]();!(C=(E=D.next()).done);C=!0){var O=E.value,k=(O.x-i)/o,A=(O.y-a)/c;if(!W(v,y,k,A)){switch(O.type){case`M`:b=k,x=A;break;case`L`:U(v,y,k,A);break;case`Q`:var j=(O.x1-i)/o,M=(O.y1-a)/c;V([v,k,j],[y,A,M],{x:v,y,cx:j,cy:M});break;case`Z`:W(v,y,b,x)?d.push({x:v,y}):(U(v,y,b,x),d.push({x:b,y:x}));break;case`C`:for(var N=function(t,n,r,i,a,o,c,l){var t=new S(new s.default.Vector(t,n),new s.default.Vector(r,i),new s.default.Vector(a,o),new s.default.Vector(c,l)).splitInflections(),u=[],d=30/h,f=!0,n=!1,r=void 0;try{for(var p,m=t[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){for(var g=p.value,_=[],v=void 0;!(.125<=(v=d/g.quadError()));){var y=v**(1/3),b=g.split(y),x=g.split(1-y/(1-y));u.push(b),_.push(g),g=x}v<1&&u.push(g.split(.5)),u.push(g),Array.prototype.push.apply(u,_.reverse())}}catch(t){n=!0,r=t}finally{try{f||m.return==null||m.return()}finally{if(n)throw r}}return u}(v,y,(O.x1-i)/o,(O.y1-a)/c,(O.x2-i)/o,(O.y2-a)/c,k,A),P=0;P<N.length;P++){var F=N[P].toQuadratic();V([F.x,F.x1,F.cx],[F.y,F.y1,F.cy],F)}break;default:throw Error(`unknown command type: ${O.type}`)}v=k,y=A}}}catch(t){w=!0,T=t}finally{try{C||D.return==null||D.return()}finally{if(w)throw T}}for(var I=d.length,L=this.strokeImageInfos.findImage(I),R=L.index,z=0;z<I;++z){var B=d[z];m(L,H(B.x),H(B.y),H(B.cx),H(B.cy))}(n=this.glyphInfos[t.index]={glyph:t,uGlyphRect:[r.x1,-r.y1,r.x2,-r.y2],strokeImageInfo:L,strokes:d,colInfo:ee(g,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ee(p,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[n.colInfo.dimOffset,n.rowInfo.dimOffset]}return n;function V(t,n,r){var i=d.length;function a(t,n,r){for(var i=t.length;0<i--;){var a=t[i];a<n&&(n=a),r<a&&(r=a)}return{min:n,max:r}}d.push(r);for(var r=a(t,1,0),t=Math.max(Math.floor(9*r.min-.5),0),o=Math.min(Math.ceil(9*r.max+.5),9),s=t;s<o;++s)g[s].push(i);for(var r=a(n,1,0),t=Math.max(Math.floor(9*r.min-.5),0),c=Math.min(Math.ceil(9*r.max+.5),9),l=t;l<c;++l)p[l].push(i)}function H(t){return(t=(r=255)*t)<(n=0)?n:r<t?r:t;var n,r}function U(t,n,r,i){V([t,r],[n,i],{x:t,y:n,cx:(t+r)/2,cy:(n+i)/2})}function W(t,n,r,i){return Math.abs(r-t)<1e-5&&Math.abs(i-n)<1e-5}function ee(t,n,r){for(var i=t.length,a=n.findImage(i),n=a.index,o=0,s=0;s<i;++s)o+=t[s].length;for(var c=r.findImage(o),l=0;l<i;++l){var u=t[l],d=u.length,f=c.index;m(a,f>>7,127&f,d>>7,127&d);for(var p=0;p<d;++p){var h=u[p]+R;m(c,h>>7,127&h,0,0)}}return{cellImageInfo:c,dimOffset:n,dimImageInfo:a}}}}]),t}();s.default.RendererGL.prototype._renderText=function(t,n,r,i,a){if(this._textFont&&typeof this._textFont!=`string`){if(!(a<=i)&&this._doFill){if(this._isOpenType()){t.push();var a=this._doStroke,o=this.drawMode,l=(this._doStroke=!1,this.drawMode=c.TEXTURE,this._textFont.font),u=(u=this._textFont._fontInfo)||(this._textFont._fontInfo=new g(l)),r=this._textFont._handleAlignment(this,n,r,i),i=this._textSize/l.unitsPerEm,d=(this.translate(r.x,r.y,0),this.scale(i,i,1),this.GL),r=!this._defaultFontShader,f=this._getFontShader(),p=(f.init(),f.bindShader(),r&&(f.setUniform(`uGridImageSize`,[64,64]),f.setUniform(`uCellsImageSize`,[64,64]),f.setUniform(`uStrokeImageSize`,[64,64]),f.setUniform(`uGridSize`,[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),m=(p||=((i=this._textGeom=new s.default.Geometry(1,1,function(){for(var t=0;t<=1;t++)for(var n=0;n<=1;n++)this.vertices.push(new s.default.Vector(n,t,0)),this.uvs.push(n,t)})).computeFaces().computeNormals(),this.createBuffers(`glyph`,i)),!0),r=!1,i=void 0;try{for(var h,_=this.retainedMode.buffers.text[Symbol.iterator]();!(m=(h=_.next()).done);m=!0)h.value._prepareBuffer(p,f)}catch(t){r=!0,i=t}finally{try{m||_.return==null||_.return()}finally{if(r)throw i}}this._bindBuffer(p.indexBuffer,d.ELEMENT_ARRAY_BUFFER),f.setUniform(`uMaterialColor`,this.curFillColor),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var v=0,y=null,b=l.stringToGlyphs(n),x=!0,S=!1,C=void 0;try{for(var w,T=b[Symbol.iterator]();!(x=(w=T.next()).done);x=!0){var E,D,O=w.value,k=(y&&(v+=l.getKerningValue(y,O)),u.getGlyphInfo(O));k.uGlyphRect&&(E=k.rowInfo,D=k.colInfo,f.setUniform(`uSamplerStrokes`,k.strokeImageInfo.imageData),f.setUniform(`uSamplerRowStrokes`,E.cellImageInfo.imageData),f.setUniform(`uSamplerRows`,E.dimImageInfo.imageData),f.setUniform(`uSamplerColStrokes`,D.cellImageInfo.imageData),f.setUniform(`uSamplerCols`,D.dimImageInfo.imageData),f.setUniform(`uGridOffset`,k.uGridOffset),f.setUniform(`uGlyphRect`,k.uGlyphRect),f.setUniform(`uGlyphOffset`,v),f.bindTextures(),d.drawElements(d.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),v+=O.advanceWidth,y=O}}catch(t){S=!0,C=t}finally{try{x||T.return==null||T.return()}finally{if(S)throw C}}}finally{f.unbindShader(),this._doStroke=a,this.drawMode=o,d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.pop()}}else console.log(`WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported`);return t}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}))()),f=class{position;rows;columns;cellSize;spacing;grid;constructor(t,n,r,i,a){this.position=t,this.rows=n,this.columns=r,this.cellSize=i,this.spacing=a,this.grid=p.empty(n,r),this.grid.setCell(1,0,0)}draw(t){for(let n=0;n<this.grid.rows;n++)for(let r=0;r<this.grid.columns;r++){let i=this.grid.getCell(n,r),a=this.position.x+this.cellSize*r+this.spacing*(r-1),o=this.position.y+this.cellSize*n+this.spacing*(n-1);this.collision(t.mouseX,t.mouseY,a,o,this.cellSize,this.cellSize)?t.stroke(255):t.stroke(0),t.strokeWeight(3),i==0?t.fill(255,0,0):t.fill(0,255,0),t.rect(a,o,this.cellSize,this.cellSize,5)}}mouseInput(t,n){for(let r=0;r<this.grid.rows;r++)for(let i=0;i<this.grid.columns;i++){let a=this.grid.getCell(r,i),o=this.position.x+this.cellSize*i+this.spacing*(i-1),s=this.position.y+this.cellSize*r+this.spacing*(r-1);this.collision(t,n,o,s,this.cellSize,this.cellSize)&&this.grid.setCell(a===0?1:0,r,i)}}collision(t,n,r,i,a,o){return t>=r&&t<=r+a&&n>=i&&n<=i+o}},p=class t{cells;rows;columns;constructor(t,n,r){this.cells=t,this.rows=n,this.columns=r}static empty(n,r){let i=Array(n*r).fill(0);return new t(i,n,r)}setCell(t,n,r){this.cells[n*this.columns+r]=t}getCell(t,n){return this.cells[t*this.columns+n]}getNeighbors(n,r){let i=t.empty(3,3);for(let t=-1;t<=1;t++)for(let a=-1;a<=1;a++){let o=n+t,s=r+a,c=o>=0&&o<this.rows&&s>=0&&s<this.columns?this.getCell(o,s):-1;i.setCell(c,t+1,a+1)}return i}isEmpty(){return this.cells.every(t=>t===0)}copy(){return new t([...this.cells],this.rows,this.columns)}};function m(t,n,r,i){let a=[];for(let o=0;o<r.rows;o++)for(let s=0;s<r.columns;s++){let c=r.getCell(o,s),l=t+i*s,u=n+i*o,d=r.getNeighbors(o,s);if(c==1){if(d.getCell(1,0)==-1||d.getCell(1,0)==0){let t=l,n=u,r=l,o=u+i;a.push({start:{x:t,y:n},end:{x:r,y:o}})}if(d.getCell(0,1)==-1||d.getCell(0,1)==0){let t=l,n=u,r=l+i,o=u;a.push({start:{x:t,y:n},end:{x:r,y:o}})}if(d.getCell(1,2)==-1||d.getCell(1,2)==0){let t=l+i,n=u,r=l+i,o=u+i;a.push({start:{x:t,y:n},end:{x:r,y:o}})}if(d.getCell(2,1)==-1||d.getCell(2,1)==0){let t=l,n=u+i,r=l+i,o=u+i;a.push({start:{x:t,y:n},end:{x:r,y:o}})}}}return a}function h(t){if(t.length===0)return[];let n=[...t],r=[n.shift()];for(;n.length>0;){let t=r[r.length-1],i={x:t.end.x,y:t.end.y},a=!1;for(let t=0;t<n.length;t++){let o=n[t];if(o.start.x===i.x&&o.start.y===i.y){r.push(o),n.splice(t,1),a=!0;break}else if(o.end.x===i.x&&o.end.y===i.y){r.push({start:o.end,end:o.start}),n.splice(t,1),a=!0;break}}if(!a)break}return r.reverse(),r}function g(t){let n=[];for(let r of t)n.push(r.start);return n}function _(t,n=20,r=40){if(t.length===0)return[];let i=[...t],a=[];for(let t=0;t<i.length;t++){let o=i[(t+i.length-1)%i.length],s=i[t],c=i[(t+1)%i.length],l=v(o,s),u=v(s,c),d=v(c,o),f=[l,u,d];f.sort((t,n)=>t-n);let[p,m,h]=f,g=1e-5*Math.max(h,1);if(!(Math.abs(p+m-h)<=g)){a.push(s);continue}let _={x:o.x-s.x,y:o.y-s.y},y=Math.sqrt(_.x*_.x+_.y*_.y),b={x:s.x+_.x/y*n,y:s.y+_.y/y*n},x={x:c.x-s.x,y:c.y-s.y},S=Math.sqrt(x.x*x.x+x.y*x.y),C={x:s.x+x.x/S*n,y:s.y+x.y/S*n};for(let t=0;t<=r;t++){let n=t/r,i=(1-n)*(1-n)*b.x+2*(1-n)*n*s.x+n*n*C.x,o=(1-n)*(1-n)*b.y+2*(1-n)*n*s.y+n*n*C.y;a.push({x:i,y:o})}}return a}function v(t,n){let r=t.x-n.x,i=t.y-n.y;return r*r+i*i}function y(t,n,r,i,a=3){r==null?t.noFill():t.fill(r[0],r[1],r[2]),i==null?t.noStroke():t.stroke(i[0],i[1],i[2]),t.strokeWeight(a),t.beginShape();for(let r of n)t.vertex(r.x,r.y);t.endShape(t.CLOSE),t.strokeWeight(1)}new d.default(t=>{let n=[[52,152,219],[230,126,34],[46,204,113],[231,76,60],[142,68,173],[241,196,15]],r=new f({x:50,y:50},8,8,40,5),i=0,a=n[Math.floor(Math.random()*n.length)],o=!1;t.setup=()=>{t.createCanvas(window.innerWidth,window.innerHeight).parent(`#app`)},t.draw=()=>{if(t.background(60),!r.grid.isEmpty()){let n=m(450,50,r.grid.copy(),72),s=h(n),c=g(s),l=_(c,i);o?y(t,l,null,a):y(t,l,a,null)}r.draw(t),t.noStroke(),t.fill(0),t.textSize(15),t.text(`Instructions:
Click on the squares in the grid to create a shape

KeyBinds:
MouseWheel or Q and E for changing the radius
R to reset
S to change draw mode`,50,445)},t.mouseClicked=()=>{r.mouseInput(t.mouseX,t.mouseY)},t.mouseWheel=n=>(i=t.constrain(i+(n.deltaY<0?3:-3),0,36),!1),t.keyPressed=()=>{t.key===`q`?i=t.constrain(i-5,0,36):t.key===`e`&&(i=t.constrain(i+5,0,36)),t.key==`r`&&(a=n[Math.floor(Math.random()*n.length)],r.grid=p.empty(r.rows,r.columns),r.grid.setCell(1,0,0)),t.key==`s`&&(o=!o)}});